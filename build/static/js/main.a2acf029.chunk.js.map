{"version":3,"sources":["serviceWorker.js","utils/firebase.js","components/Loader.js","components/Modal.js","utils/validar_rfc.js","components/AddCustomer.js","pages/Customers.js","components/single-customer-generals-fields/SingleCustomerGeneralsEstado.js","components/single-customer-generals-fields/SingleCustomerGeneralsMunicipio.js","components/single-customer-generals-fields/SingleCustomerGeneralsLocalidad.js","components/single-customer-generals-fields/SingleCustomerGeneralsCP.js","components/single-customer-generals-fields/SingleCustomerGeneralsColonia.js","pages/SingleCustomerGenerals.js","pages/SingleCustomerComercials.js","pages/SingleCustomer.js","components/AddBill.js","components/Customer.js","pages/Billing.js","pages/Quotes.js","pages/SingleQuote.js","pages/SingleBill.js","pages/Sales.js","components/AddVendor.js","pages/Vendors.js","pages/SingleVendor.js","pages/PurchaseOrders.js","components/prints/PrintPurchaseOrder.js","pages/SinglePurchaseOrder.js","pages/Purchases.js","components/AddFinancialMove.js","pages/FinancialState.js","pages/Incomes.js","pages/Expenses.js","pages/Receivable.js","pages/Debts.js","pages/Accounting.js","components/AddWarehouse.js","pages/Warehouse.js","pages/Travels.js","pages/Vehicles.js","pages/Messages.js","pages/Configuration.js","components/warehouse/WarehouseList.js","components/AddressSetter.js","pages/SingleWarehouse.js","components/AddEmployee.js","pages/Payroll.js","components/AddPayrollCategory.js","components/AddPaymentMetod.js","components/AddPackaging.js","pages/Catalogs.js","pages/SinglePayroll.js","pages/SingleVehicle.js","pages/SingleTravel.js","components/AddRemission.js","components/WarehouseItem.js","pages/Remissions.js","components/WarehouseSetter.js","utils/prices.js","components/AddContent.js","components/remissions/RemissionContent.js","components/remissions/RemissionDetail.js","components/remissions/RemissionInvoice.js","components/AddPayment.js","components/remissions/RemissionBalance.js","pages/SingleRemission.js","pages/ExcelReader.js","pages/Uploader.js","App.js","pages/Login.js","utils/theme.js","pages/Registry.js","index.js"],"names":["Boolean","window","location","hostname","match","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","this","auth","firestore","storage","email","password","signInWithEmailAndPassword","name","a","timestamp","moment","valueOf","createUserWithEmailAndPassword","collection","doc","currentUser","uid","set","id","rol","signOut","Promise","resolve","onAuthStateChanged","onSnapshot","snap","data","col","item","ref","userId","userEmail","movesRef","move","type","what","index","value","update","delete","file","uploadFile","route","reject","ext","split","pop","fileName","child","put","on","snapshot","bytesTransferred","totalBytes","error","getDownloadURL","then","url","cover","useStyles","makeStyles","theme","container","width","height","display","justifyContent","alignItems","Loader","classes","className","CircularProgress","modal","outline","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","open","handleClose","children","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Paper","component","Container","maxWidth","rfcValido","rfc","aceptarGenerico","re","validado","suma","digitoEsperado","digitoVerificador","rfcSinDigito","slice","join","len","length","diccionario","indice","i","indexOf","charAt","AddCustomer","history","useHistory","useState","state","setstate","regimenes","setregimenes","cps","setcps","useEffect","fetch","res","text","result","XMLParser","parseFromString","map","c_RegimenFiscal","attributes","Descripcion","Fisica","Moral","c_CodigoPostal","c_Estado","c_Municipio","c_Localidad","handleChange","newState","FormControl","css","fullWidth","variant","InputLabel","htmlFor","Select","native","ID_REGIMEN_F","onChange","e","target","label","inputProps","aria-label","key","TextField","RAZON_SOCIAL","RFC","CP","CORREO","CORREO_FACTURACION","TELEFONO","Button","onClick","color","firebase","getCollection","where","get","empty","findRegimen","_","find","o","REFIMEN_F","findCp","console","log","undefined","ID_CP","simpleAdd","push","alert","message","Customers","list","setlist","setopen","docs","Table","TableHead","TableRow","TableCell","align","TableBody","IconButton","Link","to","SingleCustomerGeneralsEstado","options","defaultValue","getOptionLabel","newCustomer","ID_PAIS","Autocomplete","newValue","renderInput","params","autoComplete","SingleCustomerGeneralsMunicipio","municipios","setmunicipios","ESTADO","Clave","SingleCustomerGeneralsLocalidad","localidades","setlocalidades","filter","uniqBy","SingleCustomerGeneralsCP","MUNICIPIO","SingleCustomerGeneralsColonia","colonias","setcolonias","SingleCustomerGenerals","props","customer","setcustomer","setnewCustomer","estados","setestados","paises","setpaises","permisos","setpermisos","haveChanges","isEqual","getDocument","Pais","c_Pais","CveTransporte","val","Grid","md","sm","NOMBRE_COMERCIAL","PAIS","option","LOCALIDAD","COLONIA","CALLE","NUMERO_EXT","NUMERO_INT","ENTRE_CALLES_1","ENTRE_CALLES_2","TIPO_PERMISO","disabled","SingleCustomerComercials","xs","DIAS_CRE","sx","m","Input","LIMITE_CR","startAdornment","InputAdornment","position","foreignAccount","foreignpaymentMethod","SingleCustomer","loc","pathname","ButtonGroup","size","style","cursor","Box","paddingY","path","exact","AddBill","customers","setcustomers","phone","date","format","amount","Customer","exists","Billing","Checkbox","checked","isPaid","Quotes","SingleQuote","quote","setquote","List","ListItem","collectType","deliveryType","collectLocation","deliveryLocation","packets","packages","weight","large","SingleBill","bill","setbill","numeral","Sales","AddVendor","NOMBRE","ZONA","newDate","FECHA_ING","Vendors","SingleVendor","vendor","setvendor","page","Divider","Item","handlePayment","incomes","setincomes","totalIncomes","reduce","sum","n","prods","products","total","product","cost","quantity","folio","paymentStatus","processStatus","PurchaseOrders","vendors","setvendors","setdate","quotations","setquotations","month","setMonth","payment","setPayment","current","initialMonth","startOf","endMonth","endOf","orderBy","subsum","subn","price","user","marginBottom","subtract","fontSize","Typography","margin","add","TableFooter","colSpan","prevValue","User","setuser","Printable","src","alt","marginTop","textAlign","locale","customerId","deliveringPlace","borderCollapse","tableLayout","borderBottom","Component","PrintPurchaseOrder","el","componentRef","trigger","content","pageStyle","filtered","moves","Number","balance","concept","SinglePurchaseOrder","setproducts","order","setorder","selected","setselected","setquantity","setconcept","setamount","today","ListItemText","primary","secondary","handleRemoveProduct","Object","keys","newList","orderId","Purchases","AddFinanceMove","settype","prevBalance","FinancialState","setData","months","setMonths","prevMonth","prevObjs","prevTotal","totalExpenses","Incomes","Expenses","Receivable","receivable","setreceivable","Debts","debts","setdebts","Accounting","anchorEl","setAnchorEl","modalOpen","setmodalOpen","AppBar","Toolbar","aria-controls","aria-haspopup","edge","event","currentTarget","keepMounted","PaperProps","maxHeight","ITEM_HEIGHT","MenuItem","AddWarehouse","Warehouse","Travels","travels","settravels","employees","setemployees","vehicles","setvehicles","warehouse","setwarehouse","vehicle","placas","brand","model","year","driver","from","status","Vehicles","last","rend","Messages","messages","setmessages","noRead","isRead","read","justify","Card","CardHeader","action","title","subheader","CardContent","Configuration","lg","guide","description","WarehouseList","inprocess","setinprocess","inwarehouse","setinwarehouse","done","setdone","AddressSetter","handleSelect","OutlinedInput","endAdornment","isEmpty","disablePadding","ListItemButton","formatted_address","origin","replace","axios","response","results","catch","SingleWarehouse","obj","setobj","newobj","address","onSubmit","preventDefault","AddEmployee","categories","setcategories","category","Payroll","AddPayrollCategory","AddPaymentMethod","clave","Catalogs","paymentmethods","setpaymentmethods","packagingType","setpackagingType","dense","ListItemSecondaryAction","onDoubleClick","SinglePayroll","employee","setemployee","SingleVehicle","setvehicle","travelId","role","travel","ListItemIcon","disableRipple","SingleTravel","settravel","remissions","setremissions","gap","AddRemission","selectedCustomer","setselectedCustomer","haveCredit","daysCredit","disablePortal","WarehouseItem","Remissions","WarehouseSetter","labelId","prices","m3","kg","cities","calculator","head","AddContent","remissionId","packaging","resp","some","ware","includes","secondFilter","RemissionContent","freight","iva","RemissionDetail","remission","handleUpdate","paymentmethod","declaratedValue","solicitor","senderContact","helperText","senderName","senderRFC","multiline","rows","senderComments","senderType","senderAddress","receiverContact","receiverName","receiverRFC","receiverPhone","receiverEmail","receiverComments","receiverType","receiverAddress","RemissionInvoice","handleInvoice","discount","product_key","tax_included","conditions","invoiceData","legalName","items","paymentForm","JSON","stringify","sendInvoice","invoice","downloadInvoice","method","responseType","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","cancelInvoice","AddPayment","reference","setreference","isoDate","toISOString","uuid","RemissionBalance","payments","setpayments","totalPayments","payment_form","related","installment","last_balance","paymentInvoice","TabPanel","other","hidden","p","a11yProps","SingleRemission","setremission","setValue","setcontent","snapChild","cust","borderColor","Tabs","Tab","ExcelReader","lasted","setlasted","onFileLoaded","fileInfo","drop","Uploader","forEach","root","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","toolbar","mixins","drawerPaper","flexGrow","formItem","createMuiTheme","red","indigo","main","A400","routes","ThemeProvider","CssBaseline","setname","setemail","setpassword","register","login","useTheme","mobileOpen","setMobileOpen","setUser","isInitialized","userSession","logout","handleDrawerToggle","button","fontWeight","noWrap","Hidden","smUp","implementation","Drawer","anchor","direction","ModalProps","xsDown","render","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a2acf029.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import app from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\n\nimport moment from 'moment'\n\nconst config = {\n    apiKey: \"AIzaSyA39LHNEgqASAk51V0za88oji_Em2rN8lo\",\n    authDomain: \"auto-express-24-horas.firebaseapp.com\",\n    databaseURL: \"https://auto-express-24-horas.firebaseio.com\",\n    projectId: \"auto-express-24-horas\",\n    storageBucket: \"auto-express-24-horas.appspot.com\",\n    messagingSenderId: \"72162770837\",\n    appId: \"1:72162770837:web:e81a825fdf120c1bcb009c\",\n    measurementId: \"G-JZGL4FZ05B\"\n}\n\nclass Firebase {\n    constructor() {\n        app.initializeApp(config)\n        this.auth = app.auth()\n        this.firestore = app.firestore()\n        this.storage = app.storage()\n    }\n\n    login(email, password) {\n        return this.auth.signInWithEmailAndPassword(email,password)\n    }\n    async register (name,email,password) {\n        const timestamp = moment().valueOf()\n        await this.auth.createUserWithEmailAndPassword(email,password)\n        return this.firestore.collection('users').doc(this.auth.currentUser.uid).set({\n            name,\n            email,\n            password,\n            timestamp,\n            id: this.auth.currentUser.uid,\n            rol: 'user'\n        })\n    }\n    logout() {\n        return this.auth.signOut()\n    }\n\n    isInitialized() {\n        return new Promise(resolve => {\n            this.auth.onAuthStateChanged(resolve)\n        })\n    }\n    userSession() {\n        return new Promise(resolve => {\n            if (this.auth.currentUser) {\n                this.firestore.collection('users').doc(this.auth.currentUser.uid).onSnapshot(snap => {\n                    resolve(snap.data())\n                })\n            }\n        })\n    }\n\n    async addOnUser(col, item) {\n        const ref = this.firestore.collection('users').doc(this.auth.currentUser.uid).collection(col).doc()\n        item.id = ref.id\n        item.timestamp = moment().valueOf()\n        await ref.set(item)\n        return ref.id\n    }\n    async simpleAdd(item,col) {\n        const ref = this.firestore.collection(col).doc()\n        item.id = ref.id\n        item.timestamp = moment().valueOf()\n        item.userId = this.auth.currentUser.uid\n        item.userEmail = this.auth.currentUser.email\n        await ref.set(item)\n        const movesRef = this.firestore.collection('usersMoves').doc()\n        const move = {\n            col,\n            timestamp: moment().valueOf(),\n            id: movesRef.id,\n            type: 'Agregar',\n            what: ref.id,\n            userId: this.auth.currentUser.uid\n        }\n        await movesRef.set(move)\n        return ref.id\n    }\n\n    getCollection(col) {\n        const ref = this.firestore.collection(col)\n        return ref\n    }\n    getDocument(col,doc) {\n        const ref = this.firestore.collection(col).doc(doc)\n        return ref\n    }\n    update (col,doc,index,value) {\n        const ref = this.firestore.collection(col).doc(doc)\n        return ref.update({ [index]: value })\n    }\n    async delete(col,doc,data) {\n        const ref = this.firestore.collection(col).doc(doc)\n        await ref.delete();\n        const movesRef = this.firestore.collection('usersMoves').doc();\n        const move = {\n            col,\n            timestamp: moment().valueOf(),\n            id: movesRef.id,\n            type: 'Borrar',\n            what: ref.id,\n            userId: this.auth.currentUser.uid,\n            data\n        };\n        return movesRef.set(move);\n    }\n    async addFileDoc (col,doc,index,file) {\n        const uploadFile = (route,file,name) => {\n            return new Promise((resolve,reject) => {\n                const ext = file.name.split('.').pop()\n                const fileName = `${name}.${ext}`;\n                const uploadFile = this.storage.ref(route).child(fileName).put(file);\n                uploadFile.on('state_changed', snapshot => {\n                    const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                    return progress\n                }, error => {\n                    reject(error)\n                }, () => {\n                    uploadFile.snapshot.ref.getDownloadURL().then(url => {\n                        resolve(url)\n                    })\n                });\n            })\n        }\n        const ref = this.firestore.collection(col).doc(doc)\n        const url = await uploadFile(`${col}/${doc}`,file,index)\n        return ref.update({ [index]: url }).then(() => {\n            return url\n        })\n    }\n\n    async addNew (file,item) {\n        const col = 'images'\n        const ref = this.firestore.collection(col).doc()\n        const uploadFile = (route,file,name) => {\n            return new Promise((resolve,reject) => {\n                const ext = file.name.split('.').pop()\n                const fileName = `${name}.${ext}`;\n                const uploadFile = this.storage.ref(route).child(fileName).put(file);\n                uploadFile.on('state_changed', snapshot => {\n                    const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                    return progress\n                }, error => {\n                    reject(error)\n                }, () => {\n                    uploadFile.snapshot.ref.getDownloadURL().then(url => {\n                        resolve(url)\n                    })\n                });\n            })\n        }\n        const url = await uploadFile(`images/${ref.id}`,file,'cover')\n        item.id = ref.id\n        item.timestamp = moment().valueOf()\n        item.userId = this.auth.currentUser.uid\n        item.userEmail = this.auth.currentUser.email\n        item.cover = url\n        await ref.set(item)\n        const movesRef = this.firestore.collection('usersMoves').doc()\n        const move = {\n            col,\n            timestamp: moment().valueOf(),\n            id: movesRef.id,\n            type: 'Agregar',\n            what: ref.id,\n            userId: this.auth.currentUser.uid\n        }\n        await movesRef.set(move)\n        return ref.id\n    }\n}\n\nexport default new Firebase()","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles(theme => ({\n    container : {\n        width: '100%',\n        height: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n    }\n}))\n\nexport default function Loader () {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.container}>\n            <CircularProgress />\n        </div>\n    )\n}","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { Container, Paper } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        outline: 'none'\n    },\n    paper: {\n        backgroundColor: theme.palette.background.paper,\n        border: '2px solid #000',\n        boxShadow: theme.shadows[5],\n        padding: theme.spacing(2, 4, 3),\n    },\n}));\n\nexport default ({ open, handleClose, children }) => {\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            aria-labelledby=\"transition-modal-title\"\n            aria-describedby=\"transition-modal-description\"\n            className={classes.modal}\n            open={open}\n            onClose={handleClose}\n            closeAfterTransition\n            BackdropComponent={Backdrop}\n            BackdropProps={{\n                timeout: 500,\n            }}\n        >\n            <Fade in={open}>\n                <Paper className={classes.paper} component={Container} maxWidth=\"xs\">\n                    {children}\n                </Paper>\n            </Fade>\n        </Modal>\n    )\n}","export default function rfcValido(rfc, aceptarGenerico = true) {\n  const re =\n    /^([A-ZÑ&]{3,4}) ?(?:- ?)?(\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])) ?(?:- ?)?([A-Z\\d]{2})([A\\d])$/;\n  var validado = rfc.match(re);\n\n  if (!validado)\n    // Coincide con el formato general del regex?\n    return false;\n\n  // Separar el dígito verificador del resto del RFC\n  const digitoVerificador = validado.pop(),\n    rfcSinDigito = validado.slice(1).join(\"\"),\n    len = rfcSinDigito.length,\n    // Obtener el digito esperado\n    diccionario = \"0123456789ABCDEFGHIJKLMN&OPQRSTUVWXYZ Ñ\",\n    indice = len + 1;\n  var suma, digitoEsperado;\n\n  if (len == 12) suma = 0;\n  else suma = 481; // Ajuste para persona moral\n\n  for (var i = 0; i < len; i++)\n    suma += diccionario.indexOf(rfcSinDigito.charAt(i)) * (indice - i);\n  digitoEsperado = 11 - (suma % 11);\n  if (digitoEsperado == 11) digitoEsperado = 0;\n  else if (digitoEsperado == 10) digitoEsperado = \"A\";\n\n  // El dígito verificador coincide con el esperado?\n  // o es un RFC Genérico (ventas a público general)?\n  if (\n    digitoVerificador != digitoEsperado &&\n    (!aceptarGenerico || rfcSinDigito + digitoVerificador != \"XAXX010101000\")\n  )\n    return false;\n  else if (\n    !aceptarGenerico &&\n    rfcSinDigito + digitoVerificador == \"XEXX010101000\"\n  )\n    return false;\n  return rfcSinDigito + digitoVerificador;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  TextField,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\nimport rfcValido from \"../utils/validar_rfc\";\nimport XMLParser from \"react-xml-parser\";\nimport _ from \"lodash\";\n\nexport default function AddCustomer() {\n  const history = useHistory();\n  const [state, setstate] = useState({});\n  const [regimenes, setregimenes] = useState([]);\n  const [cps, setcps] = useState([]);\n\n  useEffect(() => {\n    fetch(\"/resources/CAT_REGIMENFISCAL40.xml\")\n      .then((res) => res.text())\n      .then((data) => {\n        var xml = new XMLParser().parseFromString(data);\n        var pre = xml.children;\n        const result = pre.map((item) => ({\n          c_RegimenFiscal: item.attributes.c_RegimenFiscal,\n          Descripcion: item.attributes.Descripcion,\n          Fisica: item.attributes.Fisica,\n          Moral: item.attributes.Moral,\n        }));\n        setregimenes(result);\n      });\n    fetch(\"/resources/CAT_CODIGO_POSTAL.xml\")\n      .then((res) => res.text())\n      .then((data) => {\n        var xml = new XMLParser().parseFromString(data);\n        var pre = xml.children;\n        const result = pre.map((item) => ({\n          c_CodigoPostal: item.attributes.c_CodigoPostal,\n          c_Estado: item.attributes.c_Estado,\n          c_Municipio: item.attributes.c_Municipio,\n          c_Localidad: item.attributes.c_Localidad,\n        }));\n        setcps(result);\n      });\n  }, []);\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  // console.log(rfcValido(\"BENE980920DL\"));\n\n  return (\n    <>\n      <h3>Nuevo Cliente</h3>\n      <FormControl\n        css={css`\n          margin-top: 0rem;\n        `}\n        fullWidth\n        variant=\"outlined\"\n      >\n        <InputLabel htmlFor=\"ID_REGIMEN_F\">Régimen Fiscal</InputLabel>\n        <Select\n          native\n          value={state.ID_REGIMEN_F}\n          onChange={(e) => handleChange(\"ID_REGIMEN_F\", e.target.value)}\n          label=\"RÉGIMEN FISCAL\"\n          inputProps={{\n            name: \"ID_REGIMEN_F\",\n            id: \"ID_REGIMEN_F\",\n          }}\n        >\n          <option aria-label=\"None\" value=\"\" />\n          {regimenes.map((item, index) => (\n            <option key={index} value={item.c_RegimenFiscal}>\n              {item.Descripcion}\n            </option>\n          ))}\n        </Select>\n      </FormControl>\n      <TextField\n        label=\"Nombre de persona o razón social\"\n        value={state.RAZON_SOCIAL}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"RAZON_SOCIAL\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"RFC\"\n        value={state.RFC}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"RFC\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Código Postal\"\n        value={state.CP}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"CP\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Correo Principal\"\n        value={state.CORREO}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"CORREO\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Correo Facturación\"\n        value={state.CORREO_FACTURACION}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"CORREO_FACTURACION\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Teléfono\"\n        value={state.TELEFONO}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"TELEFONO\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Agregar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (\n        state.ID_REGIMEN_F &&\n        state.RAZON_SOCIAL &&\n        state.RFC &&\n        state.CP &&\n        state.CORREO &&\n        state.CORREO_FACTURACION &&\n        state.TELEFONO\n      ) {\n        firebase\n          .getCollection(\"customers\")\n          .where(\"email\", \"==\", state.RAZON_SOCIAL)\n          .get()\n          .then((snap) => {\n            if (snap.empty) {\n              firebase\n                .getCollection(\"customers\")\n                .where(\"RFC\", \"==\", state.RFC)\n                .get()\n                .then((snap) => {\n                  if (snap.empty) {\n                    firebase\n                      .getCollection(\"customers\")\n                      .where(\"CORREO\", \"==\", state.CORREO)\n                      .get()\n                      .then((snap) => {\n                        if (snap.empty) {\n                          firebase\n                            .getCollection(\"customers\")\n                            .where(\"TELEFONO\", \"==\", state.TELEFONO)\n                            .get()\n                            .then((snap) => {\n                              if (snap.empty) {\n                                var newState = { ...state };\n                                const findRegimen = _.find(\n                                  regimenes,\n                                  function (o) {\n                                    return (\n                                      o.c_RegimenFiscal === state.ID_REGIMEN_F\n                                    );\n                                  }\n                                );\n                                newState.REFIMEN_F = findRegimen.Descripcion;\n                                const findCp = _.find(cps, function (o) {\n                                  return o.c_CodigoPostal === state.CP;\n                                });\n                                console.log(findCp);\n                                if (findCp !== undefined) {\n                                  newState.ID_CP = findCp.c_CodigoPostal;\n                                  console.log(rfcValido(state.RFC));\n                                  if (rfcValido(state.RFC)) {\n                                    console.log(\"valido RFC\");\n                                    firebase\n                                      .simpleAdd(newState, \"customers\")\n                                      .then((id) => {\n                                        history.push(`/ventas/clientes/${id}`);\n                                      });\n                                  } else {\n                                    alert(\"El RFC ingresado no es válido\");\n                                  }\n                                } else {\n                                  alert(\"Código Postal inválido\");\n                                }\n                              } else {\n                                alert(\"Estiste un cliente con ese teléfono\");\n                              }\n                            });\n                        } else {\n                          alert(\"Existe un cliente con ese correo\");\n                        }\n                      });\n                  } else {\n                    alert(\"Existe un cliente con ese rfc\");\n                  }\n                });\n            } else {\n              alert(\"Existe un cliente con esa razón social\");\n            }\n          });\n      } else {\n        alert(\"Completa todos los datos para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Button,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nimport Modal from \"../components/Modal\";\nimport AddCustomer from \"../components/AddCustomer\";\n\nexport default function Customers() {\n  const [list, setlist] = useState([]);\n  const [open, setopen] = useState(false);\n\n  useEffect(() => {\n    firebase.getCollection(\"customers\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setlist(data);\n    });\n  }, []);\n\n  const handleClose = () => {\n    setopen(false);\n  };\n\n  return (\n    <>\n      <div\n        css={css`\n          display: flex;\n          width: 100%;\n        `}\n      >\n        <Button\n          css={css`\n            margin-left: auto;\n          `}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => setopen(!open)}\n        >\n          Nuevo Cliente\n        </Button>\n      </div>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Razón Social\n            </TableCell>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              RFC\n            </TableCell>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Correo Principal\n            </TableCell>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Ver más\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {list.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell>{item.RAZON_SOCIAL}</TableCell>\n              <TableCell>{item.RFC}</TableCell>\n              <TableCell>{item.CORREO}</TableCell>\n              <TableCell align=\"center\">\n                <IconButton\n                  component={Link}\n                  to={`/ventas/clientes/${item.id}`}\n                  color=\"primary\"\n                >\n                  <ArrowForwardIosIcon />\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <Modal open={open} handleClose={handleClose}>\n        <AddCustomer />\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../../utils/firebase\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\n\nexport default function SingleCustomerGeneralsEstado({\n  id,\n  options,\n  defaultValue,\n  handleChange,\n  getOptionLabel,\n  newCustomer,\n}) {\n  return newCustomer ? (\n    newCustomer.ID_PAIS === \"MEX\" ? (\n      <Autocomplete\n        id={id}\n        options={options}\n        defaultValue={defaultValue}\n        onChange={(e, newValue) => handleChange(newValue, \"ESTADO\")}\n        getOptionLabel={getOptionLabel}\n        renderInput={(params) => (\n          <TextField\n            fullWidth\n            {...params}\n            autoComplete=\"off\"\n            label=\"Estado\"\n            variant=\"standard\"\n            inputProps={{\n              ...params.inputProps,\n              autoComplete: \"new-password\",\n            }}\n          />\n        )}\n      />\n    ) : (\n      <TextField\n        id={id}\n        fullWidth\n        defaultValue={defaultValue}\n        onChange={(e) => handleChange(e.target.value, \"ESTADO\")}\n        autoComplete=\"off\"\n        label=\"Estado\"\n        variant=\"standard\"\n        inputProps={{\n          autoComplete: \"new-password\",\n        }}\n      />\n    )\n  ) : (\n    \"\"\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../../utils/firebase\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\n\nexport default function SingleCustomerGeneralsMunicipio({\n  id,\n  options,\n  defaultValue,\n  handleChange,\n  getOptionLabel,\n  newCustomer,\n}) {\n  const [municipios, setmunicipios] = useState([]);\n\n  useEffect(() => {\n    if (newCustomer.ESTADO?.Clave) {\n      firebase\n        .getCollection(\"municipios\")\n        .where(\"Estado\", \"==\", newCustomer.ESTADO.Clave)\n        .get()\n        .then((snap) => {\n          const data = snap.docs.map((doc) => doc.data());\n          setmunicipios(data);\n        });\n    }\n  }, [newCustomer.ESTADO]);\n\n  return newCustomer ? (\n    newCustomer.ID_PAIS === \"MEX\" ? (\n      <Autocomplete\n        id={id}\n        options={municipios}\n        defaultValue={defaultValue}\n        onChange={(e, newValue) => handleChange(newValue, \"MUNICIPIO\")}\n        getOptionLabel={getOptionLabel}\n        renderInput={(params) => (\n          <TextField\n            fullWidth\n            {...params}\n            autoComplete=\"off\"\n            label=\"Municipio\"\n            variant=\"standard\"\n            inputProps={{\n              ...params.inputProps,\n              autoComplete: \"new-password\",\n            }}\n          />\n        )}\n      />\n    ) : (\n      <TextField\n        id={id}\n        fullWidth\n        defaultValue={defaultValue}\n        onChange={(e) => handleChange(e.target.value, \"MUNICIPIO\")}\n        autoComplete=\"off\"\n        label=\"Municipio\"\n        variant=\"standard\"\n        inputProps={{\n          autoComplete: \"new-password\",\n        }}\n      />\n    )\n  ) : (\n    \"\"\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../../utils/firebase\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport _ from \"lodash\";\n\nexport default function SingleCustomerGeneralsLocalidad({\n  id,\n  options,\n  defaultValue,\n  handleChange,\n  getOptionLabel,\n  newCustomer,\n}) {\n  const [localidades, setlocalidades] = useState([]);\n\n  useEffect(() => {\n    if (newCustomer.ESTADO?.Clave) {\n      firebase\n        .getCollection(\"localidades\")\n        .where(\"Estado\", \"==\", newCustomer.ESTADO.Clave)\n        .get()\n        .then((snap) => {\n          const data = snap.docs.map((doc) => doc.data());\n          const filter = _.uniqBy(data, \"Descripcion\");\n          setlocalidades(filter);\n        });\n    }\n  }, [newCustomer.ESTADO]);\n\n  return newCustomer ? (\n    newCustomer.ID_PAIS === \"MEX\" ? (\n      <Autocomplete\n        id={id}\n        options={localidades}\n        defaultValue={defaultValue}\n        onChange={(e, newValue) => handleChange(newValue, \"LOCALIDAD\")}\n        getOptionLabel={getOptionLabel}\n        renderInput={(params) => (\n          <TextField\n            fullWidth\n            {...params}\n            autoComplete=\"off\"\n            label=\"Localidad\"\n            variant=\"standard\"\n            inputProps={{\n              ...params.inputProps,\n              autoComplete: \"new-password\",\n            }}\n          />\n        )}\n      />\n    ) : (\n      <TextField\n        id={id}\n        fullWidth\n        defaultValue={defaultValue}\n        onChange={(e) => handleChange(e.target.value, \"LOCALIDAD\")}\n        autoComplete=\"off\"\n        label=\"Localidad\"\n        variant=\"standard\"\n        inputProps={{\n          autoComplete: \"new-password\",\n        }}\n      />\n    )\n  ) : (\n    \"\"\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../../utils/firebase\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport _ from \"lodash\";\n\nexport default function SingleCustomerGeneralsCP({\n  id,\n  defaultValue,\n  handleChange,\n  getOptionLabel,\n  newCustomer,\n}) {\n  const [cps, setcps] = useState([]);\n\n  useEffect(() => {\n    if (newCustomer.ESTADO?.Clave && newCustomer.MUNICIPIO?.Clave) {\n      firebase\n        .getCollection(\"cps\")\n        .where(\n          \"c_Estado\",\n          \"==\",\n          newCustomer.ESTADO.Clave === \"CMX\" ? \"DIF\" : newCustomer.ESTADO.Clave\n        )\n        .where(\"c_Municipio\", \"==\", newCustomer.MUNICIPIO.Clave)\n        .get()\n        .then((snap) => {\n          const data = snap.docs.map((doc) => doc.data());\n          setcps(data);\n        });\n    }\n  }, [newCustomer.ESTADO, newCustomer.MUNICIPIO]);\n\n  return newCustomer ? (\n    newCustomer.ID_PAIS === \"MEX\" ? (\n      <Autocomplete\n        id={id}\n        options={cps}\n        defaultValue={defaultValue}\n        onChange={(e, newValue) => handleChange(newValue, \"CP\")}\n        getOptionLabel={getOptionLabel}\n        renderInput={(params) => (\n          <TextField\n            fullWidth\n            {...params}\n            autoComplete=\"off\"\n            label=\"Código Postal\"\n            variant=\"standard\"\n            inputProps={{\n              ...params.inputProps,\n              autoComplete: \"new-password\",\n            }}\n          />\n        )}\n      />\n    ) : (\n      <TextField\n        id={id}\n        fullWidth\n        defaultValue={defaultValue}\n        onChange={(e) => handleChange(e.target.value, \"CP\")}\n        autoComplete=\"off\"\n        label=\"Código Postal\"\n        variant=\"standard\"\n        inputProps={{\n          autoComplete: \"new-password\",\n        }}\n      />\n    )\n  ) : (\n    \"\"\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../../utils/firebase\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport _ from \"lodash\";\n\nexport default function SingleCustomerGeneralsColonia({\n  id,\n  defaultValue,\n  handleChange,\n  getOptionLabel,\n  newCustomer,\n}) {\n  const [colonias, setcolonias] = useState([]);\n\n  useEffect(() => {\n    if (newCustomer.CP?.c_CodigoPostal) {\n      firebase\n        .getCollection(\"colonias\")\n        .where(\"c_CodigoPostal\", \"==\", newCustomer.CP.c_CodigoPostal)\n        .get()\n        .then((snap) => {\n          const data = snap.docs.map((doc) => doc.data());\n          setcolonias(data);\n        });\n    }\n  }, [newCustomer.CP]);\n\n  return newCustomer ? (\n    newCustomer.ID_PAIS === \"MEX\" ? (\n      <Autocomplete\n        id={id}\n        options={colonias}\n        defaultValue={defaultValue}\n        onChange={(e, newValue) => handleChange(newValue, \"COLONIA\")}\n        getOptionLabel={getOptionLabel}\n        renderInput={(params) => (\n          <TextField\n            fullWidth\n            {...params}\n            autoComplete=\"off\"\n            label=\"Colonia\"\n            variant=\"standard\"\n            inputProps={{\n              ...params.inputProps,\n              autoComplete: \"new-password\",\n            }}\n          />\n        )}\n      />\n    ) : (\n      <TextField\n        id={id}\n        fullWidth\n        defaultValue={defaultValue}\n        onChange={(e) => handleChange(e.target.value, \"COLONIA\")}\n        autoComplete=\"off\"\n        label=\"Colonia\"\n        variant=\"standard\"\n        inputProps={{\n          autoComplete: \"new-password\",\n        }}\n      />\n    )\n  ) : (\n    \"\"\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport {\n  FormControl,\n  InputLabel,\n  Button,\n  Select,\n  Grid,\n} from \"@material-ui/core\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport { css } from \"@emotion/core\";\nimport Loader from \"../components/Loader\";\nimport XMLParser from \"react-xml-parser\";\nimport _ from \"lodash\";\n\nimport SingleCustomerGeneralsEstado from \"../components/single-customer-generals-fields/SingleCustomerGeneralsEstado\";\nimport SingleCustomerGeneralsMunicipio from \"../components/single-customer-generals-fields/SingleCustomerGeneralsMunicipio\";\nimport SingleCustomerGeneralsLocalidad from \"../components/single-customer-generals-fields/SingleCustomerGeneralsLocalidad\";\nimport SingleCustomerGeneralsCP from \"../components/single-customer-generals-fields/SingleCustomerGeneralsCP\";\nimport SingleCustomerGeneralsColonia from \"../components/single-customer-generals-fields/SingleCustomerGeneralsColonia\";\n\nexport default function SingleCustomerGenerals(props) {\n  const { id } = props.match.params;\n  const [customer, setcustomer] = useState(null);\n  const [newCustomer, setnewCustomer] = useState({});\n  const [regimenes, setregimenes] = useState([]);\n  const [estados, setestados] = useState([]);\n  const [paises, setpaises] = useState([]);\n  const [permisos, setpermisos] = useState([]);\n\n  const haveChanges = _.isEqual(customer, newCustomer);\n\n  useEffect(() => {\n    firebase\n      .getDocument(\"customers\", id)\n      .get()\n      .then((snap) => {\n        const data = snap.data();\n        setcustomer(data);\n        setnewCustomer(data);\n      });\n    fetch(\"/resources/CAT_REGIMENFISCAL40.xml\")\n      .then((res) => res.text())\n      .then((data) => {\n        var xml = new XMLParser().parseFromString(data);\n        var pre = xml.children;\n        const result = pre.map((item) => ({\n          c_RegimenFiscal: item.attributes.c_RegimenFiscal,\n          Descripcion: item.attributes.Descripcion,\n          Fisica: item.attributes.Fisica,\n          Moral: item.attributes.Moral,\n        }));\n        setregimenes(result);\n      });\n    fetch(\"/resources/CAT_ESTADOS.xml\")\n      .then((res) => res.text())\n      .then((data) => {\n        var xml = new XMLParser().parseFromString(data);\n        var pre = xml.children;\n        const result = pre.map((item) => ({\n          Clave: item.attributes.Clave,\n          Pais: item.attributes.Pais,\n          Descripcion: item.attributes.Descripcion,\n        }));\n        setestados(result);\n      });\n    fetch(\"/resources/CAT_PAIS.xml\")\n      .then((res) => res.text())\n      .then((data) => {\n        var xml = new XMLParser().parseFromString(data);\n        var pre = xml.children;\n        const result = pre.map((item) => ({\n          c_Pais: item.attributes.c_Pais,\n          Descripcion: item.attributes.Descripcion,\n        }));\n        setpaises(result);\n      });\n    fetch(\"/resources/CAT_TIPO_PERMISO.xml\")\n      .then((res) => res.text())\n      .then((data) => {\n        var xml = new XMLParser().parseFromString(data);\n        var pre = xml.children;\n        const result = pre.map((item) => ({\n          Clave: item.attributes.Clave,\n          Descripcion: item.attributes.Descripcion,\n          CveTransporte: item.attributes.CveTransporte,\n        }));\n        setpermisos(result);\n      });\n  }, [id]);\n\n  const handleChange = (val, index) => {\n    var newState = { ...newCustomer };\n    newState[index] = val ? val : \"\";\n    setnewCustomer(newState);\n  };\n\n  return customer && newCustomer ? (\n    <Grid container spacing={2}>\n      <Grid item md={6} sm={12}>\n        <FormControl\n          css={css`\n            margin-top: 0rem;\n          `}\n          fullWidth\n        >\n          <InputLabel htmlFor=\"ID_REGIMEN_F\">Régimen Fiscal</InputLabel>\n          <Select\n            native\n            defaultValue={customer.ID_REGIMEN_F}\n            onChange={(e) => handleChange(e.target.value, \"ID_REGIMEN_F\")}\n            label=\"RÉGIMEN FISCAL\"\n            inputProps={{\n              name: \"ID_REGIMEN_F\",\n              id: \"ID_REGIMEN_F\",\n            }}\n          >\n            <option aria-label=\"None\" value=\"\" />\n            {regimenes.map((item, index) => (\n              <option key={index} value={item.c_RegimenFiscal}>\n                {item.Descripcion}\n              </option>\n            ))}\n          </Select>\n        </FormControl>\n        <TextField\n          defaultValue={customer.RAZON_SOCIAL}\n          onChange={(e) => handleChange(e.target.value, \"RAZON_SOCIAL\")}\n          id=\"RAZON_SOCIAL\"\n          label=\"Razón Social\"\n          variant=\"standard\"\n          fullWidth\n          autoComplete=\"off\"\n        />\n        <TextField\n          defaultValue={customer.NOMBRE_COMERCIAL}\n          onChange={(e) => handleChange(e.target.value, \"NOMBRE_COMERCIAL\")}\n          id=\"NOMBRE_COMERCIAL\"\n          label=\"Nombre Comercial\"\n          variant=\"standard\"\n          fullWidth\n          autoComplete=\"off\"\n        />\n        <TextField\n          defaultValue={customer.RFC}\n          onChange={(e) => handleChange(e.target.value, \"RFC\")}\n          id=\"RFC\"\n          label=\"RFC\"\n          variant=\"standard\"\n          fullWidth\n          autoComplete=\"off\"\n        />\n        <Autocomplete\n          id=\"PAIS\"\n          options={paises}\n          defaultValue={customer.PAIS}\n          onChange={(e, newValue) => handleChange(newValue, \"PAIS\")}\n          getOptionLabel={(option) => option.Descripcion}\n          renderInput={(params) => (\n            <TextField\n              variant=\"standard\"\n              fullWidth\n              {...params}\n              autoComplete=\"off\"\n              label=\"País\"\n              inputProps={{\n                ...params.inputProps,\n                autoComplete: \"new-password\",\n              }}\n            />\n          )}\n        />\n        <SingleCustomerGeneralsEstado\n          id=\"ESTADO\"\n          options={estados}\n          defaultValue={customer.ESTADO}\n          handleChange={handleChange}\n          getOptionLabel={(option) => option.Descripcion}\n          newCustomer={newCustomer}\n        />\n        <SingleCustomerGeneralsLocalidad\n          id=\"LOCALIDAD\"\n          defaultValue={customer.LOCALIDAD}\n          handleChange={handleChange}\n          getOptionLabel={(option) => option.Descripcion}\n          newCustomer={newCustomer}\n        />\n        <SingleCustomerGeneralsMunicipio\n          id=\"MUNICIPIO\"\n          defaultValue={customer.MUNICIPIO}\n          handleChange={handleChange}\n          getOptionLabel={(option) => option.Descripcion}\n          newCustomer={newCustomer}\n        />\n        <SingleCustomerGeneralsCP\n          id=\"CP\"\n          defaultValue={customer.CP}\n          handleChange={handleChange}\n          getOptionLabel={(option) => option.c_CodigoPostal}\n          newCustomer={newCustomer}\n        />\n        <SingleCustomerGeneralsColonia\n          id=\"COLONA\"\n          defaultValue={customer.COLONIA}\n          handleChange={handleChange}\n          getOptionLabel={(option) => option.Descripcion}\n          newCustomer={newCustomer}\n        />\n        <TextField\n          defaultValue={customer.CALLE}\n          onChange={(e) => handleChange(e.target.value, \"CALLE\")}\n          id=\"CALLE\"\n          label=\"Calle\"\n          variant=\"standard\"\n          fullWidth\n          inputProps={{\n            autoComplete: \"new-password\",\n          }}\n        />\n        <TextField\n          defaultValue={customer.NUMERO_EXT}\n          onChange={(e) => handleChange(e.target.value, \"NUMERO_EXT\")}\n          id=\"NUMERO_EXT\"\n          label=\"Número Exterior\"\n          variant=\"standard\"\n          fullWidth\n          inputProps={{\n            autoComplete: \"new-password\",\n          }}\n        />\n        <TextField\n          defaultValue={customer.NUMERO_INT}\n          onChange={(e) => handleChange(e.target.value, \"NUMERO_INT\")}\n          id=\"NUMERO_INT\"\n          label=\"Número Interior\"\n          variant=\"standard\"\n          fullWidth\n          inputProps={{\n            autoComplete: \"new-password\",\n          }}\n        />\n        <TextField\n          defaultValue={customer.ENTRE_CALLES_1}\n          onChange={(e) => handleChange(e.target.value, \"ENTRE_CALLES_1\")}\n          id=\"ENTRE_CALLES_1\"\n          label=\"Entre Calles 1\"\n          variant=\"standard\"\n          fullWidth\n          inputProps={{\n            autoComplete: \"new-password\",\n          }}\n        />\n        <TextField\n          defaultValue={customer.ENTRE_CALLES_2}\n          onChange={(e) => handleChange(e.target.value, \"ENTRE_CALLES_2\")}\n          id=\"ENTRE_CALLES_2\"\n          label=\"Entre Calles 2\"\n          variant=\"standard\"\n          fullWidth\n          inputProps={{\n            autoComplete: \"new-password\",\n          }}\n        />\n      </Grid>\n      <Grid item md={6} sm={12}>\n        <TextField\n          defaultValue={customer.CORREO_FACTURACION}\n          onChange={(e) => handleChange(e.target.value, \"CORREO_FACTURACION\")}\n          id=\"CORREO_FACTURACION\"\n          label=\"Correo de Facturación\"\n          variant=\"standard\"\n          fullWidth\n          inputProps={{\n            autoComplete: \"new-password\",\n          }}\n        />\n        <Autocomplete\n          id=\"TIPO_PERMISO\"\n          options={permisos}\n          defaultValue={customer.TIPO_PERMISO}\n          onChange={(e, newValue) => handleChange(newValue, \"TIPO_PERMISO\")}\n          getOptionLabel={(option) => option.Descripcion}\n          renderInput={(params) => (\n            <TextField\n              variant=\"standard\"\n              fullWidth\n              {...params}\n              autoComplete=\"off\"\n              label=\"Tipo de Permiso\"\n              inputProps={{\n                ...params.inputProps,\n                autoComplete: \"new-password\",\n              }}\n            />\n          )}\n        />\n        {/* <TextField\n          defaultValue={customer.status}\n          onChange={(e) => handleChange(e.target.value, \"status\")}\n          id=\"status\"\n          label=\"Estatus\"\n          variant=\"standard\"\n          fullWidth\n        /> */}\n      </Grid>\n      <Button\n        css={css`\n          position: fixed;\n          bottom: 1rem;\n          right: 1rem;\n        `}\n        disabled={haveChanges}\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleSave}\n      >\n        Guardar Cambios\n      </Button>\n    </Grid>\n  ) : (\n    <Loader />\n  );\n\n  async function handleSave() {\n    try {\n      await firebase.firestore\n        .collection(\"customers\")\n        .doc(id)\n        .update(newCustomer)\n        .then(() => {\n          alert(\"Cambios guardados\");\n        });\n    } catch (error) {\n      console.log(error);\n      alert(error.message);\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { TextField, Grid } from \"@material-ui/core\";\nimport Loader from \"../components/Loader\";\nimport { FormControl, Input, InputAdornment, InputLabel } from \"@mui/material\";\n\nexport default function SingleCustomerComercials(props) {\n  const { id } = props.match.params;\n  const [customer, setcustomer] = useState(null);\n  const [newCustomer, setnewCustomer] = useState(null);\n\n  useEffect(() => {\n    firebase\n      .getDocument(\"customers\", id)\n      .get()\n      .then((snap) => {\n        const data = snap.data();\n        setcustomer(data);\n        setnewCustomer(data);\n      });\n  }, [id]);\n\n  const handleChange = (val, index) => {\n    var newState = { ...newCustomer };\n    newState[index] = val;\n    setnewCustomer(newState);\n  };\n\n  return customer ? (\n    <Grid container spacing={2}>\n      <Grid item md={6} xs={12}>\n        <TextField\n          defaultValue={customer.DIAS_CRE}\n          onChange={(e) => handleChange(e.target.value, \"DIAS_CRE\")}\n          id=\"DIAS_CRE\"\n          label=\"Días de crédito\"\n          variant=\"standard\"\n          type=\"number\"\n          fullWidth\n        />\n        <FormControl fullWidth sx={{ m: 1 }} variant=\"standard\">\n          <InputLabel htmlFor=\"LIMITE_CR\">Límite de Crédito</InputLabel>\n          <Input\n            id=\"LIMITE_CR\"\n            value={customer.LIMITE_CR}\n            onChange={(e) => handleChange(e.target.value, \"LIMITE_CR\")}\n            startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\n            type=\"number\"\n          />\n        </FormControl>\n        <ul>\n          <li>Saldo Actual: $0.00</li>\n          <li>Saldo Vencido: $0.00</li>\n          <li>Fecha Último Pago: </li>\n          <li>Saldo Última Venta: </li>\n        </ul>\n      </Grid>\n      <Grid item md={6} xs={12}>\n        <TextField\n          defaultValue={customer.foreignAccount}\n          onChange={(e) => handleChange(e.target.value, \"foreignAccount\")}\n          id=\"foreignAccount\"\n          label=\"Cuenta Extranjera\"\n          variant=\"standard\"\n          fullWidth\n        />\n        <TextField\n          defaultValue={customer.foreignpaymentMethod}\n          onChange={(e) => handleChange(e.target.value, \"foreignpaymentMethod\")}\n          id=\"foreignPaymentMethod\"\n          label=\"Método de Pago\"\n          variant=\"standard\"\n          fullWidth\n        />\n      </Grid>\n    </Grid>\n  ) : (\n    <Loader />\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport { Button, Container, ButtonGroup, Box } from \"@material-ui/core\";\nimport Loader from \"../components/Loader\";\n\nimport SingleCustomerGenerals from \"./SingleCustomerGenerals\";\nimport SingleCustomerComercials from \"./SingleCustomerComercials\";\n\nexport default function SingleCustomer(props) {\n  const loc = props.location.pathname.split(\"/\")[4];\n  console.log(loc);\n\n  const { id } = props.match.params;\n  const [customer, setcustomer] = useState(null);\n\n  useEffect(() => {\n    firebase\n      .getDocument(\"customers\", id)\n      .get()\n      .then((snap) => {\n        const data = snap.data();\n        setcustomer(data);\n      });\n  }, [id]);\n\n  return customer ? (\n    <Container>\n      <ButtonGroup\n        size=\"large\"\n        color=\"primary\"\n        aria-label=\"large outlined primary button group\"\n      >\n        <Button style={{ cursor: \"default\" }} variant=\"contained\">\n          {customer.RAZON_SOCIAL}\n        </Button>\n        <Button\n          disabled={loc === undefined ? true : \"\"}\n          component={Link}\n          to={`/ventas/clientes/${id}`}\n        >\n          Generales\n        </Button>\n        <Button\n          disabled={loc === \"comerciales\" ? true : \"\"}\n          component={Link}\n          to={`/ventas/clientes/${id}/comerciales`}\n        >\n          Comerciales\n        </Button>\n        <Button\n          disabled={loc === \"contactos\" ? true : \"\"}\n          component={Link}\n          to={`/ventas/clientes/${id}/contactos`}\n        >\n          Contactos\n        </Button>\n      </ButtonGroup>\n      <Box paddingY=\"1rem\">\n        <Switch>\n          <Route\n            path=\"/ventas/clientes/:id\"\n            component={SingleCustomerGenerals}\n            exact={true}\n          />\n          <Route\n            path=\"/ventas/clientes/:id/comerciales\"\n            component={SingleCustomerComercials}\n            exact={true}\n          />\n        </Switch>\n      </Box>\n    </Container>\n  ) : (\n    <Loader />\n  );\n}\n","import React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport firebase from '../utils/firebase'\nimport { Button, FormControl, InputLabel, Select, TextField } from '@material-ui/core'\nimport moment from 'moment'\nimport { css } from '@emotion/core'\n\nexport default function AddBill () {\n\n    const history = useHistory();\n    const [state,setstate] = useState({})\n    const [customers,setcustomers] = useState([])\n\n    const handleChange = (index,value) => {\n        var newState = {...state}\n        newState[index] = value\n        setstate(newState)\n    }\n\n    useEffect(() => {\n        firebase.getCollection('customers').get().then(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setcustomers(data)\n        })\n    },[])\n\n    return (\n        <>\n            <h3>Nueva Factura</h3>\n            <FormControl css={css`\n                margin-top: 0rem;\n            `} fullWidth variant=\"outlined\">\n                <InputLabel htmlFor=\"customer\">Cliente</InputLabel>\n                <Select\n                    native\n                    value={state.customer}\n                    onChange={e => handleChange('customer',e.target.value)}\n                    label=\"Cliente\"\n                    inputProps={{\n                        name: 'customer',\n                        id: 'customer',\n                    }}\n                >\n                    <option aria-label=\"None\" value=\"\" />\n                    {\n                        customers.map(item => <option key={item.id} value={item.id}>{item.name} - {item.email} - {item.phone}</option>)\n                    }\n                </Select>\n            </FormControl>\n            <TextField\n                label=\"Fecha\"\n                value={moment(state.date).format('YYYY-MM-DD')}\n                fullWidth\n                variant=\"outlined\"\n                onChange={e => handleChange('date',moment(e.target.value,'YYYY-MM-DD').valueOf())}\n                css={css`\n                    margin-top: 1rem;\n                `}\n                type=\"date\"\n            />\n            <TextField\n                label=\"Monto\"\n                value={state.amount}\n                fullWidth\n                variant=\"outlined\"\n                onChange={e => handleChange('amount',e.target.value)}\n                css={css`\n                    margin-top: 1rem;\n                `}\n                type=\"number\"\n            />\n            <Button onClick={handleSubmit} css={css`\n                margin-top: 1rem;\n            `} variant=\"contained\" fullWidth color=\"primary\">Agregar</Button>\n        </>\n    )\n\n    async function handleSubmit () {\n        try {\n            if (state.date && state.customer && state.amount) {\n                firebase.simpleAdd(state,'billing').then(id => {\n                    history.push(`/ventas/facturacion/${id}`)\n                });\n            } else {\n                alert('Completa todos los campos para continuar')\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n}","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport { css } from \"@emotion/core\";\n\nexport default function Customer({ id, index }) {\n  const [customer, setcustomer] = useState({});\n\n  useEffect(() => {\n    if (id) {\n      firebase\n        .getDocument(\"customers\", id)\n        .get()\n        .then((snap) => {\n          if (snap.exists) {\n            setcustomer(snap.data());\n          }\n        });\n    }\n  }, [id]);\n\n  return (\n    <Link\n      css={css`\n        text-decoration: none;\n        color: black;\n      `}\n      to={`/ventas/clientes/${id}`}\n    >\n      {customer[index ? index : \"name\"]}\n    </Link>\n  );\n}\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport firebase from '../utils/firebase'\nimport { Button, Checkbox, IconButton, Table, TableBody, TableCell, TableHead, TableRow } from '@material-ui/core'\nimport { css } from '@emotion/core'\nimport moment from 'moment'\n\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\n\nimport Modal from '../components/Modal'\nimport AddBill from '../components/AddBill';\nimport Customer from '../components/Customer';\n\nexport default function Billing () {\n\n    const [list,setlist] = useState([])\n    const [open,setopen] = useState(false)\n\n    useEffect(() => {\n        firebase.getCollection('billing').onSnapshot(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setlist(data)\n        })\n    },[])\n\n    const handleClose = () => {\n        setopen(false)\n    }\n\n    return (\n        <>\n            <div css={css`\n                display: flex;\n                width: 100%;\n            `}>\n                <Button css={css`\n                    margin-left: auto;\n                `} variant=\"contained\" color=\"primary\" onClick={() => setopen(!open)}>Nueva Factura</Button>\n            </div>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Pagado</TableCell>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Fecha</TableCell>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Cliente</TableCell>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Monto</TableCell>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Ver más</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {\n                        list.map(item => <TableRow key={item.id}>\n                            <TableCell align=\"center\"><Checkbox disabled checked={item.isPaid} /></TableCell>\n                            <TableCell>{moment(item.date).format('DD-MM-YYYY')}</TableCell>\n                            <TableCell><Customer id={item.customer} /></TableCell>\n                            <TableCell>{item.amount}</TableCell>\n                            <TableCell align=\"center\"><IconButton component={Link} to={`/ventas/facturacion/${item.id}`} color=\"primary\"><ArrowForwardIosIcon/></IconButton></TableCell>\n                        </TableRow>)\n                    }\n                </TableBody>\n            </Table>\n            <Modal open={open} handleClose={handleClose}>\n                <AddBill/>\n            </Modal>\n        </>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport firebase from '../utils/firebase'\nimport { Button, Checkbox, IconButton, Table, TableBody, TableCell, TableHead, TableRow } from '@material-ui/core'\nimport { css } from '@emotion/core'\nimport moment from 'moment'\n\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\n\nexport default function Quotes () {\n\n    const [list,setlist] = useState([])\n    const [open,setopen] = useState(false)\n\n    useEffect(() => {\n        firebase.getCollection('quotes').onSnapshot(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setlist(data)\n        })\n    },[])\n\n    const handleClose = () => {\n        setopen(false)\n    }\n\n    return (\n        <>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Fecha</TableCell>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Nombre</TableCell>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Email</TableCell>\n                        <TableCell variant=\"head\" component=\"th\" align=\"center\">Ver más</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {\n                        list.map(item => <TableRow key={item.id}>\n                            <TableCell>{moment(item.timestamp).format('DD-MM-YYYY')}</TableCell>\n                            <TableCell>{item.name}</TableCell>\n                            <TableCell>{item.email}</TableCell>\n                            <TableCell align=\"center\"><IconButton component={Link} to={`/ventas/cotizaciones/${item.id}`} color=\"primary\"><ArrowForwardIosIcon/></IconButton></TableCell>\n                        </TableRow>)\n                    }\n                </TableBody>\n            </Table>\n        </>\n    )\n}","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Container,\n  List,\n  ListItem,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\nimport Loader from \"../components/Loader\";\n\nexport default function SingleQuote(props) {\n  const { id } = props.match.params;\n  const [quote, setquote] = useState(null);\n\n  useEffect(() => {\n    firebase\n      .getDocument(\"quotes\", id)\n      .get()\n      .then((snap) => {\n        const data = snap.data();\n        setquote(data);\n      });\n  }, [id]);\n\n  return quote ? (\n    <Container>\n      <h3>Detalle de Cliente</h3>\n      <List>\n        <ListItem>\n          <b>Nombre: </b>\n          <span>{quote.name}</span>\n        </ListItem>\n        <ListItem>\n          <b>Email: </b>\n          <span>{quote.email}</span>\n        </ListItem>\n        <ListItem>\n          <b>Teléfono: </b>\n          <span>{quote.phone}</span>\n        </ListItem>\n      </List>\n      <Table\n        css={css`\n          width: 100%;\n          table-layout: fixed;\n          margin-top: 2rem;\n          th {\n            text-align: left !important;\n          }\n        `}\n      >\n        <TableBody>\n          <TableRow>\n            <TableCell>Tipo de Recolección</TableCell>\n            <TableCell>{quote.collectType}</TableCell>\n            <TableCell>Tipo de Entrega</TableCell>\n            <TableCell>{quote.deliveryType}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Lugar de Recolección</TableCell>\n            <TableCell>\n              {quote.collectType === \"Recolección en Sucursal\"\n                ? quote.collectLocation\n                : quote.collectLocation}\n            </TableCell>\n            <TableCell>Lugar de Entrega</TableCell>\n            <TableCell>\n              {quote.deliveryType === \"Entrega en Sucursal\"\n                ? quote.deliveryLocation\n                : quote.deliveryLocation}\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n      <List>\n        <ListItem>\n          <b>Cantidad de sobres: </b> <span>{quote.packets}</span>\n        </ListItem>\n      </List>\n      <Table\n        css={css`\n          width: 100%;\n          table-layout: fixed;\n          margin-top: 2rem;\n        `}\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\">#</TableCell>\n            <TableCell>Peso</TableCell>\n            <TableCell>Largo</TableCell>\n            <TableCell>Ancho</TableCell>\n            <TableCell>Alto</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {quote.packages?.map((item, index) => (\n            <TableRow key={index}>\n              <TableCell\n                css={css`\n                  text-align: center;\n                `}\n              >\n                {index + 1}\n              </TableCell>\n              <TableCell>{item.weight} kg</TableCell>\n              <TableCell>{item.large} cm</TableCell>\n              <TableCell>{item.width} cm</TableCell>\n              <TableCell>{item.height} cm</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Container>\n  ) : (\n    <Loader />\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Button,\n  ButtonGroup,\n  Container,\n  List,\n  ListItem,\n} from \"@material-ui/core\";\nimport numeral from \"numeral\";\nimport moment from \"moment\";\nimport { css } from \"@emotion/core\";\n\nimport Loader from \"../components/Loader\";\nimport Customer from \"../components/Customer\";\n\nexport default function SingleBill(props) {\n  const { id } = props.match.params;\n  const [bill, setbill] = useState(null);\n\n  useEffect(() => {\n    firebase\n      .getDocument(\"billing\", id)\n      .get()\n      .then((snap) => {\n        const data = snap.data();\n        setbill(data);\n      });\n  }, [id]);\n\n  return bill ? (\n    <Container>\n      <h3>Detalle de Cliente</h3>\n      <List>\n        <ListItem>\n          <b>ID: </b>\n          <span\n            css={css`\n              margin-left: 0.5rem;\n            `}\n          >\n            {id}\n          </span>\n        </ListItem>\n        <ListItem>\n          <b>Fecha: </b>\n          <span\n            css={css`\n              margin-left: 0.5rem;\n            `}\n          >\n            {moment(bill.date).format(\"DD/MM/YYYY\")}\n          </span>\n        </ListItem>\n        <ListItem>\n          <b>Cliente: </b>\n          <span\n            css={css`\n              margin-left: 0.5rem;\n            `}\n          >\n            {\" \"}\n            <Customer id={bill.customer} />\n          </span>\n        </ListItem>\n        <ListItem>\n          <b>Monto: </b>\n          <span\n            css={css`\n              margin-left: 0.5rem;\n            `}\n          >\n            {numeral(bill.amount).format(\"$0,0.00\")}\n          </span>\n        </ListItem>\n      </List>\n      <h3\n        css={css`\n          margin-top: 2rem;\n        `}\n      >\n        Acciones\n      </h3>\n      <ButtonGroup\n        variant=\"text\"\n        color=\"primary\"\n        aria-label=\"contained primary button group\"\n      >\n        <Button>Timbrar y enviar factura</Button>\n        <Button>Marcar como Pagada</Button>\n        <Button>Cancelar Factura</Button>\n      </ButtonGroup>\n    </Container>\n  ) : (\n    <Loader />\n  );\n}\n","import React from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport { Container, ButtonGroup, Button, Box } from \"@material-ui/core\";\n\nimport Customers from \"./Customers\";\nimport SingleCustomer from \"./SingleCustomer\";\nimport Billing from \"./Billing\";\nimport Quotes from \"./Quotes\";\nimport SingleQuote from \"./SingleQuote\";\nimport SingleBill from \"./SingleBill\";\n\nexport default function Sales(props) {\n  const loc = props.location.pathname.split(\"/\")[2];\n  // const { rol } = props\n\n  return (\n    <Container>\n      <ButtonGroup\n        size=\"large\"\n        color=\"primary\"\n        aria-label=\"large outlined primary button group\"\n      >\n        <Button style={{ cursor: \"default\" }} variant=\"contained\">\n          Ventas\n        </Button>\n        <Button\n          disabled={loc === undefined ? true : \"\"}\n          component={Link}\n          to=\"/ventas\"\n        >\n          Clientes\n        </Button>\n        <Button\n          disabled={loc === \"facturacion\" ? true : \"\"}\n          component={Link}\n          to=\"/ventas/facturacion\"\n        >\n          Facturación\n        </Button>\n        <Button\n          disabled={loc === \"cotizaciones\" ? true : \"\"}\n          component={Link}\n          to=\"/ventas/cotizaciones\"\n        >\n          Cotizaciones\n        </Button>\n      </ButtonGroup>\n      <Box paddingY=\"1rem\">\n        <Switch>\n          <Route path=\"/ventas\" component={Customers} exact={true} />\n          <Route path=\"/ventas/facturacion\" component={Billing} exact={true} />\n          <Route\n            path=\"/ventas/facturacion/:id\"\n            component={SingleBill}\n            exact={true}\n          />\n          <Route path=\"/ventas/cotizaciones\" component={Quotes} exact={true} />\n          <Route\n            path=\"/ventas/cotizaciones/:id\"\n            component={SingleQuote}\n            exact={true}\n          />\n          <Route path=\"/ventas/clientes/:id\" component={SingleCustomer} />\n        </Switch>\n      </Box>\n    </Container>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\nimport moment from \"moment\";\n\nexport default function AddVendor() {\n  const history = useHistory();\n  const [state, setstate] = useState({});\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  return (\n    <>\n      <h3>Nuevo Proveedor</h3>\n      <TextField\n        label=\"Nombre\"\n        value={state.NOMBRE}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"NOMBRE\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Correo\"\n        value={state.CORREO}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"CORREO\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"RFC\"\n        value={state.RFC}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"RFC\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Zona\"\n        value={state.ZONA}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"ZONA\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Teléfono\"\n        value={state.TELEFONO}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"TELEFONO\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Fecha de Ingreso\"\n        value={state.phone}\n        fullWidth\n        variant=\"outlined\"\n        type=\"date\"\n        onChange={(e) => handleChange(\"FECHA_ING\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Agregar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (state.NOMBRE && state.CORREO && state.TELEFONO) {\n        var newState = { ...state };\n        var newDate = moment(state.FECHA_ING, \"YYYY-MM-DD\").valueOf();\n        newState.FECHA_ING = newDate;\n        firebase.simpleAdd(newState, \"vendors\").then((id) => {\n          alert(\"Vendedor Agregado\");\n          // history.push(`/vendedores/${id}`);\n        });\n      } else {\n        alert(\"Completa nombre, email y teléfono para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Button,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nimport Modal from \"../components/Modal\";\nimport AddVendor from \"../components/AddVendor\";\n\nexport default function Vendors() {\n  const [list, setlist] = useState([]);\n  const [open, setopen] = useState(false);\n\n  useEffect(() => {\n    firebase.getCollection(\"vendors\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setlist(data);\n    });\n  }, []);\n\n  const handleClose = () => {\n    setopen(false);\n  };\n\n  return (\n    <>\n      <div\n        css={css`\n          display: flex;\n          width: 100%;\n        `}\n      >\n        <Button\n          css={css`\n            margin-left: auto;\n          `}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => setopen(!open)}\n        >\n          Nuevo Vendedor\n        </Button>\n      </div>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Nombre\n            </TableCell>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Email\n            </TableCell>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Teléfono\n            </TableCell>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Ver más\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {list.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell>{item.NOMBRE}</TableCell>\n              <TableCell>{item.CORREO}</TableCell>\n              <TableCell>{item.TELEFONO}</TableCell>\n              <TableCell align=\"center\">\n                <IconButton\n                  component={Link}\n                  to={`/vendedores/${item.id}`}\n                  color=\"primary\"\n                  disabled\n                >\n                  <ArrowForwardIosIcon />\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <Modal open={open} handleClose={handleClose}>\n        <AddVendor />\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from 'react'\nimport firebase from '../utils/firebase'\nimport { Container, Divider, FormControl, InputLabel, Select, Table, TableBody, TableCell, TableRow, TextField } from '@material-ui/core'\nimport { css } from '@emotion/core'\nimport Loader from '../components/Loader'\n\nexport default function SingleVendor (props) {\n\n    const { id } = props.match.params\n    const [vendor,setvendor] = useState(null)\n\n    useEffect(() => {\n        firebase.getDocument('vendors',id).get().then(snap => {\n            const data = snap.data()\n            setvendor(data)\n        })\n    },[id])\n\n    return vendor ? (\n        <Container>\n            <h3>Detalle de Cliente</h3>\n            <Table css={css`\n                width: 100%;\n                max-width: 35rem;\n            `}>\n                <TableBody>\n                    <TableRow>\n                        <TableCell component=\"th\" variant=\"head\">Nombre de persona o razón social</TableCell>\n                        <TableCell>{vendor.name}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell component=\"th\" variant=\"head\">Email</TableCell>\n                        <TableCell>{vendor.email}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell component=\"th\" variant=\"head\">Teléfono</TableCell>\n                        <TableCell>{vendor.phone}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell component=\"th\" variant=\"head\">Página web</TableCell>\n                        <TableCell>{vendor.page}</TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n            <Divider/>\n            <h3>Cotizaciones</h3>\n            <Divider/>\n            <h3>Órdenes de Compra</h3>\n            <Divider/>\n            <h3>Estado de Cuenta</h3>\n        </Container>\n    ) : <Loader />\n}","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport firebase from '../utils/firebase';\nimport { Grid, TextField, Button, Table, TableHead, TableRow, TableCell, TableBody, IconButton, Paper, Box, Typography, Select, TableFooter } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport { css } from '@emotion/core';\nimport numeral from 'numeral';\nimport moment from 'moment';\nimport _ from 'lodash';\n\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\n\nconst Item = ({ data, handlePayment }) => {\n\n    const [vendor,setvendor] = useState({})\n    const [incomes,setincomes] = useState('')\n\n    useEffect(() => {\n        if (data.vendor) {\n            firebase.getDocument('vendors',data.vendor).get().then(snap => {\n                setvendor(snap.data())\n            })\n        }\n    },[data.vendor])\n\n    useEffect(() => {\n        if (data.id) {\n            firebase.getCollection('finance-moves').where('type','==','cargo').where('orderId','==',data.id).onSnapshot(snap => {\n                const incomes = snap.docs.map(doc => doc.data())\n                const totalIncomes = _.reduce(incomes, (sum,n) => {\n                    return sum + n.amount\n                },0)\n                setincomes(totalIncomes)\n                handlePayment(totalIncomes)\n            })\n        }\n    },[data.id])\n\n    const prods = data.products ? data.products : [];\n\n    const total = _.reduce(prods, (sum,n) => {\n        return sum + ((n.product ? n.product.cost : 0)*n.quantity)\n    },0)\n\n    return (\n        <TableRow>\n            <TableCell>{moment(data.date).format('DD-MM-YYYY')}</TableCell>\n            <TableCell>{data.folio}</TableCell>\n            <TableCell>{vendor ? vendor.name : ''}</TableCell>\n            <TableCell>{numeral(total).format('$0,0.00')}</TableCell>\n            <TableCell>{numeral(incomes).format('$0,0.00')}</TableCell>\n            <TableCell>{numeral(total-incomes).format('$0,0.00')}</TableCell>\n            <TableCell>\n                <Select\n                    native\n                    value={data.paymentStatus}\n                    onChange={e => firebase.update('purchase-orders',data.id,'paymentStatus',e.target.value)}\n                >\n                    <option aria-label=\"None\" value=\"\" />\n                    <option value=\"Anticipo\">Anticipo</option>\n                    <option value=\"Pagado\">Pagado</option>\n                    <option value=\"Cancelado\">Cancelado</option>\n                </Select>\n            </TableCell>\n            <TableCell>\n                <Select\n                    native\n                    value={data.processStatus}\n                    onChange={e => firebase.update('purchase-orders',data.id,'processStatus',e.target.value)}\n                >\n                    <option aria-label=\"None\" value=\"\" />\n                    <option value=\"Fabricando\">Fabricando</option>\n                    <option value=\"Completado\">Completado</option>\n                    <option value=\"Entregado\">Entregado</option>\n                    <option value=\"Cancelado\">Cancelado</option>\n                </Select>\n            </TableCell>\n            <TableCell><IconButton color=\"primary\" component={Link} to={`/compras/ordenes/${data.id}`}><ArrowForwardIosIcon/></IconButton></TableCell>\n        </TableRow>\n    )\n}\n\nexport default function PurchaseOrders (props) {\n\n    const [vendors,setvendors] = useState([])\n    const [date,setdate] = useState('')\n    const [vendor,setvendor] = useState({})\n    const [quotations,setquotations] = useState([])\n    const [month,setMonth] = useState(undefined)\n    const [payment,setPayment] = useState(0)\n\n    useEffect(() => {\n        firebase.getCollection('vendors').get().then(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setvendors(data)\n        })\n        const current = moment().format('MM-YYYY')\n        setMonth(current)\n    },[])\n\n    useEffect(() => {\n        const initialMonth = moment(month,'MM-YYYY').startOf('month').valueOf()\n        const endMonth = moment(month,'MM-YYYY').endOf('month').valueOf()\n        if (initialMonth && endMonth) {\n            setPayment(0)\n            firebase.getCollection('purchase-orders').orderBy('date').where('date','<=',endMonth).where('date','>=',initialMonth).onSnapshot(snap => {\n                const data = snap.docs.map(doc => doc.data())\n                setquotations(_.orderBy(data,['folio'],['asc']))\n            })\n        }\n    },[month])\n\n    const total = _.reduce(quotations, (sum,n) => {\n        const subtotal = _.reduce(n.products, (subsum,subn) => {\n            return subsum + + ((subn.product ? subn.product.price : 0)*subn.quantity)\n        },0)\n        return sum + subtotal\n    },0)\n\n    return (\n        <>\n            <Grid css={css`\n                margin: 1rem 0;\n            `} component={Paper} alignItems=\"center\" container spacing={3}>\n                <Grid item xs={12} md={4}>\n                    <TextField\n                        label=\"Fecha\"\n                        variant=\"outlined\"\n                        value={date ? date : ''}\n                        onChange={e => setdate(e.target.value)}\n                        type=\"date\"\n                        fullWidth\n                    />\n                </Grid>\n                <Grid item xs={12} md={4}>\n                    <Autocomplete\n                        id=\"combo-box-demo\"\n                        options={vendors}\n                        getOptionLabel={user => user.name}\n                        renderInput={params => <TextField {...params} fullWidth label=\"Proveedor\" variant=\"outlined\" />}\n                        onChange={(e,value) => setvendor(value)}\n                    />\n                </Grid>\n                <Grid item xs={12} md={4}>\n                    <Button onClick={handleSubmit} fullWidth size=\"large\" variant=\"contained\" color=\"secondary\">Continuar <ArrowForwardIcon css={css`\n                        margin-left: .5rem;\n                    `}/></Button>\n                </Grid>\n            </Grid>\n            <Box style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: '2rem' }}>\n                <IconButton onClick={() => setMonth(moment(month,'MM-YYYY').subtract(1,'month').format('MM-YYYY'))} color=\"primary\" size=\"medium\">\n                    <ChevronLeftIcon fontSize=\"large\" />\n                </IconButton>\n                <Typography align=\"center\" style={{ margin: '0 2rem', }} color=\"primary\" variant=\"h6\">{month}</Typography>\n                <IconButton onClick={() => setMonth(moment(month,'MM-YYYY').add(1,'month').format('MM-YYYY'))} color=\"primary\" size=\"medium\">\n                    <ChevronRightIcon fontSize=\"large\" />\n                </IconButton>\n            </Box>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Fecha</TableCell>\n                        <TableCell>Folio</TableCell>\n                        <TableCell>Cliente</TableCell>\n                        <TableCell>Monto</TableCell>\n                        <TableCell>Pagado</TableCell>\n                        <TableCell>Saldo</TableCell>\n                        <TableCell>Estatus Pago</TableCell>\n                        <TableCell>Estatus Operación</TableCell>\n                        <TableCell>Ver</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {\n                        quotations.map(item => <Item key={item.id} handlePayment={handlePayment} data={item} />)\n                    }\n                </TableBody>\n                <TableFooter>\n                    <TableRow>\n                        <TableCell colSpan=\"3\"></TableCell>\n                        <TableCell>{numeral(total).format('$0,0.00')}</TableCell>\n                        <TableCell>{numeral(payment).format('$0,0.00')}</TableCell>\n                        <TableCell>{numeral(total-payment).format('$0,0.00')}</TableCell>\n                    </TableRow>\n                </TableFooter>\n            </Table>\n        </>\n    )\n\n    async function handlePayment (amount) {\n        try {\n            if (amount) {\n                setPayment(prevValue => prevValue+amount)\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n\n    async function handleSubmit () {\n        try {\n            if (date && vendor) {\n                const item = {\n                    date: moment(date,'YYYY-MM-DD').valueOf(),\n                    vendor: vendor.id\n                }\n                firebase.simpleAdd(item,'purchase-orders').then(id => {\n                    props.history.push(`/compras/ordenes/${id}`)\n                })\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n}","import React, { Component, useEffect, useState } from 'react'\nimport firebase from '../../utils/firebase'\nimport ReactToPrint from 'react-to-print'\nimport { Button } from '@material-ui/core'\nimport { css } from '@emotion/core'\nimport moment from 'moment'\nimport numeral from 'numeral'\nimport _ from 'lodash'\n\nimport 'moment/locale/es'\n\nimport PrintIcon from '@material-ui/icons/Print';\n\nconst User = ({ id,index }) => {\n\n    const [user,setuser] = useState({})\n\n    useEffect(() => {\n        if (id) {\n            firebase.getDocument('users',id).get().then(snap => {\n                setuser(snap.data())\n            })\n        }\n    },[id])\n\n    return <span>{user[index]}</span>\n}\n\nclass Printable extends Component {\n    render () {\n        const data = this.props.data ? this.props.data : {}\n\n        const products = data.products ? data.products : []\n\n        const total = _.reduce(products, (sum,n) => {\n            return sum + (n.product.cost*n.quantity)\n        },0)\n\n        return (\n            <div css={css`\n                font-size: 1.2rem;\n            `}>\n                <div>\n                    <img css={css`\n                        width: 10rem;\n                    `} src=\"/img/logo.jpg\" alt=\"Amelia Design\"/>\n                    <p style={{ marginTop: '1rem', textAlign: 'right' }}>\n                        Ciudad de México, a {moment().locale('es').format('DD')} de {moment().locale('es').format('MMMM')} del {moment().locale('es').format('YYYY')}\n                    </p>\n                    <table css={css`\n                        width: 100%;\n                        border-collapse: collapse;\n                        table-layout: fixed;\n                        margin-top: 1rem;\n                        td {\n                            padding: 1rem;\n                        }\n                    `}>\n                        <tbody>\n                            <tr>\n                                <td>Nombre de Cliente: </td>\n                                <td><User id={data.customerId} index=\"name\" /></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Email: </td>\n                                <td><User id={data.customerId} index=\"email\" /></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Teléfono: </td>\n                                <td><User id={data.customerId} index=\"phone\" /></td>\n                                <td></td>\n                            </tr>\n                            <tr>\n                                <td>Lugar de Entrega</td>\n                                <td>{data.deliveringPlace}</td>\n                                <td></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <table css={css`\n                    th {\n                        font-size: 1.2rem;\n                        padding: 1rem;\n                        text-align: center;\n                    }\n                    td {\n                        font-size: 1.2rem;\n                        padding: 1rem;\n                    }\n                `} style={{ width: '100%', borderCollapse: 'collapse', tableLayout: 'fixed', marginTop: '2.5rem', }}>\n                    <thead>\n                        <tr>\n                            <th></th>\n                            <th>Producto</th>\n                            <th>Precio Unitario</th>\n                            <th>Cantidad</th>\n                            <th>Total</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {data.products ? data.products.map((item,index) => <tr key={index}>\n                            <td><img src={item.product.cover} alt={item.product.name} css={css`\n                                width: 5rem;\n                            `} /></td>\n                            <td>{item.product.name}</td>\n                            <td>{numeral(item.product.cost).format('$0,0.00')}</td>\n                            <td css={css`\n                                text-align: center;\n                            `}>{item.quantity}</td>\n                            <td>{numeral(item.product.cost*item.quantity).format('$0,0.00')}</td>\n                        </tr>) : <tr></tr>}\n                        <tr>\n                            <td colSpan=\"3\"></td>\n                            <td>Total</td>\n                            <td>{numeral(total).format('$0,0.00')}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <table style={{ width: '100%', borderCollapse: 'collapse', tableLayout: 'fixed', marginTop: '4.5rem', fontSize: '1.2rem' }}>\n                    <tbody>\n                        <tr>\n                            <td></td>\n                            <td style={{ borderBottom: '1px solid #ccc' }}></td>\n                            <td></td>\n                        </tr>\n                        <tr>\n                            <td></td>\n                            <td style={{ textAlign: 'center' }}><br/>Atentamente:<br />Amelia Design</td>\n                            <td></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}\n\nclass PrintPurchaseOrder extends Component {\n    render() {\n        return (\n            <div className=\"print-btn\">\n                <div style={{ display: 'none' }}><Printable data={this.props.data} ref={el => this.componentRef = el} /></div>\n                <ReactToPrint\n                    trigger={() => <Button color=\"secondary\" fullWidth size=\"large\" variant=\"contained\">{this.props.message} <PrintIcon css={css`\n                        margin-left: .5rem;\n                    `}/></Button>}\n                    content={() => this.componentRef}\n                    pageStyle=\"margin:10mm 0;\"\n                />\n            </div>\n        )\n    }\n}\n\nexport default PrintPurchaseOrder","import React, { useEffect, useState } from 'react';\nimport firebase from '../utils/firebase';\nimport { Typography, List, ListItem, ListItemText, Grid, TextField, Divider, Button, Table, TableHead, TableRow, TableCell, TableBody, TableFooter, Box, Paper, IconButton } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport { css } from '@emotion/core';\nimport numeral from 'numeral';\nimport moment from 'moment';\nimport _ from 'lodash';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PrintPurchaseOrder from '../components/prints/PrintPurchaseOrder';\n\nconst Item = (props) => {\n\n    const filtered = props.moves.slice(0,Number(props.index) + 1);\n    const {data, total} = props\n\n    const balance = _.reduce(filtered, (sum,n) => {\n        return sum - n.amount\n    },total)\n\n    return (\n        <TableRow>\n            <TableCell align=\"center\">\n                <IconButton onClick={() => firebase.delete('finance-moves',data.id,data)} size=\"small\" color=\"secondary\">\n                    <DeleteIcon fontSize=\"small\" />\n                </IconButton>\n            </TableCell>\n            <TableCell>{moment(data.date).format('DD-MM-YYYY')}</TableCell>\n            <TableCell>{data.concept}</TableCell>\n            <TableCell>{data.type === 'cargo' ? numeral(data.amount).format('$0,0.00') : ''}</TableCell>\n            <TableCell>{numeral(balance).format('$0,0.00')}</TableCell>\n        </TableRow>\n    )\n}\n\nexport default function SinglePurchaseOrder (props) {\n\n    const id = props.match.params.id\n\n    const [incomes,setincomes] = useState([])\n    const [products,setproducts] = useState([])\n    const [order,setorder] = useState({})\n    const [user,setuser] = useState({})\n    const [selected,setselected] = useState({})\n    const [quantity,setquantity] = useState('')\n\n    const [date, setdate] = useState('')\n    const [concept, setconcept] = useState('')\n    const [amount, setamount] = useState('')\n\n    useEffect(() => {\n        const today = moment().format('YYYY-MM-DD')\n        setdate(today)\n    },[])\n\n    useEffect(() => {\n        firebase.getDocument('purchase-orders',id).onSnapshot(snap => {\n            setorder(snap.data())\n        })\n        firebase.getCollection('products').onSnapshot(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setproducts(data)\n        })\n        firebase.getCollection('finance-moves').where('type','==','cargo').where('orderId','==',id).onSnapshot(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setincomes(data)\n        })\n    },[id])\n\n    useEffect(() => {\n        if (order.vendor) {\n            firebase.getDocument('vendors',order.vendor).get().then(snap => {\n                setuser(snap.data())\n            })\n        }\n    },[order.vendor])\n\n    const prods = order.products ? order.products : [];\n\n    const total = _.reduce(prods, (sum,n) => {\n        return sum + ((n.product ? n.product.cost : 0)*n.quantity)\n    },0)\n\n    const totalIncomes = _.reduce(incomes, (sum,n) => {\n        return sum + n.amount\n    },0)\n\n    return (\n        <>\n            <Typography css={css`\n                margin-top: 1rem;\n            `} variant=\"h4\" component=\"h1\">Detalle de Orden de Compra</Typography>\n            <Divider\n                css={css`\n                    margin-top: 1rem;\n                `}\n            />\n            <List>\n                <ListItem>\n                    <ListItemText\n                        primary=\"Fecha\"\n                        secondary={(\n                            <TextField\n                                css={css`\n                                    max-width: 30rem;\n                                `}\n                                value={moment(order.date).format('YYYY-MM-DD')}\n                                fullWidth\n                                variant=\"outlined\"\n                                onChange={e => firebase.update('purchase-orders',id,'date', moment(e.target.value,'YYYY-MM-DD').valueOf())}\n                                type=\"date\"\n                            />\n                        )}\n                    />\n                </ListItem>\n                <ListItem>\n                    <ListItemText\n                        primary=\"Nombre de Proveedor\"\n                        secondary={user.name}\n                    />\n                </ListItem>\n                <ListItem>\n                    <ListItemText\n                        primary=\"Email de Proveedor\"\n                        secondary={user.email}\n                    />\n                </ListItem>\n                <ListItem>\n                    <ListItemText\n                        primary=\"Teléfono de Proveedor\"\n                        secondary={user.phone}\n                    />\n                </ListItem>\n                <ListItem>\n                    <ListItemText\n                        primary=\"Por Cobrar\"\n                        secondary={numeral(total-totalIncomes).format('$0,0.00')}\n                    />\n                </ListItem>\n            </List>\n            <Grid container spacing={3}>\n                <Grid item xs={12} md={6}>\n                    <TextField\n                        label=\"Folio\"\n                        value={order.folio ? order.folio : ''}\n                        onChange={e => firebase.update('purchase-orders',id,'folio', e.target.value)}\n                        fullWidth\n                        variant=\"outlined\"\n                        type=\"number\"\n                    />\n                </Grid>\n            </Grid>\n            <Typography css={css`\n                margin-top: 2rem;\n            `} variant=\"h4\">Agregar productos a cotización</Typography>\n            <Grid alignItems=\"center\" css={css`\n                margin-top: 1rem;\n            `} container spacing={3}>\n                <Grid item xs={12} md={4}>\n                    <Autocomplete\n                        options={products}\n                        getOptionLabel={(option) => `${option.name} - ${numeral(option.cost).format('$0,0.00')}`}\n                        onChange={(e,val) => setselected(val)}\n                        renderInput={(params) => <TextField {...params} fullWidth label=\"Producto\" variant=\"outlined\" />}\n                    />\n                </Grid>\n                <Grid item xs={12} md={4}>\n                    <TextField\n                        label=\"Cantidad\"\n                        variant=\"outlined\"\n                        fullWidth\n                        value={quantity}\n                        onChange={e => setquantity(Number(e.target.value))}\n                        type=\"number\"\n                    />\n                </Grid>\n                <Grid item xs={12} md={4}>\n                    <Button onClick={handleAdd} size=\"large\" variant=\"contained\" fullWidth color=\"primary\">Agregar Producto</Button>\n                </Grid>\n            </Grid>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Eliminar</TableCell>\n                        <TableCell>Producto</TableCell>\n                        <TableCell>Precio Unitario</TableCell>\n                        <TableCell>Cantidad</TableCell>\n                        <TableCell>Total</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {prods.map((item,index) => <TableRow key={index}>\n                        <TableCell><IconButton onClick={() => handleRemoveProduct(index)}><DeleteIcon /></IconButton></TableCell>\n                        <TableCell>{item.product.name}</TableCell>\n                        <TableCell>{numeral(item.product.cost).format('$0,0.00')}</TableCell>\n                        <TableCell>{item.quantity}</TableCell>\n                        <TableCell>{numeral(item.product.cost*item.quantity).format('$0,0.00')}</TableCell>\n                    </TableRow>)}\n                </TableBody>\n                <TableFooter>\n                    <TableRow>\n                        <TableCell colSpan=\"2\"></TableCell>\n                        <TableCell align=\"right\">Total</TableCell>\n                        <TableCell>{numeral(total).format('$0,0.00')}</TableCell>\n                    </TableRow>\n                </TableFooter>\n            </Table>\n            <Box display=\"flex\" justifyContent=\"flex-end\" marginTop=\"2rem\" marginBottom=\"2.5rem\">\n                <PrintPurchaseOrder data={order} message=\"Imprimir\" />\n            </Box>\n            <Grid container spacing={3}>\n                <Grid component={Paper} item xs={12} md={4}>\n                    <Typography variant=\"h5\" align=\"center\">Agregar Pago</Typography>\n                    <TextField\n                        label=\"Fecha\"\n                        fullWidth\n                        value={date ? date : ''}\n                        onChange={e => setdate(e.target.value)}\n                        type=\"date\"\n                        css={css`\n                            margin-top: 1rem;\n                        `}\n                    />\n                    <TextField\n                        label=\"Concepto\"\n                        fullWidth\n                        value={concept ? concept : ''}\n                        onChange={e => setconcept(e.target.value)}\n                    />\n                    <TextField\n                        label=\"Monto\"\n                        fullWidth\n                        value={amount ? amount : ''}\n                        onChange={e => setamount(e.target.value)}\n                        css={css`\n                            margin-bottom: 1rem;\n                        `}\n                        type=\"number\"\n                    />\n                    <Button onClick={handleIncome} fullWidth color=\"secondary\" variant=\"outlined\">Agregar</Button>\n                </Grid>\n                <Grid item xs={12} md={8}>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Eliminar</TableCell>\n                                <TableCell>Fecha</TableCell>\n                                <TableCell>Concepto</TableCell>\n                                <TableCell>Monto</TableCell>\n                                <TableCell>Saldo</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>{Object.keys(incomes).map(key => <Item key={key} moves={incomes} total={total} index={key} data={incomes[key]} />)}</TableBody>\n                    </Table>\n                </Grid>\n            </Grid>\n        </>\n    )\n\n    async function handleRemoveProduct (index) {\n        try {\n            var newList = [...prods]\n            delete newList[index]\n            const filtered = _.filter(newList, o => {\n                return o\n            })\n            firebase.update('purchase-orders',id,'products', filtered)\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n\n    async function handleIncome () {\n        try {\n            if (date && concept && amount) {\n                const item = {\n                    date: moment(date,'YYYY-MM-DD').valueOf(),\n                    type: 'cargo',\n                    concept,\n                    amount: Number(amount),\n                    orderId: id\n                }\n                firebase.simpleAdd(item,`finance-moves`).then(() => {\n                    alert('Movimiento agregado')\n                    setconcept(\"\")\n                    setamount(\"\")\n                })\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n\n    async function handleAdd () {\n        try {\n            if (selected && quantity) {\n                const item = {\n                    product: selected,\n                    quantity\n                }\n                const newList = [...prods]\n                newList.push(item)\n                firebase.update('purchase-orders',id,'products',newList).then(() => {\n                    alert('Producto agregado')\n                    setquantity(null)\n                })\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n}","import React from 'react';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport { Container, ButtonGroup, Button, Box } from '@material-ui/core';\nimport Vendors from './Vendors';\nimport SingleVendor from './SingleVendor';\nimport PurchaseOrders from './PurchaseOrders';\nimport SinglePurchaseOrder from './SinglePurchaseOrder';\n\nexport default function Purchases (props) {\n\n    const loc = props.location.pathname.split('/')[2];\n    // const { rol } = props\n\n    return (\n        <Container>\n            <ButtonGroup size=\"large\" color=\"primary\" aria-label=\"large outlined primary button group\">\n                <Button style={{ cursor: 'default' }} variant=\"contained\">Compras</Button>\n                <Button disabled={loc === undefined ? true : ''} component={Link} to=\"/compras\">Proveedores</Button>\n                <Button disabled={loc === 'ordenes' ? true : ''} component={Link} to=\"/compras/ordenes\">Órdenes de Compra</Button>\n            </ButtonGroup>\n            <Box paddingY=\"1rem\">\n                <Switch>\n                    <Route path=\"/compras\" component={Vendors} exact={true} />\n                    <Route path=\"/compras/ordenes\" component={PurchaseOrders} exact={true} />\n                    <Route path=\"/compras/ordenes/:id\" component={SinglePurchaseOrder} exact={true} />\n                    <Route path=\"/compras/proveedores/:id\" component={SingleVendor} exact={true} />\n                </Switch>\n            </Box>\n        </Container>\n    )\n}","import React, { useState, useEffect } from 'react';\nimport firebase from '../utils/firebase'\nimport { TextField, Button, FormControl, InputLabel, Select, Typography } from \"@material-ui/core\";\nimport { css } from '@emotion/core';\nimport moment from 'moment';\n\n\nexport default function AddFinanceMove () {\n\n    const [date, setdate] = useState('')\n    const [type, settype] = useState('')\n    const [concept, setconcept] = useState('')\n    const [amount, setamount] = useState('')\n\n    useEffect(() => {\n        const today = moment().format('YYYY-MM-DD')\n        setdate(today)\n    },[])\n\n    return (\n        <div css={css`\n            padding: 1rem;\n        `}>\n            <Typography align=\"center\" variant=\"h4\">Agregar Movimiento</Typography>\n            <TextField\n                label=\"Fecha\"\n                fullWidth\n                value={date ? date : ''}\n                onChange={e => setdate(e.target.value)}\n                type=\"date\"\n                css={css`\n                    margin-top: 1rem;\n                `}\n            />\n            <FormControl fullWidth>\n                <InputLabel htmlFor=\"type-label\">Tipo</InputLabel>\n                <Select\n                    fullWidth\n                    native\n                    value={type ? type : ''}\n                    onChange={e => settype(e.target.value)}\n                    inputProps={{\n                        name: 'type',\n                        id: 'type-label',\n                    }}\n                >\n                    <option aria-label=\"None\" value=\"\" />\n                    <option value=\"cargo\">Cargo / Egreso</option>\n                    <option value=\"abono\">Abono / Ingreso</option>\n                    <option value=\"receivable\">Cuenta Por Cobrar</option>\n                    <option value=\"debt\">Cuenta por Pagar</option>\n                </Select>\n            </FormControl>\n            <TextField\n                label=\"Concepto\"\n                fullWidth\n                value={concept ? concept : ''}\n                onChange={e => setconcept(e.target.value)}\n            />\n            <TextField\n                label=\"Monto\"\n                fullWidth\n                value={amount ? amount : ''}\n                onChange={e => setamount(e.target.value)}\n                css={css`\n                    margin-bottom: 1rem;\n                `}\n                type=\"number\"\n            />\n            <Button onClick={handleSubmit} fullWidth color=\"secondary\" variant=\"outlined\">Agregar</Button>\n        </div>\n    )\n\n    async function handleSubmit () {\n        try {\n            if (date && type && concept && amount) {\n                if (type === 'receivable') {\n                    const item = {\n                        date: moment(date,'YYYY-MM-DD').valueOf(),\n                        concept,\n                        amount: Number(amount)\n                    }\n                    firebase.simpleAdd(item,`receivable`).then(() => {\n                        alert('Movimiento agregado')\n                        settype(\"\")\n                        setconcept(\"\")\n                        setamount(\"\")\n                    })\n                } else if (type === 'debt') {\n                    const item = {\n                        date: moment(date,'YYYY-MM-DD').valueOf(),\n                        concept,\n                        amount: Number(amount)\n                    }\n                    firebase.simpleAdd(item,`debts`).then(() => {\n                        alert('Movimiento agregado')\n                        settype(\"\")\n                        setconcept(\"\")\n                        setamount(\"\")\n                    })\n                } else {\n                    const item = {\n                        date: moment(date,'YYYY-MM-DD').valueOf(),\n                        type,\n                        concept,\n                        amount: Number(amount)\n                    }\n                    firebase.simpleAdd(item,`finance-moves`).then(() => {\n                        alert('Movimiento agregado')\n                        settype(\"\")\n                        setconcept(\"\")\n                        setamount(\"\")\n                    })\n                }\n            } else {\n                alert('Completa todos los campos para continuar')\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n}","import React, { useState, useEffect } from 'react';\nimport firebase from '../utils/firebase';\nimport { Container, Box, IconButton, Typography, Table, TableHead, TableRow, TableCell, TableBody, TableFooter } from '@material-ui/core';\nimport moment from 'moment'\nimport numeral from 'numeral'\nimport _ from 'lodash'\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\n\nconst Item = (props) => {\n\n    const filtered = props.moves.slice(0,Number(props.index) + 1);\n    const {data, prevBalance} = props\n\n    const balance = _.reduce(filtered, (sum,n) => {\n        if (n.type === 'abono') {\n            return sum + n.amount\n        } else {\n            return sum - n.amount\n        }\n    },prevBalance)\n\n    return (\n        <TableRow>\n            <TableCell align=\"center\">\n                <IconButton onClick={() => firebase.delete('finance-moves',data.id,data)} size=\"small\" color=\"secondary\">\n                    <DeleteIcon fontSize=\"small\" />\n                </IconButton>\n            </TableCell>\n            <TableCell>{moment(data.date).format('DD-MM-YYYY')}</TableCell>\n            <TableCell>{data.type}</TableCell>\n            <TableCell>{data.concept}</TableCell>\n            <TableCell>{data.type === 'abono' ? numeral(data.amount).format('$0,0.00') : ''}</TableCell>\n            <TableCell>{data.type === 'cargo' ? numeral(data.amount).format('$0,0.00') : ''}</TableCell>\n            <TableCell>{numeral(balance).format('$0,0.00')}</TableCell>\n        </TableRow>\n    )\n}\n\nexport default function FinancialState () {\n\n    const [data,setData] = useState([]);\n    const [month,setMonth] = useState(undefined)\n    const [months,setMonths] = useState([])\n\n    useEffect(() => {\n        const current = moment().format('MM-YYYY')\n        setMonth(current)\n    },[])\n\n    useEffect(() => {\n        firebase.getCollection('months').orderBy('label').onSnapshot(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setMonths(data)\n        })\n    },[])\n\n    useEffect(() => {\n        const initialMonth = moment(month,'MM-YYYY').startOf('month').valueOf()\n        const endMonth = moment(month,'MM-YYYY').endOf('month').valueOf()\n        if ( initialMonth && endMonth) {\n            firebase.getCollection('finance-moves').orderBy('date').where('date','<=',endMonth).where('date','>=',initialMonth).onSnapshot(snap => {\n                const data = snap.docs.map(doc => doc.data())\n                setData(data)\n            })\n        }\n    },[month])\n\n    const prevMonth = moment(month, 'MM-YYYY').valueOf()\n    const prevObjs = _.filter(months, o => {\n        return moment(o.label,'MM-YYYY').valueOf() < prevMonth\n    })\n    const prevTotal = _.reduce(prevObjs, (sum,o) => {\n        return o.amount + sum\n    },0)\n    \n    const totalIncomes = _.reduce(data, (sum,n) => {\n        if (n.type === 'abono') {\n            return sum + n.amount\n        } else {\n            return sum\n        }\n    },0)\n\n    const totalExpenses = _.reduce(data, (sum,n) => {\n        if (n.type === 'cargo') {\n            return sum + n.amount\n        } else {\n            return sum\n        }\n    },0)\n\n    return (\n        <Container>\n            <Box style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: '2rem' }}>\n                <IconButton onClick={() => setMonth(moment(month,'MM-YYYY').subtract(1,'month').format('MM-YYYY'))} color=\"primary\" size=\"medium\">\n                    <ChevronLeftIcon fontSize=\"large\" />\n                </IconButton>\n                <Typography align=\"center\" style={{ margin: '0 2rem', }} color=\"primary\" variant=\"h6\">{month}</Typography>\n                <IconButton onClick={() => setMonth(moment(month,'MM-YYYY').add(1,'month').format('MM-YYYY'))} color=\"primary\" size=\"medium\">\n                    <ChevronRightIcon fontSize=\"large\" />\n                </IconButton>\n            </Box>\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\">Acciones</TableCell>\n                        <TableCell>Fecha</TableCell>\n                        <TableCell>Tipo</TableCell>\n                        <TableCell>Concepto</TableCell>\n                        <TableCell>Abonos</TableCell>\n                        <TableCell>Cargos</TableCell>\n                        <TableCell>Balance</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>{Object.keys(data).map(key => <Item key={key} moves={data} prevBalance={prevTotal} index={key} data={data[key]} />)}</TableBody>\n                <TableFooter>\n                    <TableRow>\n                        <TableCell colSpan=\"4\"></TableCell>\n                        <TableCell>{numeral(totalIncomes).format('$0,0.00')}</TableCell>\n                        <TableCell>{numeral(totalExpenses).format('$0,0.00')}</TableCell>\n                    </TableRow>\n                </TableFooter>\n            </Table>\n        </Container>\n    )\n}","import React, { useState, useEffect } from 'react';\nimport firebase from '../utils/firebase';\nimport { Container, Box, IconButton, Typography, Table, TableHead, TableRow, TableCell, TableBody, TableFooter } from '@material-ui/core';\nimport moment from 'moment'\nimport numeral from 'numeral'\nimport _ from 'lodash'\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\n\nconst Item = (props) => {\n\n    const {data} = props\n\n    return (\n        <TableRow>\n            <TableCell align=\"center\">\n                <IconButton onClick={() => firebase.delete('finance-moves',data.id,data)} size=\"small\" color=\"secondary\">\n                    <DeleteIcon fontSize=\"small\" />\n                </IconButton>\n            </TableCell>\n            <TableCell>{moment(data.date).format('DD-MM-YYYY')}</TableCell>\n            <TableCell>{data.type}</TableCell>\n            <TableCell>{data.concept}</TableCell>\n            <TableCell>{numeral(data.amount).format('$0,0.00')}</TableCell>\n        </TableRow>\n    )\n}\n\nexport default function Incomes () {\n\n    const [data,setData] = useState([]);\n    const [month,setMonth] = useState(undefined)\n\n    useEffect(() => {\n        const current = moment().format('MM-YYYY')\n        setMonth(current)\n    },[])\n\n    useEffect(() => {\n        const initialMonth = moment(month,'MM-YYYY').startOf('month').valueOf()\n        const endMonth = moment(month,'MM-YYYY').endOf('month').valueOf()\n        if ( initialMonth && endMonth) {\n            firebase.getCollection('finance-moves').orderBy('date').where('type','==','abono').where('date','<=',endMonth).where('date','>=',initialMonth).onSnapshot(snap => {\n                const data = snap.docs.map(doc => doc.data())\n                setData(data)\n            })\n        }\n    },[month])\n\n    const total = _.reduce(data, (sum,n) => {\n        return sum + n.amount\n    },0)\n\n    return (\n        <Container>\n            <Box style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: '2rem' }}>\n                <IconButton onClick={() => setMonth(moment(month,'MM-YYYY').subtract(1,'month').format('MM-YYYY'))} color=\"primary\" size=\"medium\">\n                    <ChevronLeftIcon fontSize=\"large\" />\n                </IconButton>\n                <Typography align=\"center\" style={{ margin: '0 2rem', }} color=\"primary\" variant=\"h6\">{month}</Typography>\n                <IconButton onClick={() => setMonth(moment(month,'MM-YYYY').add(1,'month').format('MM-YYYY'))} color=\"primary\" size=\"medium\">\n                    <ChevronRightIcon fontSize=\"large\" />\n                </IconButton>\n            </Box>\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\">Acciones</TableCell>\n                        <TableCell>Fecha</TableCell>\n                        <TableCell>Tipo</TableCell>\n                        <TableCell>Concepto</TableCell>\n                        <TableCell>Monto</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>{Object.keys(data).map(key => <Item key={key} index={key} data={data[key]} />)}</TableBody>\n                <TableFooter>\n                    <TableRow>\n                        <TableCell colSpan=\"3\"></TableCell>\n                        <TableCell align=\"center\">Total</TableCell>\n                        <TableCell align=\"center\">{numeral(total).format('$0,0.00')}</TableCell>\n                    </TableRow>\n                </TableFooter>\n            </Table>\n        </Container>\n    )\n}","import React, { useState, useEffect } from 'react';\nimport firebase from '../utils/firebase';\nimport { Container, Box, IconButton, Typography, Table, TableHead, TableRow, TableCell, TableBody, TableFooter } from '@material-ui/core';\nimport moment from 'moment'\nimport numeral from 'numeral'\nimport _ from 'lodash'\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\n\nconst Item = (props) => {\n\n    const {data} = props\n\n    return (\n        <TableRow>\n            <TableCell align=\"center\">\n                <IconButton onClick={() => firebase.delete('finance-moves',data.id,data)} size=\"small\" color=\"secondary\">\n                    <DeleteIcon fontSize=\"small\" />\n                </IconButton>\n            </TableCell>\n            <TableCell>{moment(data.date).format('DD-MM-YYYY')}</TableCell>\n            <TableCell>{data.type}</TableCell>\n            <TableCell>{data.concept}</TableCell>\n            <TableCell>{numeral(data.amount).format('$0,0.00')}</TableCell>\n        </TableRow>\n    )\n}\n\nexport default function Expenses () {\n\n    const [data,setData] = useState([]);\n    const [month,setMonth] = useState(undefined)\n\n    useEffect(() => {\n        const current = moment().format('MM-YYYY')\n        setMonth(current)\n    },[])\n\n    useEffect(() => {\n        const initialMonth = moment(month,'MM-YYYY').startOf('month').valueOf()\n        const endMonth = moment(month,'MM-YYYY').endOf('month').valueOf()\n        if ( initialMonth && endMonth) {\n            firebase.getCollection('finance-moves').orderBy('date').where('type','==','cargo').where('date','<=',endMonth).where('date','>=',initialMonth).onSnapshot(snap => {\n                const data = snap.docs.map(doc => doc.data())\n                setData(data)\n            })\n        }\n    },[month])\n\n    const total = _.reduce(data, (sum,n) => {\n        return sum + n.amount\n    },0)\n\n    return (\n        <Container>\n            <Box style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: '2rem' }}>\n                <IconButton onClick={() => setMonth(moment(month,'MM-YYYY').subtract(1,'month').format('MM-YYYY'))} color=\"primary\" size=\"medium\">\n                    <ChevronLeftIcon fontSize=\"large\" />\n                </IconButton>\n                <Typography align=\"center\" style={{ margin: '0 2rem', }} color=\"primary\" variant=\"h6\">{month}</Typography>\n                <IconButton onClick={() => setMonth(moment(month,'MM-YYYY').add(1,'month').format('MM-YYYY'))} color=\"primary\" size=\"medium\">\n                    <ChevronRightIcon fontSize=\"large\" />\n                </IconButton>\n            </Box>\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\">Acciones</TableCell>\n                        <TableCell>Fecha</TableCell>\n                        <TableCell>Tipo</TableCell>\n                        <TableCell>Concepto</TableCell>\n                        <TableCell>Monto</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>{Object.keys(data).map(key => <Item key={key} index={key} data={data[key]} />)}</TableBody>\n                <TableFooter>\n                    <TableRow>\n                        <TableCell colSpan=\"3\"></TableCell>\n                        <TableCell align=\"center\">Total</TableCell>\n                        <TableCell align=\"center\">{numeral(total).format('$0,0.00')}</TableCell>\n                    </TableRow>\n                </TableFooter>\n            </Table>\n        </Container>\n    )\n}","import React, { useState, useEffect } from 'react';\nimport firebase from '../utils/firebase'\nimport { Container, Table, TableHead, TableRow, TableCell, TableBody, IconButton } from '@material-ui/core';\nimport numeral from 'numeral'\nimport moment from 'moment'\nimport _ from 'lodash'\n\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst Item = (props) => {\n\n    const filtered = props.moves.slice(0,Number(props.index) + 1);\n    const {data} = props\n\n    const balance = _.reduce(filtered, (sum,n) => {\n        return sum + n.amount\n    },0)\n\n    return (\n        <TableRow>\n            <TableCell align=\"center\">\n                <IconButton onClick={() => firebase.delete('receivable',data.id,data)} size=\"small\" color=\"secondary\">\n                    <DeleteIcon fontSize=\"small\" />\n                </IconButton>\n            </TableCell>\n            <TableCell>{moment(data.date).format('DD-MM-YYYY')}</TableCell>\n            <TableCell>{data.concept}</TableCell>\n            <TableCell>{numeral(data.amount).format('$0,0.00')}</TableCell>\n            <TableCell>{numeral(balance).format('$0,0.00')}</TableCell>\n        </TableRow>\n    )\n}\n\nexport default function Receivable () {\n\n    const [receivable,setreceivable] = useState([])\n\n    useEffect(() => {\n        firebase.getCollection('receivable').orderBy('date').onSnapshot(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setreceivable(data)\n        })\n    },[])\n\n    return (\n        <Container>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\">Acciones</TableCell>\n                        <TableCell>Fecha</TableCell>\n                        <TableCell>Concepto</TableCell>\n                        <TableCell>Monto</TableCell>\n                        <TableCell>Balance</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>{Object.keys(receivable).map(key => <Item key={key} moves={receivable} index={key} data={receivable[key]} />)}</TableBody>\n            </Table>\n        </Container>\n    )\n}","import React, { useState, useEffect } from 'react';\nimport firebase from '../utils/firebase'\nimport { Container, Table, TableHead, TableRow, TableCell, TableBody, IconButton } from '@material-ui/core';\nimport numeral from 'numeral'\nimport moment from 'moment'\nimport _ from 'lodash'\n\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst Item = (props) => {\n\n    const filtered = props.moves.slice(0,Number(props.index) + 1);\n    const {data} = props\n\n    const balance = _.reduce(filtered, (sum,n) => {\n        return sum + n.amount\n    },0)\n\n    return (\n        <TableRow>\n            <TableCell align=\"center\">\n                <IconButton onClick={() => firebase.delete('debts',data.id,data)} size=\"small\" color=\"secondary\">\n                    <DeleteIcon fontSize=\"small\" />\n                </IconButton>\n            </TableCell>\n            <TableCell>{moment(data.date).format('DD-MM-YYYY')}</TableCell>\n            <TableCell>{data.concept}</TableCell>\n            <TableCell>{numeral(data.amount).format('$0,0.00')}</TableCell>\n            <TableCell>{numeral(balance).format('$0,0.00')}</TableCell>\n        </TableRow>\n    )\n}\n\nexport default function Debts () {\n\n    const [debts,setdebts] = useState([])\n\n    useEffect(() => {\n        firebase.getCollection('debts').orderBy('date').onSnapshot(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setdebts(data)\n        })\n    },[])\n\n    return (\n        <Container>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\">Acciones</TableCell>\n                        <TableCell>Fecha</TableCell>\n                        <TableCell>Concepto</TableCell>\n                        <TableCell>Monto</TableCell>\n                        <TableCell>Balance</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>{Object.keys(debts).map(key => <Item key={key} moves={debts} index={key} data={debts[key]} />)}</TableBody>\n            </Table>\n        </Container>\n    )\n}","import React, { useState } from 'react';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport { Container, Button, Box, AppBar, Toolbar, IconButton, Typography, MenuItem, Menu } from '@material-ui/core';\nimport { css } from '@emotion/core';\n\nimport MenuIcon from '@material-ui/icons/Menu'\nimport AddIcon from '@material-ui/icons/Add';\n\nimport Modal from '../components/Modal'\nimport AddFinanceMove from '../components/AddFinancialMove';\nimport FinancialState from './FinancialState';\nimport Incomes from './Incomes';\nimport Expenses from './Expenses';\nimport Receivable from './Receivable';\nimport Debts from './Debts';\n\nconst ITEM_HEIGHT = 48;\n\nexport default function Accounting (props) {\n\n    const loc = props.location.pathname.split('/')[2];\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [modalOpen,setmodalOpen] = useState(false);\n    const open = Boolean(anchorEl);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <Container>\n            <AppBar position=\"relative\">\n                <Toolbar variant=\"dense\">\n                    <IconButton aria-label=\"more\" aria-controls=\"long-menu\" aria-haspopup=\"true\" edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={handleClick}>\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" color=\"inherit\">\n                        Contabilidad\n                    </Typography>\n                    <Button onClick={() => setmodalOpen(true)} css={css`\n                        margin-left: auto;\n                    `} color=\"secondary\" variant=\"contained\" size=\"small\"><AddIcon css={css`margin-right:.5rem;`}/> Agregar Movimiento</Button>\n                </Toolbar>\n            </AppBar>\n            <Menu\n                id=\"long-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                PaperProps={{\n                    style: {\n                        maxHeight: ITEM_HEIGHT * 4.5,\n                    },\n                }}\n            >\n                <MenuItem css={css`\n                    text-align: center;\n                `} disabled={loc === undefined ? true : ''} component={Link} to=\"/contabilidad\">Estado Financiero</MenuItem>\n                <MenuItem css={css`\n                    text-align: center;\n                `} disabled={loc === 'ingresos' ? true : ''} component={Link} to=\"/contabilidad/ingresos\">Ingresos</MenuItem>\n                <MenuItem css={css`\n                    text-align: center;\n                `} disabled={loc === 'egresos' ? true : ''} component={Link} to=\"/contabilidad/egresos\">Egresos</MenuItem>\n                <MenuItem css={css`\n                    text-align: center;\n                `} disabled={loc === 'cuentas-cobrar' ? true : ''} component={Link} to=\"/contabilidad/cuentas-cobrar\">Cuentas por cobrar</MenuItem>\n                <MenuItem css={css`\n                    text-align: center;\n                `} disabled={loc === 'cuentas-pagar' ? true : ''} component={Link} to=\"/contabilidad/cuentas-pagar\">Cuentas por pagar</MenuItem>\n            </Menu>\n            <Box paddingY=\"1rem\">\n                <Switch>\n                    <Route path=\"/contabilidad\" component={FinancialState} exact={true} />\n                    <Route path=\"/contabilidad/ingresos\" component={Incomes} exact={true} />\n                    <Route path=\"/contabilidad/egresos\" component={Expenses} exact={true} />\n                    <Route path=\"/contabilidad/cuentas-cobrar\" component={Receivable} exact={true} />\n                    <Route path=\"/contabilidad/cuentas-pagar\" component={Debts} exact={true} />\n                </Switch>\n            </Box>\n            <Modal open={modalOpen} handleClose={() => setmodalOpen(null)}>\n                <AddFinanceMove />\n            </Modal>\n        </Container>\n    )\n}","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nexport default function AddWarehouse() {\n  const history = useHistory();\n  const [state, setstate] = useState({});\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  return (\n    <>\n      <h3>Nuevo Almacén</h3>\n      <TextField\n        label=\"Nombre de almacén\"\n        value={state.name}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"name\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Continuar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (state.name) {\n        firebase.simpleAdd(state, \"warehouse\").then((id) => {\n          history.push(`/almacen/${id}`);\n        });\n      } else {\n        alert(\"Completa el nombre para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Container,\n  Button,\n  Table,\n  TableHead,\n  TableRow,\n  TableBody,\n  TableCell,\n  IconButton,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nimport Modal from \"../components/Modal\";\nimport AddWarehouse from \"../components/AddWarehouse\";\n\nexport default function Warehouse(props) {\n  const [list, setlist] = useState([]);\n  const [open, setopen] = useState(false);\n\n  useEffect(() => {\n    firebase.getCollection(\"warehouse\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setlist(data);\n    });\n  }, []);\n\n  const handleClose = () => {\n    setopen(false);\n  };\n\n  return (\n    <Container>\n      <div\n        css={css`\n          display: flex;\n          width: 100%;\n        `}\n      >\n        <Button\n          css={css`\n            margin-left: auto;\n          `}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => setopen(!open)}\n        >\n          Nuevo Almacén\n        </Button>\n      </div>\n      <Table\n        css={css`\n          margin-top: 2rem;\n        `}\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Nombre\n            </TableCell>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Ver detalle\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {list.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell>{item.name}</TableCell>\n              <TableCell align=\"center\">\n                <IconButton\n                  component={Link}\n                  to={`/almacen/${item.id}`}\n                  color=\"primary\"\n                >\n                  <ArrowForwardIosIcon />\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <Modal open={open} handleClose={handleClose}>\n        <AddWarehouse />\n      </Modal>\n    </Container>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Container,\n  Button,\n  Grid,\n  Paper,\n  TextField,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  FormControl,\n  InputLabel,\n  Select,\n  TableBody,\n  IconButton,\n} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport { css } from \"@emotion/core\";\n\nimport SendIcon from \"@mui/icons-material/Send\";\n\nexport default function Travels() {\n  const history = useHistory();\n  const [state, setstate] = useState({});\n  const [travels, settravels] = useState([]);\n  const [employees, setemployees] = useState([]);\n  const [vehicles, setvehicles] = useState([]);\n  const [warehouse, setwarehouse] = useState([]);\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  useEffect(() => {\n    firebase\n      .getCollection(\"travels\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        settravels(data);\n      });\n    firebase\n      .getCollection(\"employee\")\n      .where(\"category\", \"==\", \"Chofer\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        setemployees(data);\n      });\n    firebase\n      .getCollection(\"vehicles\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        setvehicles(data);\n      });\n    firebase\n      .getCollection(\"warehouse\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        setwarehouse(data);\n      });\n  }, []);\n\n  return (\n    <Container>\n      <Grid container spacing={2}>\n        <Grid item xs={12} md={4}>\n          <Paper\n            css={css`\n              padding: 1rem;\n            `}\n          >\n            <TextField\n              label=\"Folio\"\n              value={state.folio}\n              onChange={(e) => handleChange(\"folio\", e.target.value)}\n              fullWidth\n              variant=\"outlined\"\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            />\n            <FormControl\n              fullWidth\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            >\n              <InputLabel htmlFor=\"vehicle\">Vehículo</InputLabel>\n              <Select\n                native\n                value={state.vehicle}\n                onChange={(e) => handleChange(\"vehicle\", e.target.value)}\n                inputProps={{\n                  name: \"vehicle\",\n                  id: \"vehicle\",\n                }}\n              >\n                <option aria-label=\"None\" value=\"\" />\n                {vehicles.map((item) => (\n                  <option key={item.id} value={item.id}>\n                    {item.placas} - {item.brand} {item.model} - {item.year}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControl\n              fullWidth\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            >\n              <InputLabel htmlFor=\"driver\">Chofer</InputLabel>\n              <Select\n                native\n                value={state.driver}\n                onChange={(e) => handleChange(\"driver\", e.target.value)}\n                inputProps={{\n                  name: \"driver\",\n                  id: \"driver\",\n                }}\n              >\n                <option aria-label=\"None\" value=\"\" />\n                {employees.map((item) => (\n                  <option value={item.id} key={item.id}>\n                    {item.name}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n            <TextField\n              value={state.date}\n              onChange={(e) => handleChange(\"date\", e.target.value)}\n              fullWidth\n              variant=\"outlined\"\n              type=\"date\"\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            />\n            <FormControl\n              fullWidth\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            >\n              <InputLabel htmlFor=\"from\">Almacén de Salida</InputLabel>\n              <Select\n                native\n                value={state.from}\n                onChange={(e) => handleChange(\"from\", e.target.value)}\n                inputProps={{\n                  name: \"from\",\n                  id: \"from\",\n                }}\n              >\n                <option aria-label=\"None\" value=\"\" />\n                {warehouse.map((item) => (\n                  <option key={item.id}>{item.name}</option>\n                ))}\n              </Select>\n            </FormControl>\n            <FormControl\n              fullWidth\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            >\n              <InputLabel htmlFor=\"to\">Almacén de Recepción</InputLabel>\n              <Select\n                native\n                value={state.to}\n                onChange={(e) => handleChange(\"to\", e.target.value)}\n                inputProps={{\n                  name: \"to\",\n                  id: \"to\",\n                }}\n              >\n                <option aria-label=\"None\" value=\"\" />\n                {warehouse.map((item) => (\n                  <option key={item.id}>{item.name}</option>\n                ))}\n              </Select>\n            </FormControl>\n            <Button\n              onClick={handleSubmit}\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Continuar\n            </Button>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} md={8}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Fecha de Salida\n                </TableCell>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Estatus\n                </TableCell>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Recorrido\n                </TableCell>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Ver más\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {travels.map((item) => (\n                <TableRow>\n                  <TableCell>\n                    {moment(item.date).format(\"DD-MM-YYYY\")}\n                  </TableCell>\n                  <TableCell>{item.status}</TableCell>\n                  <TableCell>\n                    {item.from} - {item.to}\n                  </TableCell>\n                  <TableCell>\n                    <IconButton\n                      component={Link}\n                      to={`/viajes/${item.id}`}\n                      color=\"secondary\"\n                    >\n                      <SendIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (state.folio && state.driver && state.date && state.from && state.to) {\n        var newState = { ...state };\n        newState.date = moment(state.date).valueOf();\n        firebase.simpleAdd(state, \"travels\").then((id) => {\n          history.push(`/viajes/${id}`);\n        });\n      } else {\n        alert(\"Completa todos los campos para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n\n// Desde aquí se podrán crear los viajes, una vez que se da inicio ya no los pueden modificar\n// se establecerán el o los destinos a los que irá el vehículo y que repartirá en cada ubicación\n// se determinarán el o los choferes encargados del viaje.\n","import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport {\n  Container,\n  ButtonGroup,\n  Button,\n  Box,\n  Grid,\n  Paper,\n  TextField,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  IconButton,\n} from \"@material-ui/core\";\nimport firebase from \"../utils/firebase\";\nimport { css } from \"@emotion/core\";\n\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nexport default function Vehicles() {\n  const history = useHistory();\n  const [state, setstate] = useState({});\n  const [list, setlist] = useState([]);\n\n  useEffect(() => {\n    firebase.getCollection(\"vehicles\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setlist(data);\n    });\n  }, []);\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  return (\n    <Container>\n      <Grid container spacing={2}>\n        <Grid item xs={12} md={4}>\n          <Paper\n            css={css`\n              padding: 1rem;\n            `}\n          >\n            <TextField\n              label=\"Placas\"\n              value={state.placas}\n              onChange={(e) => handleChange(\"placas\", e.target.value)}\n              fullWidth\n              variant=\"outlined\"\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            />\n            <TextField\n              label=\"Marca\"\n              value={state.brand}\n              onChange={(e) => handleChange(\"brand\", e.target.value)}\n              fullWidth\n              variant=\"outlined\"\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            />\n            <TextField\n              label=\"Modelo\"\n              value={state.model}\n              onChange={(e) => handleChange(\"model\", e.target.value)}\n              fullWidth\n              variant=\"outlined\"\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            />\n            <TextField\n              label=\"Año\"\n              value={state.year}\n              onChange={(e) => handleChange(\"year\", e.target.value)}\n              fullWidth\n              variant=\"outlined\"\n              css={css`\n                margin-bottom: 1rem;\n              `}\n            />\n            <Button\n              onClick={handleSubmit}\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Agregar\n            </Button>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} md={8}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Placas\n                </TableCell>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Modelo\n                </TableCell>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Último Mantenimiento\n                </TableCell>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Rendimiento\n                </TableCell>\n                <TableCell variant=\"head\" component=\"th\" align=\"center\">\n                  Ver más\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {list.map((item) => (\n                <TableRow key={item.id}>\n                  <TableCell>{item.placas}</TableCell>\n                  <TableCell>{item.model}</TableCell>\n                  <TableCell>{item.last}</TableCell>\n                  <TableCell>{item.rend}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      component={Link}\n                      to={`/vehiculos/${item.id}`}\n                      color=\"primary\"\n                    >\n                      <ArrowForwardIosIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (state.placas && state.brand && state.model && state.year) {\n        firebase.simpleAdd(state, \"vehicles\").then((id) => {\n          history.push(`/vehiculos/${id}`);\n        });\n      } else {\n        alert(\"Completa todos los campos para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n\n// Desde aquí se gestionará el mantenimiento, consumo de gasolina, recorridos, choferes asignados,\n//\n","import React, { useState, useEffect } from 'react'\nimport firebase from '../utils/firebase'\nimport { Grid, Typography, Checkbox, Card, CardHeader, CardContent } from '@material-ui/core'\nimport moment from 'moment'\nimport _ from 'lodash'\nimport { css } from '@emotion/core'\n\nexport default function Messages () {\n\n    const [messages,setmessages] = useState([])\n\n    useEffect(() => {\n        firebase.getCollection('messages').orderBy('timestamp','desc').onSnapshot(snap => {\n            const data = snap.docs.map(doc => doc.data())\n            setmessages(data)\n        })\n    },[])\n\n    const noRead = _.filter(messages, o => {\n        return o.isRead !== true\n    })\n\n    const read = _.filter(messages, o => {\n        return o.isRead === true\n    })\n\n    return (\n        <>\n            <Grid spacing={3} justify=\"flex-start\" container>\n                <Grid item xs={12} md={6}>\n                    <Typography variant=\"h3\" align=\"center\" css={css`\n                        margin-bottom: 2rem;\n                    `}>Pendientes</Typography>\n                    <ul>\n                    {\n                        noRead.map((item,index) => \n                            <Card key={index} css={css`\n                                margin-bottom: 1rem;\n                            `}>\n                                <CardHeader\n                                    action={\n                                        <Checkbox checked={item.isRead} onChange={() => firebase.update('messages',item.id,'isRead',!item.isRead)} />\n                                    }\n                                    title={item.name}\n                                    subheader={moment(item.timestamp).format('DD-MM-YYYY HH:mm a')}\n                                />\n                                <CardContent>\n                                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                        {item.email}\n                                    </Typography>\n                                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                        {item.phone}\n                                    </Typography>\n                                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                        {item.message}\n                                    </Typography>\n                                </CardContent>\n                            </Card>\n                        )\n                    }\n                    </ul>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <Typography variant=\"h3\" align=\"center\" css={css`\n                        margin-bottom: 2rem;\n                    `}>Atendidos</Typography>\n                    <ul>\n                    {\n                        read.map((item,index) =>\n                            <Card key={index} css={css`\n                                margin-bottom: 1rem;\n                            `}>\n                                <CardHeader\n                                    action={\n                                        <Checkbox checked={item.isRead} onChange={() => firebase.update('messages',item.id,'isRead',!item.isRead)} />\n                                    }\n                                    title={item.name}\n                                    subheader={moment(item.timestamp).format('DD-MM-YYYY HH:mm a')}\n                                />\n                                <CardContent>\n                                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                        {item.email}\n                                    </Typography>\n                                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                        {item.phone}\n                                    </Typography>\n                                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                        {item.message}\n                                    </Typography>\n                                </CardContent>\n                            </Card>\n                        )\n                    }\n                    </ul>\n                </Grid>\n            </Grid>\n        </>\n    )\n}","import React from 'react'\nimport { Grid, Paper } from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport { css } from '@emotion/core'\n\nexport default function Configuration () {\n\n    return (\n        <Grid container spacing={3}>\n            <Grid item xs={12} md={6} lg={4}>\n                <Link to=\"/configuracion/catalogos\" css={css`\n                    text-decoration: none;\n                `}>\n                    <Paper css={css`\n                        padding: 2rem;\n                    `}>\n                        <h4 css={css`\n                            font-size: 2rem;\n                            text-align: center;\n                        `}>Catálogos</h4>\n                    </Paper>\n                </Link>\n            </Grid>\n            <Grid item xs={12} md={6} lg={4}>\n                <Link to=\"/configuracion/formulas\" css={css`\n                    text-decoration: none;\n                `}>\n                    <Paper css={css`\n                        padding: 2rem;\n                    `}>\n                        <h4 css={css`\n                            font-size: 2rem;\n                            text-align: center;\n                        `}>Fórmulas</h4>\n                    </Paper>\n                </Link>\n            </Grid>\n        </Grid>\n    )\n}","import React, { useState, useEffect } from \"react\";\nimport {\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  Grid,\n  TableBody,\n  Select,\n} from \"@material-ui/core\";\nimport firebase from \"../../utils/firebase\";\n\nconst Item = ({ item, id }) => {\n  return (\n    <TableRow>\n      <TableCell>{item.guide}</TableCell>\n      <TableCell>{item.description}</TableCell>\n      <TableCell>\n        <Select\n          native\n          value={item.status}\n          onChange={(e) =>\n            firebase.update(\n              `warehouse/${id}/list`,\n              item.id,\n              \"status\",\n              e.target.value\n            )\n          }\n          inputProps={{\n            name: \"status\",\n            id: \"status\",\n          }}\n        >\n          <option aria-label=\"None\" value=\"\" />\n          <option value=\"in-process\">En Proceso</option>\n          <option value=\"in-warehouse\">En Almacén</option>\n          <option value=\"done\">Terminado</option>\n        </Select>\n      </TableCell>\n    </TableRow>\n  );\n};\n\nexport default function WarehouseList({ id }) {\n  const [inprocess, setinprocess] = useState([]);\n  const [inwarehouse, setinwarehouse] = useState([]);\n  const [done, setdone] = useState([]);\n\n  useEffect(() => {\n    if (id) {\n      firebase\n        .getCollection(`warehouse/${id}/list`)\n        .where(\"status\", \"==\", \"in-process\")\n        .onSnapshot((snap) => {\n          const data = snap.docs.map((doc) => doc.data());\n          setinprocess(data);\n        });\n      firebase\n        .getCollection(`warehouse/${id}/list`)\n        .where(\"status\", \"==\", \"in-warehouse\")\n        .onSnapshot((snap) => {\n          const data = snap.docs.map((doc) => doc.data());\n          setinwarehouse(data);\n        });\n      firebase\n        .getCollection(`warehouse/${id}/list`)\n        .where(\"status\", \"==\", \"done\")\n        .onSnapshot((snap) => {\n          const data = snap.docs.map((doc) => doc.data());\n          setdone(data);\n        });\n    }\n  }, [id]);\n\n  return (\n    <Grid item xs={12} md={8}>\n      <h3>En proceso</h3>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\">Número de Guía</TableCell>\n            <TableCell variant=\"head\">Descripción</TableCell>\n            <TableCell variant=\"head\">Estatus</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {inprocess.map((item) => (\n            <Item item={item} id={id} key={item.id} />\n          ))}\n        </TableBody>\n      </Table>\n\n      <h3>En almacén</h3>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\">Número de Guía</TableCell>\n            <TableCell variant=\"head\">Descripción</TableCell>\n            <TableCell variant=\"head\">Estatus</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {inwarehouse.map((item) => (\n            <Item item={item} id={id} key={item.id} />\n          ))}\n        </TableBody>\n      </Table>\n\n      <h3>Entregados</h3>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\">Número de Guía</TableCell>\n            <TableCell variant=\"head\">Descripción</TableCell>\n            <TableCell variant=\"head\">Estatus</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {done.map((item) => (\n            <Item item={item} id={id} key={item.id} />\n          ))}\n        </TableBody>\n      </Table>\n    </Grid>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  FormControl,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  List,\n  ListItem,\n  ListItemButton,\n  OutlinedInput,\n} from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport { ListItemText } from \"@material-ui/core\";\n\nexport default function AddressSetter({ handleSelect }) {\n  const [state, setstate] = useState(\"\");\n  const [list, setlist] = useState([]);\n\n  return (\n    <>\n      <FormControl fullWidth variant=\"outlined\">\n        <InputLabel htmlFor=\"outlined-adornment-password\">Dirección</InputLabel>\n        <OutlinedInput\n          id=\"outlined-adornment-password\"\n          value={state}\n          onChange={(e) => setstate(e.target.value)}\n          endAdornment={\n            <InputAdornment variant=\"filled\" position=\"end\">\n              <IconButton\n                aria-label=\"toggle password visibility\"\n                onClick={handleSearch}\n                edge=\"end\"\n              >\n                <SearchIcon />\n              </IconButton>\n            </InputAdornment>\n          }\n          label=\"Dirección\"\n        />\n      </FormControl>\n      {!_.isEmpty(list) && (\n        <>\n          <p>Selecciona una dirección</p>\n          <List>\n            {list.map((item) => (\n              <ListItem disablePadding>\n                <ListItemButton onClick={() => handleSelect(item)}>\n                  <ListItemText primary={item.formatted_address} />\n                </ListItemButton>\n              </ListItem>\n            ))}\n          </List>\n        </>\n      )}\n    </>\n  );\n\n  async function handleSearch() {\n    if (state) {\n      const origin = _.replace(state, \" \", \"+\");\n      axios\n        .get(\n          `https://maps.googleapis.com/maps/api/geocode/json?address=${origin}&key=AIzaSyA39LHNEgqASAk51V0za88oji_Em2rN8lo`\n        )\n        .then((response) => {\n          const results = response.data.results;\n          console.log(_.size(results));\n          setlist(results);\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(\n            \"Ha ocurrido un error al encontrar la dirección:\" + error.message\n          );\n        });\n    } else {\n      alert(\"Escribe una dirección para continuar\");\n    }\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { css } from \"@emotion/core\";\nimport {\n  Button,\n  Container,\n  Divider,\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableRow,\n  TextField,\n} from \"@material-ui/core\";\nimport Loader from \"../components/Loader\";\nimport WarehouseList from \"../components/warehouse/WarehouseList\";\nimport Modal from \"../components/Modal\";\nimport AddressSetter from \"../components/AddressSetter\";\n\nexport default function SingleWarehouse(props) {\n  const [state, setstate] = useState(null);\n  const [modalOpen, setmodalOpen] = useState(false);\n\n  const { id } = props.match.params;\n  const [obj, setobj] = useState({\n    status: \"in-process\",\n  });\n\n  const handleChange = (index, value) => {\n    var newobj = { ...obj };\n    newobj[index] = value;\n    setobj(newobj);\n  };\n\n  useEffect(() => {\n    if (id) {\n      firebase.getDocument(\"warehouse\", id).onSnapshot((snap) => {\n        const data = snap.data();\n        setstate(data);\n      });\n    }\n  }, [id]);\n\n  return state ? (\n    <Container>\n      <h1>Detalle de Almacén</h1>\n      <Table\n        css={css`\n          width: 100%;\n          max-width: 35rem;\n        `}\n      >\n        <TableBody>\n          <TableRow>\n            <TableCell component=\"th\" variant=\"head\">\n              Nombre de Almacén\n            </TableCell>\n            <TableCell>{state.name}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell component=\"th\" variant=\"head\">\n              Dirección\n            </TableCell>\n            <TableCell>\n              {state.address?.formatted_address}\n              <Button\n                size=\"small\"\n                css={css`\n                  margin-left: 0.5rem;\n                `}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => setmodalOpen(true)}\n              >\n                Establecer Dirección\n              </Button>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n      <Divider\n        css={css`\n          margin-top: 2rem;\n          margin-bottom: 2rem;\n        `}\n      />\n\n      <Grid container spacing={4}>\n        <Grid\n          item\n          xs={12}\n          md={4}\n          component=\"form\"\n          onSubmit={(e) => e.preventDefault() && false}\n        >\n          <TextField\n            label=\"Número de Guía\"\n            value={obj.guide}\n            onChange={(e) => handleChange(\"guide\", e.target.value)}\n            fullWidth\n            variant=\"outlined\"\n            css={css`\n              margin-bottom: 1rem;\n            `}\n          />\n          <TextField\n            label=\"Descripción\"\n            value={obj.description}\n            onChange={(e) => handleChange(\"description\", e.target.value)}\n            fullWidth\n            variant=\"outlined\"\n            css={css`\n              margin-bottom: 1rem;\n            `}\n          />\n          <Button\n            onClick={handleSubmit}\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Continuar\n          </Button>\n        </Grid>\n\n        <WarehouseList id={id} />\n      </Grid>\n      <Modal open={modalOpen} handleClose={() => setmodalOpen(null)}>\n        <AddressSetter handleSelect={handleSetAddress} />\n      </Modal>\n    </Container>\n  ) : (\n    <Loader />\n  );\n\n  async function handleSetAddress(item) {\n    firebase.update(\"warehouse\", id, \"address\", item).then(() => {\n      setmodalOpen(null);\n    });\n  }\n\n  async function handleSubmit() {\n    try {\n      if (obj.guide && obj.description) {\n        firebase.simpleAdd(obj, `warehouse/${id}/list`).then((id) => {\n          alert(\"Elemento agregado\");\n        });\n      } else {\n        alert(\"Completa todos los campos para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  TextField,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nexport default function AddEmployee() {\n  const history = useHistory();\n  const [state, setstate] = useState({});\n  const [categories, setcategories] = useState([]);\n\n  useEffect(() => {\n    firebase\n      .getCollection(\"payrollCategory\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        setcategories(data);\n      });\n  }, []);\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  return (\n    <>\n      <h3>Nuevo Empleado</h3>\n      <TextField\n        label=\"Nombre de empleado\"\n        value={state.name}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"name\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <FormControl\n        fullWidth\n        css={css`\n          margin-bottom: 1rem;\n        `}\n      >\n        <InputLabel htmlFor=\"category\">Categoría</InputLabel>\n        <Select\n          native\n          value={state.category}\n          onChange={(e) => handleChange(\"category\", e.target.value)}\n          inputProps={{\n            name: \"category\",\n            id: \"category\",\n          }}\n        >\n          <option aria-label=\"None\" value=\"\" />\n          {categories.map((item) => (\n            <option value={item.name} key={item.name}>\n              {item.name}\n            </option>\n          ))}\n        </Select>\n      </FormControl>\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Continuar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (state.name) {\n        firebase.simpleAdd(state, \"employee\").then((id) => {\n          history.push(`/nomina/${id}`);\n        });\n      } else {\n        alert(\"Completa el nombre para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Container,\n  Button,\n  Table,\n  TableHead,\n  TableRow,\n  TableBody,\n  TableCell,\n  IconButton,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nimport Modal from \"../components/Modal\";\nimport AddEmployee from \"../components/AddEmployee\";\n\nexport default function Payroll() {\n  const [list, setlist] = useState([]);\n  const [open, setopen] = useState(false);\n\n  useEffect(() => {\n    firebase.getCollection(\"employee\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setlist(data);\n    });\n  }, []);\n\n  const handleClose = () => {\n    setopen(false);\n  };\n\n  return (\n    <Container>\n      <div\n        css={css`\n          display: flex;\n          width: 100%;\n        `}\n      >\n        <Button\n          css={css`\n            margin-left: auto;\n          `}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => setopen(!open)}\n        >\n          Nuevo Empleado\n        </Button>\n      </div>\n      <Table\n        css={css`\n          margin-top: 2rem;\n        `}\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Nombre\n            </TableCell>\n            <TableCell variant=\"head\" component=\"th\" align=\"center\">\n              Ver detalle\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {list.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell>{item.name}</TableCell>\n              <TableCell align=\"center\">\n                <IconButton\n                  component={Link}\n                  to={`/almacen/${item.id}`}\n                  color=\"primary\"\n                >\n                  <ArrowForwardIosIcon />\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <Modal open={open} handleClose={handleClose}>\n        <AddEmployee />\n      </Modal>\n    </Container>\n  );\n}\n","import React, { useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nexport default function AddPayrollCategory() {\n  const [state, setstate] = useState({});\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  return (\n    <>\n      <h3>Nueva Categoría de Empleado</h3>\n      <TextField\n        label=\"Nombre de categoría\"\n        value={state.name}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"name\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Continuar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (state.name) {\n        firebase.simpleAdd(state, \"payrollCategory\").then((id) => {\n          alert(\"Categoría Agregada\");\n        });\n      } else {\n        alert(\"Completa el nombre para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nexport default function AddPaymentMethod() {\n  const [state, setstate] = useState({});\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  return (\n    <>\n      <h3>Nueva Categoría de Método de Pago</h3>\n      <TextField\n        label=\"Clave\"\n        value={state.clave}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"clave\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Descripción\"\n        value={state.description}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"description\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Continuar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (state.clave && state.description) {\n        firebase.simpleAdd(state, \"paymentmethods\").then((id) => {\n          alert(\"Método de pago agregado\");\n        });\n      } else {\n        alert(\"Completa el nombre para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nexport default function AddPayrollCategory() {\n  const [state, setstate] = useState({});\n\n  const handleChange = (index, value) => {\n    var newState = { ...state };\n    newState[index] = value;\n    setstate(newState);\n  };\n\n  return (\n    <>\n      <h3>Nuevo tipo de Embalaje</h3>\n      <TextField\n        label=\"Nombre de tipo de embalaje\"\n        value={state.name}\n        fullWidth\n        variant=\"outlined\"\n        onChange={(e) => handleChange(\"name\", e.target.value)}\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Continuar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (state.name) {\n        firebase.simpleAdd(state, \"packagingType\").then((id) => {\n          alert(\"Elemento Agregada\");\n        });\n      } else {\n        alert(\"Completa el nombre para continuar\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Container,\n  Divider,\n  Grid,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Paper,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport AddPayrollCategory from \"../components/AddPayrollCategory\";\nimport AddPaymentMethod from \"../components/AddPaymentMetod\";\nimport AddPackaging from \"../components/AddPackaging\";\n\nexport default function Catalogs() {\n  const [list, setlist] = useState([]);\n  const [paymentmethods, setpaymentmethods] = useState([]);\n  const [packagingType, setpackagingType] = useState([]);\n\n  useEffect(() => {\n    firebase.getCollection(\"payrollCategory\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setlist(data);\n    });\n    firebase.getCollection(\"paymentmethods\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setpaymentmethods(data);\n    });\n    firebase.getCollection(\"packagingType\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setpackagingType(data);\n    });\n  }, []);\n\n  return (\n    <Container>\n      <Grid container spacing={4}>\n        <Grid component={Paper} item xs={12} md={6} lg={4}>\n          <AddPayrollCategory />\n          <Divider />\n          <List dense={true}>\n            {list.map((item, index) => (\n              <ListItem key={index}>\n                <ListItemText primary={item.name} />\n                <ListItemSecondaryAction>\n                  <IconButton\n                    onDoubleClick={() =>\n                      firebase.delete(\"payrollCategory\", item.id, item)\n                    }\n                    edge=\"end\"\n                    aria-label=\"delete\"\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            ))}\n          </List>\n        </Grid>\n        <Grid component={Paper} item xs={12} md={6} lg={4}>\n          <AddPaymentMethod />\n          <Divider />\n          <List dense={true}>\n            {paymentmethods.map((item, index) => (\n              <ListItem key={index}>\n                <ListItemText primary={`${item.clave} - ${item.description}`} />\n                <ListItemSecondaryAction>\n                  <IconButton\n                    onDoubleClick={() =>\n                      firebase.delete(\"paymentmethods\", item.id, item)\n                    }\n                    edge=\"end\"\n                    aria-label=\"delete\"\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            ))}\n          </List>\n        </Grid>\n        <Grid component={Paper} item xs={12} md={6} lg={4}>\n          <AddPackaging />\n          <Divider />\n          <List dense={true}>\n            {packagingType.map((item, index) => (\n              <ListItem key={index}>\n                <ListItemText primary={item.name} />\n                <ListItemSecondaryAction>\n                  <IconButton\n                    onDoubleClick={() =>\n                      firebase.delete(\"packagingType\", item.id, item)\n                    }\n                    edge=\"end\"\n                    aria-label=\"delete\"\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            ))}\n          </List>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Container,\n  List,\n  ListItem,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\nimport Loader from \"../components/Loader\";\n\nexport default function SinglePayroll(props) {\n  const { id } = props.match.params;\n  const [employee, setemployee] = useState(null);\n\n  useEffect(() => {\n    firebase\n      .getDocument(\"employee\", id)\n      .get()\n      .then((snap) => {\n        const data = snap.data();\n        setemployee(data);\n      });\n  }, [id]);\n\n  return employee ? (\n    <Container>\n      <h3>Detalle de Empleado</h3>\n      <List>\n        <ListItem>\n          <b>Nombre: </b>\n          {` `}\n          <span>{employee.name}</span>\n        </ListItem>\n        <ListItem>\n          <b>Categoría (Área): </b>\n          <span>{employee.category}</span>\n        </ListItem>\n        <ListItem>\n          <b>Teléfono: </b>\n          <span>{employee.phone}</span>\n        </ListItem>\n      </List>\n    </Container>\n  ) : (\n    <Loader />\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Container,\n  List,\n  ListItem,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\nimport Loader from \"../components/Loader\";\n\nexport default function SingleVehicle(props) {\n  const { id } = props.match.params;\n  const [vehicle, setvehicle] = useState(null);\n\n  useEffect(() => {\n    firebase\n      .getDocument(\"vehicles\", id)\n      .get()\n      .then((snap) => {\n        const data = snap.data();\n        setvehicle(data);\n      });\n  }, [id]);\n\n  return vehicle ? (\n    <Container>\n      <h3>Detalle de Cliente</h3>\n      <List>\n        <ListItem>\n          <b>Placas: </b>\n          {` `}\n          <span>{vehicle.placas}</span>\n        </ListItem>\n        <ListItem>\n          <b>Ma: </b>\n          <span>{vehicle.brand}</span>\n        </ListItem>\n        <ListItem>\n          <b>Modelo: </b>\n          <span>{vehicle.model}</span>\n        </ListItem>\n        <ListItem>\n          <b>Año: </b>\n          <span>{vehicle.year}</span>\n        </ListItem>\n        <ListItem>\n          <b>Rendimiento: </b>\n          <span></span>\n        </ListItem>\n        <ListItem>\n          <b>Fecha de último mantenimiento: </b>\n          <span></span>\n        </ListItem>\n      </List>\n      <h3>Mantenimiento</h3>\n      <h3>Viajes</h3>\n    </Container>\n  ) : (\n    <Loader />\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport {\n  Checkbox,\n  Container,\n  Divider,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport Loader from \"../components/Loader\";\nimport { ListItemButton } from \"@mui/material\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\n\nconst Item = ({ value, travelId }) => {\n  const [customer, setcustomer] = useState({});\n\n  useEffect(() => {\n    if (value.customer) {\n      firebase.getDocument(\"customers\", value.customer).onSnapshot((snap) => {\n        setcustomer(snap.data());\n      });\n    }\n  }, [value.customer]);\n\n  return (\n    <ListItem component={Grid} item xs={12} md={6} disablePadding>\n      <ListItemButton\n        role={undefined}\n        onClick={() =>\n          firebase.update(\n            \"remissions\",\n            value.id,\n            \"travel\",\n            value.travel === travelId ? null : travelId\n          )\n        }\n        dense\n      >\n        <ListItemIcon>\n          <Checkbox\n            edge=\"start\"\n            checked={value.travel === travelId}\n            disableRipple\n            inputProps={{ \"aria-labelledby\": value.id }}\n          />\n        </ListItemIcon>\n        <div>\n          <ListItemText secondary={value.folio} primary={`Folio`} />\n          <ListItemText\n            secondary={moment(value.date).format(\"DD-MM-YYYY\")}\n            primary={`Fecha`}\n          />\n          <ListItemText secondary={customer.name} primary={`Cliente`} />\n        </div>\n      </ListItemButton>\n    </ListItem>\n  );\n};\n\nexport default function SingleTravel(props) {\n  const { id } = props.match.params;\n  const [travel, settravel] = useState(null);\n  const [remissions, setremissions] = useState([]);\n\n  useEffect(() => {\n    firebase\n      .getDocument(\"travels\", id)\n      .get()\n      .then((snap) => {\n        const data = snap.data();\n        settravel(data);\n      });\n    firebase.getCollection(\"remissions\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      const filtered = _.filter(data, (o) => {\n        return o.travel === null || o.travel === id || o.travel === undefined;\n      });\n      setremissions(filtered);\n    });\n  }, [id]);\n\n  return travel ? (\n    <Container>\n      <h3>Detalle de Viaje</h3>\n      <List>\n        <ListItem>\n          <b>Foio: </b>\n          {` `}\n          <span>{travel.folio}</span>\n        </ListItem>\n        <ListItem>\n          <b>Vehículo: </b>\n          <span>{travel.vehicle}</span>\n        </ListItem>\n        <ListItem>\n          <b>Chofer: </b>\n          <span>{travel.driver}</span>\n        </ListItem>\n        <ListItem>\n          <b>Fecha: </b>\n          <span>{travel.date}</span>\n        </ListItem>\n        <ListItem>\n          <b>Salida: </b>\n          <span>{travel.from}</span>\n        </ListItem>\n        <ListItem>\n          <b>Destino: </b>\n          <span>{travel.to}</span>\n        </ListItem>\n      </List>\n      <Divider />\n      <h3>Seleccionar Remisiones</h3>\n      <List component={Grid} gap={4} container>\n        {remissions.map((item) => (\n          <Item key={item.id} value={item} travelId={id} />\n        ))}\n      </List>\n    </Container>\n  ) : (\n    <Loader />\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport { css } from \"@emotion/core\";\nimport { Autocomplete } from \"@mui/material\";\n\nexport default function AddRemission({ handleClose }) {\n  const history = useHistory();\n  const [state, setstate] = useState({});\n  const [customers, setcustomers] = useState([]);\n  const [selectedCustomer, setselectedCustomer] = useState(null);\n\n  useEffect(() => {\n    firebase\n      .getCollection(\"customers\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => ({\n          label: `${doc.data().name} - ${doc.data().rfc} - ${\n            doc.data().email\n          } - ${doc.data().phone}`,\n          value: doc.id,\n          haveCredit: doc.data().haveCredit,\n          daysCredit: doc.data().daysCredit,\n        }));\n        setcustomers(data);\n      });\n  }, []);\n\n  return (\n    <>\n      <h3>Nueva Remisión</h3>\n      <Autocomplete\n        disablePortal\n        options={customers}\n        value={selectedCustomer}\n        onChange={(event, newValue) => {\n          console.log(newValue);\n          setselectedCustomer(newValue);\n        }}\n        renderInput={(params) => (\n          <TextField {...params} label=\"Cliente\" variant=\"outlined\" />\n        )}\n      />\n\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Continuar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    if (selectedCustomer) {\n      var newState = { ...state };\n      newState.customer = selectedCustomer.value;\n      newState.haveCredit = selectedCustomer.haveCredit;\n      newState.daysCredit = selectedCustomer.daysCredit;\n      newState.status = \"creating\";\n      if (newState.customer) {\n        firebase.simpleAdd(newState, \"remissions\").then((id) => {\n          history.push(`/remisiones/detalle/${id}`);\n          handleClose();\n        });\n      } else {\n        alert(\"Completa todos los campos para continuar\");\n      }\n    } else {\n      alert(\"Selecciona un cliente para continuar\");\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport firebase from \"../utils/firebase\";\nimport { css } from \"@emotion/core\";\n\nexport default function WarehouseItem({ id, index }) {\n  const [warehouse, setwarehouse] = useState({});\n\n  useEffect(() => {\n    if (id) {\n      firebase\n        .getDocument(\"warehouse\", id)\n        .get()\n        .then((snap) => {\n          if (snap.exists) {\n            setwarehouse(snap.data());\n          }\n        });\n    }\n  }, [id]);\n\n  return (\n    <span\n      css={css`\n        text-decoration: none;\n        color: black;\n      `}\n    >\n      {warehouse[index ? index : \"name\"]}\n    </span>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Container,\n  Button,\n  AppBar,\n  Toolbar,\n  Typography,\n  TableCell,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\n\nimport AddIcon from \"@material-ui/icons/Add\";\n\nimport Modal from \"../components/Modal\";\nimport AddRemission from \"../components/AddRemission\";\nimport firebase from \"../utils/firebase\";\nimport {\n  IconButton,\n  Table,\n  TableBody,\n  TableHead,\n  TableRow,\n} from \"@mui/material\";\nimport Customer from \"../components/Customer\";\nimport WarehouseItem from \"../components/WarehouseItem\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\n\nexport default function Remissions() {\n  const [modalOpen, setmodalOpen] = useState(null);\n  const [list, setlist] = useState([]);\n\n  useEffect(() => {\n    firebase.getCollection(\"remissions\").onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setlist(data);\n    });\n  }, []);\n\n  return (\n    <Container>\n      <AppBar position=\"relative\">\n        <Toolbar variant=\"dense\">\n          <Typography variant=\"h6\" color=\"inherit\">\n            Remisiones\n          </Typography>\n          <Button\n            onClick={() => setmodalOpen(true)}\n            css={css`\n              margin-left: auto;\n            `}\n            color=\"secondary\"\n            variant=\"contained\"\n            size=\"small\"\n          >\n            <AddIcon\n              css={css`\n                margin-right: 0.5rem;\n              `}\n            />{\" \"}\n            Agregar Remisión\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Folio</TableCell>\n            <TableCell>Fecha de Creación</TableCell>\n            <TableCell>Cliente</TableCell>\n            <TableCell>Oficina Responsable</TableCell>\n            <TableCell></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {list.map((item) => (\n            <TableRow>\n              <TableCell>{item.folio}</TableCell>\n              <TableCell>\n                {moment(item.timestamp).format(\"DD-MM-YYYY hh:mm a\")}\n              </TableCell>\n              <TableCell>\n                <Customer id={item.customer} />\n              </TableCell>\n              <TableCell>\n                <WarehouseItem id={item.warehouse} />\n              </TableCell>\n              <TableCell>\n                <IconButton\n                  component={Link}\n                  to={`/remisiones/detalle/${item.id}`}\n                  color=\"secondary\"\n                >\n                  <SendIcon />\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <Modal open={modalOpen} handleClose={() => setmodalOpen(null)}>\n        <AddRemission handleClose={() => setmodalOpen(null)} />\n      </Modal>\n    </Container>\n  );\n}\n","import { css } from \"@emotion/react\";\nimport {\n  Button,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@mui/material\";\nimport React, { useState } from \"react\";\n\nexport default function WarehouseSetter({\n  warehouse,\n  handleSelect,\n  handleClose,\n}) {\n  const [selected, setselected] = useState(null);\n\n  const handleSubmit = () => {\n    if (selected) {\n      handleSelect(selected);\n      handleClose();\n    } else {\n      alert(\"Selecciona una bodega para continuar\");\n    }\n  };\n\n  return (\n    <>\n      <FormControl fullWidth>\n        <InputLabel id=\"demo-simple-select-label\">\n          Bodega que en que se entregará\n        </InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          label=\"Age\"\n          onChange={(e) => setselected(e.target.value)}\n        >\n          {warehouse.map((item) => (\n            <MenuItem value={item.address}>{item.name}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <Button\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        onClick={handleSubmit}\n      >\n        Continuar\n      </Button>\n    </>\n  );\n}\n","import _ from \"lodash\";\n\nexport const prices = [\n  {\n    m3: 0.08,\n    kg: 20,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 120 },\n      { cities: [\"cdmx\", \"mty\"], amount: 120 },\n      { cities: [\"cdmx\", \"quer\"], amount: 120 },\n      { cities: [\"cdmx\", \"leon\"], amount: 120 },\n      { cities: [\"gda\", \"mty\"], amount: 120 },\n      { cities: [\"gda\", \"quer\"], amount: 120 },\n      { cities: [\"gda\", \"leon\"], amount: 120 },\n      { cities: [\"mty\", \"quer\"], amount: 120 },\n      { cities: [\"mty\", \"leon\"], amount: 120 },\n      { cities: [\"quer\", \"leon\"], amount: 120 },\n    ],\n  },\n  {\n    m3: 0.25,\n    kg: 50,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 180 },\n      { cities: [\"cdmx\", \"mty\"], amount: 180 },\n      { cities: [\"cdmx\", \"quer\"], amount: 180 },\n      { cities: [\"cdmx\", \"leon\"], amount: 180 },\n      { cities: [\"gda\", \"mty\"], amount: 180 },\n      { cities: [\"gda\", \"quer\"], amount: 180 },\n      { cities: [\"gda\", \"leon\"], amount: 180 },\n      { cities: [\"mty\", \"quer\"], amount: 180 },\n      { cities: [\"mty\", \"leon\"], amount: 180 },\n      { cities: [\"quer\", \"leon\"], amount: 180 },\n    ],\n  },\n  {\n    m3: 0.43,\n    kg: 100,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 215 },\n      { cities: [\"cdmx\", \"mty\"], amount: 236.5 },\n      { cities: [\"cdmx\", \"quer\"], amount: 193.5 },\n      { cities: [\"cdmx\", \"leon\"], amount: 215 },\n      { cities: [\"gda\", \"mty\"], amount: 215 },\n      { cities: [\"gda\", \"quer\"], amount: 215 },\n      { cities: [\"gda\", \"leon\"], amount: 215 },\n      { cities: [\"mty\", \"quer\"], amount: 215 },\n      { cities: [\"mty\", \"leon\"], amount: 215 },\n      { cities: [\"quer\", \"leon\"], amount: 215 },\n    ],\n  },\n  {\n    m3: 0.45,\n    kg: 200,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 225 },\n      { cities: [\"cdmx\", \"mty\"], amount: 247.5 },\n      { cities: [\"cdmx\", \"quer\"], amount: 202.5 },\n      { cities: [\"cdmx\", \"leon\"], amount: 225 },\n      { cities: [\"gda\", \"mty\"], amount: 225 },\n      { cities: [\"gda\", \"quer\"], amount: 225 },\n      { cities: [\"gda\", \"leon\"], amount: 225 },\n      { cities: [\"mty\", \"quer\"], amount: 225 },\n      { cities: [\"mty\", \"leon\"], amount: 225 },\n      { cities: [\"quer\", \"leon\"], amount: 225 },\n    ],\n  },\n  {\n    m3: 0.75,\n    kg: 300,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 375 },\n      { cities: [\"cdmx\", \"mty\"], amount: 412.5 },\n      { cities: [\"cdmx\", \"quer\"], amount: 337.5 },\n      { cities: [\"cdmx\", \"leon\"], amount: 375 },\n      { cities: [\"gda\", \"mty\"], amount: 375 },\n      { cities: [\"gda\", \"quer\"], amount: 375 },\n      { cities: [\"gda\", \"leon\"], amount: 375 },\n      { cities: [\"mty\", \"quer\"], amount: 375 },\n      { cities: [\"mty\", \"leon\"], amount: 375 },\n      { cities: [\"quer\", \"leon\"], amount: 375 },\n    ],\n  },\n  {\n    m3: 0.9,\n    kg: 400,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 450 },\n      { cities: [\"cdmx\", \"mty\"], amount: 495 },\n      { cities: [\"cdmx\", \"quer\"], amount: 405 },\n      { cities: [\"cdmx\", \"leon\"], amount: 450 },\n      { cities: [\"gda\", \"mty\"], amount: 450 },\n      { cities: [\"gda\", \"quer\"], amount: 450 },\n      { cities: [\"gda\", \"leon\"], amount: 450 },\n      { cities: [\"mty\", \"quer\"], amount: 450 },\n      { cities: [\"mty\", \"leon\"], amount: 450 },\n      { cities: [\"quer\", \"leon\"], amount: 450 },\n    ],\n  },\n  {\n    m3: 1,\n    kg: 500,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 500 },\n      { cities: [\"cdmx\", \"mty\"], amount: 550 },\n      { cities: [\"cdmx\", \"quer\"], amount: 450 },\n      { cities: [\"cdmx\", \"leon\"], amount: 500 },\n      { cities: [\"gda\", \"mty\"], amount: 500 },\n      { cities: [\"gda\", \"quer\"], amount: 500 },\n      { cities: [\"gda\", \"leon\"], amount: 500 },\n      { cities: [\"mty\", \"quer\"], amount: 500 },\n      { cities: [\"mty\", \"leon\"], amount: 500 },\n      { cities: [\"quer\", \"leon\"], amount: 500 },\n    ],\n  },\n  {\n    m3: 1.2,\n    kg: 600,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 600 },\n      { cities: [\"cdmx\", \"mty\"], amount: 660 },\n      { cities: [\"cdmx\", \"quer\"], amount: 540 },\n      { cities: [\"cdmx\", \"leon\"], amount: 600 },\n      { cities: [\"gda\", \"mty\"], amount: 600 },\n      { cities: [\"gda\", \"quer\"], amount: 600 },\n      { cities: [\"gda\", \"leon\"], amount: 600 },\n      { cities: [\"mty\", \"quer\"], amount: 600 },\n      { cities: [\"mty\", \"leon\"], amount: 600 },\n      { cities: [\"quer\", \"leon\"], amount: 600 },\n    ],\n  },\n  {\n    m3: 1.5,\n    kg: 700,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 750 },\n      { cities: [\"cdmx\", \"mty\"], amount: 825 },\n      { cities: [\"cdmx\", \"quer\"], amount: 675 },\n      { cities: [\"cdmx\", \"leon\"], amount: 750 },\n      { cities: [\"gda\", \"mty\"], amount: 750 },\n      { cities: [\"gda\", \"quer\"], amount: 750 },\n      { cities: [\"gda\", \"leon\"], amount: 750 },\n      { cities: [\"mty\", \"quer\"], amount: 750 },\n      { cities: [\"mty\", \"leon\"], amount: 750 },\n      { cities: [\"quer\", \"leon\"], amount: 750 },\n    ],\n  },\n  {\n    m3: 1.7,\n    kg: 800,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 850 },\n      { cities: [\"cdmx\", \"mty\"], amount: 935 },\n      { cities: [\"cdmx\", \"quer\"], amount: 765 },\n      { cities: [\"cdmx\", \"leon\"], amount: 850 },\n      { cities: [\"gda\", \"mty\"], amount: 850 },\n      { cities: [\"gda\", \"quer\"], amount: 850 },\n      { cities: [\"gda\", \"leon\"], amount: 850 },\n      { cities: [\"mty\", \"quer\"], amount: 850 },\n      { cities: [\"mty\", \"leon\"], amount: 850 },\n      { cities: [\"quer\", \"leon\"], amount: 850 },\n    ],\n  },\n  {\n    m3: 1.9,\n    kg: 900,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 950 },\n      { cities: [\"cdmx\", \"mty\"], amount: 1045 },\n      { cities: [\"cdmx\", \"quer\"], amount: 855 },\n      { cities: [\"cdmx\", \"leon\"], amount: 950 },\n      { cities: [\"gda\", \"mty\"], amount: 950 },\n      { cities: [\"gda\", \"quer\"], amount: 950 },\n      { cities: [\"gda\", \"leon\"], amount: 950 },\n      { cities: [\"mty\", \"quer\"], amount: 950 },\n      { cities: [\"mty\", \"leon\"], amount: 950 },\n      { cities: [\"quer\", \"leon\"], amount: 950 },\n    ],\n  },\n  {\n    m3: 2,\n    kg: 1000,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 1000 },\n      { cities: [\"cdmx\", \"mty\"], amount: 1100 },\n      { cities: [\"cdmx\", \"quer\"], amount: 900 },\n      { cities: [\"cdmx\", \"leon\"], amount: 1000 },\n      { cities: [\"gda\", \"mty\"], amount: 1000 },\n      { cities: [\"gda\", \"quer\"], amount: 1000 },\n      { cities: [\"gda\", \"leon\"], amount: 1000 },\n      { cities: [\"mty\", \"quer\"], amount: 1000 },\n      { cities: [\"mty\", \"leon\"], amount: 1000 },\n      { cities: [\"quer\", \"leon\"], amount: 1000 },\n    ],\n  },\n  {\n    m3: 2.5,\n    kg: 1250,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 1250 },\n      { cities: [\"cdmx\", \"mty\"], amount: 1375 },\n      { cities: [\"cdmx\", \"quer\"], amount: 1125 },\n      { cities: [\"cdmx\", \"leon\"], amount: 1250 },\n      { cities: [\"gda\", \"mty\"], amount: 1250 },\n      { cities: [\"gda\", \"quer\"], amount: 1250 },\n      { cities: [\"gda\", \"leon\"], amount: 1250 },\n      { cities: [\"mty\", \"quer\"], amount: 1250 },\n      { cities: [\"mty\", \"leon\"], amount: 1250 },\n      { cities: [\"quer\", \"leon\"], amount: 1250 },\n    ],\n  },\n  {\n    m3: 3,\n    kg: 1500,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 1500 },\n      { cities: [\"cdmx\", \"mty\"], amount: 1650 },\n      { cities: [\"cdmx\", \"quer\"], amount: 1350 },\n      { cities: [\"cdmx\", \"leon\"], amount: 1500 },\n      { cities: [\"gda\", \"mty\"], amount: 1500 },\n      { cities: [\"gda\", \"quer\"], amount: 1500 },\n      { cities: [\"gda\", \"leon\"], amount: 1500 },\n      { cities: [\"mty\", \"quer\"], amount: 1500 },\n      { cities: [\"mty\", \"leon\"], amount: 1500 },\n      { cities: [\"quer\", \"leon\"], amount: 1500 },\n    ],\n  },\n  {\n    m3: 3.5,\n    kg: 1750,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 1750 },\n      { cities: [\"cdmx\", \"mty\"], amount: 1925 },\n      { cities: [\"cdmx\", \"quer\"], amount: 1575 },\n      { cities: [\"cdmx\", \"leon\"], amount: 1750 },\n      { cities: [\"gda\", \"mty\"], amount: 1750 },\n      { cities: [\"gda\", \"quer\"], amount: 1750 },\n      { cities: [\"gda\", \"leon\"], amount: 1750 },\n      { cities: [\"mty\", \"quer\"], amount: 1750 },\n      { cities: [\"mty\", \"leon\"], amount: 1750 },\n      { cities: [\"quer\", \"leon\"], amount: 1750 },\n    ],\n  },\n  {\n    m3: 4,\n    kg: 2000,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 2000 },\n      { cities: [\"cdmx\", \"mty\"], amount: 2200 },\n      { cities: [\"cdmx\", \"quer\"], amount: 1800 },\n      { cities: [\"cdmx\", \"leon\"], amount: 2000 },\n      { cities: [\"gda\", \"mty\"], amount: 2000 },\n      { cities: [\"gda\", \"quer\"], amount: 2000 },\n      { cities: [\"gda\", \"leon\"], amount: 2000 },\n      { cities: [\"mty\", \"quer\"], amount: 2000 },\n      { cities: [\"mty\", \"leon\"], amount: 2000 },\n      { cities: [\"quer\", \"leon\"], amount: 2000 },\n    ],\n  },\n  {\n    m3: 4.5,\n    kg: 2250,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 2250 },\n      { cities: [\"cdmx\", \"mty\"], amount: 2475 },\n      { cities: [\"cdmx\", \"quer\"], amount: 2025 },\n      { cities: [\"cdmx\", \"leon\"], amount: 2250 },\n      { cities: [\"gda\", \"mty\"], amount: 2250 },\n      { cities: [\"gda\", \"quer\"], amount: 2250 },\n      { cities: [\"gda\", \"leon\"], amount: 2250 },\n      { cities: [\"mty\", \"quer\"], amount: 2250 },\n      { cities: [\"mty\", \"leon\"], amount: 2250 },\n      { cities: [\"quer\", \"leon\"], amount: 2250 },\n    ],\n  },\n  {\n    m3: 5,\n    kg: 2500,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 2500 },\n      { cities: [\"cdmx\", \"mty\"], amount: 2750 },\n      { cities: [\"cdmx\", \"quer\"], amount: 2250 },\n      { cities: [\"cdmx\", \"leon\"], amount: 2500 },\n      { cities: [\"gda\", \"mty\"], amount: 2500 },\n      { cities: [\"gda\", \"quer\"], amount: 2500 },\n      { cities: [\"gda\", \"leon\"], amount: 2500 },\n      { cities: [\"mty\", \"quer\"], amount: 2500 },\n      { cities: [\"mty\", \"leon\"], amount: 2500 },\n      { cities: [\"quer\", \"leon\"], amount: 2500 },\n    ],\n  },\n  {\n    m3: 5.5,\n    kg: 2750,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 2750 },\n      { cities: [\"cdmx\", \"mty\"], amount: 3025 },\n      { cities: [\"cdmx\", \"quer\"], amount: 2475 },\n      { cities: [\"cdmx\", \"leon\"], amount: 2750 },\n      { cities: [\"gda\", \"mty\"], amount: 2750 },\n      { cities: [\"gda\", \"quer\"], amount: 2750 },\n      { cities: [\"gda\", \"leon\"], amount: 2750 },\n      { cities: [\"mty\", \"quer\"], amount: 2750 },\n      { cities: [\"mty\", \"leon\"], amount: 2750 },\n      { cities: [\"quer\", \"leon\"], amount: 2750 },\n    ],\n  },\n  {\n    m3: 6,\n    kg: 3000,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 3000 },\n      { cities: [\"cdmx\", \"mty\"], amount: 3300 },\n      { cities: [\"cdmx\", \"quer\"], amount: 2700 },\n      { cities: [\"cdmx\", \"leon\"], amount: 3000 },\n      { cities: [\"gda\", \"mty\"], amount: 3000 },\n      { cities: [\"gda\", \"quer\"], amount: 3000 },\n      { cities: [\"gda\", \"leon\"], amount: 3000 },\n      { cities: [\"mty\", \"quer\"], amount: 3000 },\n      { cities: [\"mty\", \"leon\"], amount: 3000 },\n      { cities: [\"quer\", \"leon\"], amount: 3000 },\n    ],\n  },\n  {\n    m3: 7,\n    kg: 3500,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 3325 },\n      { cities: [\"cdmx\", \"mty\"], amount: 3850 },\n      { cities: [\"cdmx\", \"quer\"], amount: 3150 },\n      { cities: [\"cdmx\", \"leon\"], amount: 3325 },\n      { cities: [\"gda\", \"mty\"], amount: 3325 },\n      { cities: [\"gda\", \"quer\"], amount: 3325 },\n      { cities: [\"gda\", \"leon\"], amount: 3325 },\n      { cities: [\"mty\", \"quer\"], amount: 3325 },\n      { cities: [\"mty\", \"leon\"], amount: 3325 },\n      { cities: [\"quer\", \"leon\"], amount: 3325 },\n    ],\n  },\n  {\n    m3: 8,\n    kg: 4000,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 3800 },\n      { cities: [\"cdmx\", \"mty\"], amount: 4400 },\n      { cities: [\"cdmx\", \"quer\"], amount: 3600 },\n      { cities: [\"cdmx\", \"leon\"], amount: 3800 },\n      { cities: [\"gda\", \"mty\"], amount: 3800 },\n      { cities: [\"gda\", \"quer\"], amount: 3800 },\n      { cities: [\"gda\", \"leon\"], amount: 3800 },\n      { cities: [\"mty\", \"quer\"], amount: 3800 },\n      { cities: [\"mty\", \"leon\"], amount: 3800 },\n      { cities: [\"quer\", \"leon\"], amount: 3800 },\n    ],\n  },\n  {\n    m3: 9,\n    kg: 4500,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 4275 },\n      { cities: [\"cdmx\", \"mty\"], amount: 4950 },\n      { cities: [\"cdmx\", \"quer\"], amount: 4050 },\n      { cities: [\"cdmx\", \"leon\"], amount: 4275 },\n      { cities: [\"gda\", \"mty\"], amount: 4275 },\n      { cities: [\"gda\", \"quer\"], amount: 4275 },\n      { cities: [\"gda\", \"leon\"], amount: 4275 },\n      { cities: [\"mty\", \"quer\"], amount: 4275 },\n      { cities: [\"mty\", \"leon\"], amount: 4275 },\n      { cities: [\"quer\", \"leon\"], amount: 4275 },\n    ],\n  },\n  {\n    m3: 10,\n    kg: 5000,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 4500 },\n      { cities: [\"cdmx\", \"mty\"], amount: 5500 },\n      { cities: [\"cdmx\", \"quer\"], amount: 4500 },\n      { cities: [\"cdmx\", \"leon\"], amount: 4500 },\n      { cities: [\"gda\", \"mty\"], amount: 4500 },\n      { cities: [\"gda\", \"quer\"], amount: 4500 },\n      { cities: [\"gda\", \"leon\"], amount: 4500 },\n      { cities: [\"mty\", \"quer\"], amount: 4500 },\n      { cities: [\"mty\", \"leon\"], amount: 4500 },\n      { cities: [\"quer\", \"leon\"], amount: 4500 },\n    ],\n  },\n  {\n    m3: 14,\n    kg: 7000,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 6300 },\n      { cities: [\"cdmx\", \"mty\"], amount: 7700 },\n      { cities: [\"cdmx\", \"quer\"], amount: 6300 },\n      { cities: [\"cdmx\", \"leon\"], amount: 6300 },\n      { cities: [\"gda\", \"mty\"], amount: 6300 },\n      { cities: [\"gda\", \"quer\"], amount: 6300 },\n      { cities: [\"gda\", \"leon\"], amount: 6300 },\n      { cities: [\"mty\", \"quer\"], amount: 6300 },\n      { cities: [\"mty\", \"leon\"], amount: 6300 },\n      { cities: [\"quer\", \"leon\"], amount: 6300 },\n    ],\n  },\n  {\n    m3: 18,\n    kg: 9000,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 8100 },\n      { cities: [\"cdmx\", \"mty\"], amount: 9900 },\n      { cities: [\"cdmx\", \"quer\"], amount: 8100 },\n      { cities: [\"cdmx\", \"leon\"], amount: 8100 },\n      { cities: [\"gda\", \"mty\"], amount: 8100 },\n      { cities: [\"gda\", \"quer\"], amount: 8100 },\n      { cities: [\"gda\", \"leon\"], amount: 8100 },\n      { cities: [\"mty\", \"quer\"], amount: 8100 },\n      { cities: [\"mty\", \"leon\"], amount: 8100 },\n      { cities: [\"quer\", \"leon\"], amount: 8100 },\n    ],\n  },\n  {\n    m3: 20,\n    kg: 10000,\n    list: [\n      { cities: [\"cdmx\", \"gda\"], amount: 9000 },\n      { cities: [\"cdmx\", \"mty\"], amount: 11000 },\n      { cities: [\"cdmx\", \"quer\"], amount: 9000 },\n      { cities: [\"cdmx\", \"leon\"], amount: 9000 },\n      { cities: [\"gda\", \"mty\"], amount: 9000 },\n      { cities: [\"gda\", \"quer\"], amount: 9000 },\n      { cities: [\"gda\", \"leon\"], amount: 9000 },\n      { cities: [\"mty\", \"quer\"], amount: 9000 },\n      { cities: [\"mty\", \"leon\"], amount: 9000 },\n      { cities: [\"quer\", \"leon\"], amount: 9000 },\n    ],\n  },\n];\n\nexport const calculator = (item) => {\n  if (item.weight) {\n    const filter = _.filter(prices, (o) => {\n      return o.kg >= item.weight;\n    });\n    const resp = _.head(filter);\n    return resp;\n  }\n  if (item.m3) {\n    const filter = _.filter(prices, (o) => {\n      return o.m3 >= item.m3;\n    });\n    const resp = _.head(filter);\n    return resp;\n  }\n};\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { Button, FormControl, MenuItem, TextField } from \"@mui/material\";\nimport { css } from \"@emotion/react\";\nimport { InputLabel, Select } from \"@material-ui/core\";\nimport { calculator } from \"../utils/prices\";\nimport _ from \"lodash\";\n\nexport default function AddContent({ remissionId, from, to }) {\n  const [state, setstate] = useState({});\n  const [list, setlist] = useState([]);\n\n  const handleChange = (index, val) => {\n    var newState = { ...state };\n    newState[index] = val;\n    setstate(newState);\n  };\n\n  useEffect(() => {\n    firebase\n      .getCollection(\"packagingType\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        setlist(data);\n      });\n  }, []);\n\n  return (\n    <form\n      css={css`\n        padding: 0 1rem 1rem 1rem;\n      `}\n      onSubmit={(e) => e.preventDefault() && false}\n    >\n      <h3>Agregar Contenido</h3>\n      <TextField\n        id=\"outlined-basic\"\n        label=\"Cantidad\"\n        variant=\"outlined\"\n        type=\"number\"\n        fullWidth\n        value={state.quantity}\n        onChange={(e) => handleChange(\"quantity\", e.target.value)}\n        css={css`\n          margin-bottom: 1rem;\n        `}\n      />\n      <FormControl variant=\"outlined\" fullWidth>\n        <InputLabel id=\"packaging\">Embalaje</InputLabel>\n        <Select\n          labelId=\"packaging\"\n          id=\"demo-simple-select\"\n          value={state.packaging}\n          label=\"Age\"\n          onChange={(e) => handleChange(\"packaging\", e.target.value)}\n          css={css`\n            margin-bottom: 1rem;\n          `}\n        >\n          {list.map((item) => (\n            <MenuItem value={item.name}>{item.name}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <TextField\n        id=\"outlined-basic\"\n        label=\"Descripción\"\n        variant=\"outlined\"\n        type=\"text\"\n        fullWidth\n        value={state.description}\n        onChange={(e) => handleChange(\"description\", e.target.value)}\n        css={css`\n          margin-bottom: 1rem;\n        `}\n      />\n      <TextField\n        id=\"outlined-basic\"\n        label=\"Peso (kg)\"\n        variant=\"outlined\"\n        type=\"number\"\n        fullWidth\n        value={state.weight}\n        onChange={(e) => handleChange(\"weight\", e.target.value)}\n        css={css`\n          margin-bottom: 1rem;\n        `}\n      />\n      <TextField\n        id=\"outlined-basic\"\n        label=\"M3\"\n        variant=\"outlined\"\n        type=\"number\"\n        fullWidth\n        value={state.m3}\n        onChange={(e) => handleChange(\"m3\", e.target.value)}\n        css={css`\n          margin-bottom: 1rem;\n        `}\n      />\n      <Button\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        onClick={handleSubmit}\n      >\n        Agregar\n      </Button>\n    </form>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (from && to) {\n        if (state.quantity && state.packaging && state.description) {\n          if (state.weight || state.m3) {\n            var newState = { ...state };\n            newState.weight = Number(state.weight);\n            newState.m3 = Number(state.m3);\n            newState.quantity = Number(state.quantity);\n            const resp = calculator(newState);\n            const list = resp.list;\n\n            const filter = list.filter((item) =>\n              item.cities.some((ware) => ware.includes(from))\n            );\n            const secondFilter = filter.filter((item) =>\n              item.cities.some((ware) => ware.includes(to))\n            );\n            const amount = secondFilter[0].amount;\n            newState.price = amount;\n            firebase\n              .simpleAdd(newState, `/remissions/${remissionId}/content`)\n              .then(() => {\n                alert(\"Elemento agregado\");\n                setstate({});\n              });\n          } else {\n            alert(\"Ingresa peso o m3\");\n          }\n        } else {\n          alert(\"Ingresa cantidad, embalaje y descripción para continuar\");\n        }\n      } else {\n        alert(\n          \"Selecciona la bodega de salida y de entrega para poder calcular el precio\"\n        );\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../../utils/firebase\";\nimport { css } from \"@emotion/react\";\nimport { Paper, TableCell } from \"@material-ui/core\";\nimport AddContent from \"../AddContent\";\nimport {\n  Grid,\n  IconButton,\n  Table,\n  TableBody,\n  TableHead,\n  TableRow,\n} from \"@mui/material\";\nimport numeral from \"numeral\";\nimport _ from \"lodash\";\n\nimport DeleteIcon from \"@mui/icons-material/Delete\";\n\nexport default function RemissionContent({ id, from, to, list }) {\n  const freight = _.reduce(\n    list,\n    (sum, n) => {\n      return sum + n.price;\n    },\n    0\n  );\n  const iva = freight * 0.16;\n  // const retencion = freight * 0.04;\n  const total = freight + iva;\n\n  return (\n    <Paper\n      css={css`\n        margin-top: 1rem;\n      `}\n      component={Grid}\n      container\n    >\n      <Grid item md={4} sm={12}>\n        <AddContent from={from} to={to} remissionId={id} />\n      </Grid>\n      <Grid item md={8} sm={12}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell></TableCell>\n              <TableCell>Cantidad</TableCell>\n              <TableCell>Embalaje</TableCell>\n              <TableCell>Descripción</TableCell>\n              <TableCell>Peso</TableCell>\n              <TableCell>M3</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {list.map((item) => (\n              <TableRow>\n                <TableCell>\n                  <IconButton\n                    onClick={() =>\n                      firebase.delete(`remissions/${id}/content`, item.id, item)\n                    }\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </TableCell>\n                <TableCell>{numeral(item.quantity).format(\"0.00\")}</TableCell>\n                <TableCell>{item.packaging}</TableCell>\n                <TableCell>{item.description}</TableCell>\n                <TableCell>{numeral(item.weight).format(\"0.00\")}</TableCell>\n                <TableCell>{numeral(item.m3).format(\"0.00\")}</TableCell>\n              </TableRow>\n            ))}\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Flete</TableCell>\n              <TableCell>{numeral(freight).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Seguro</TableCell>\n              <TableCell>{numeral(0).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Man Carga</TableCell>\n              <TableCell>{numeral(0).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Man Descarga</TableCell>\n              <TableCell>{numeral(0).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Recolección</TableCell>\n              <TableCell>{numeral(0).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Reparto</TableCell>\n              <TableCell>{numeral(0).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Otros</TableCell>\n              <TableCell>{numeral(0).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Subtotal</TableCell>\n              <TableCell>{numeral(freight).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>IVA 16%</TableCell>\n              <TableCell>{numeral(iva).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Retención 4%</TableCell>\n              <TableCell>{numeral(0).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell colSpan=\"4\"></TableCell>\n              <TableCell>Total</TableCell>\n              <TableCell>{numeral(total).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </Grid>\n    </Paper>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  InputLabel,\n  Paper,\n  Select,\n  TableCell,\n  TextField,\n} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport { css } from \"@emotion/core\";\nimport Customer from \"../Customer\";\nimport {\n  FormControl,\n  MenuItem,\n  Table,\n  TableBody,\n  TableRow,\n  Button,\n} from \"@mui/material\";\n\nimport WarehouseSetter from \"../WarehouseSetter\";\nimport AddressSetter from \"../AddressSetter\";\nimport Modal from \"../Modal\";\nimport RemissionContent from \"./RemissionContent\";\n\nexport default function RemissionDetail({\n  remission,\n  id,\n  paymentmethods,\n  handleUpdate,\n  warehouse,\n  content,\n}) {\n  const [modalOpen, setmodalOpen] = useState(null);\n  return (\n    <>\n      <Table\n        component={Paper}\n        css={css`\n          table-layout: fixed;\n        `}\n      >\n        <TableBody>\n          <TableRow>\n            <TableCell>\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">\n                  Método de Pago\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={remission.paymentmethod}\n                  label=\"Age\"\n                  onChange={(e) =>\n                    handleUpdate(\"paymentmethod\", e.target.value)\n                  }\n                >\n                  {paymentmethods.map((item) => (\n                    <MenuItem value={item.clave}>\n                      {item.clave} - {item.description}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </TableCell>\n            <TableCell>\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">\n                  Oficina Responsable\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={remission.warehouse}\n                  label=\"Age\"\n                  onChange={(e) => handleUpdate(\"warehouse\", e.target.value)}\n                >\n                  {warehouse.map((item) => (\n                    <MenuItem value={item.id}>{item.name}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </TableCell>\n            <TableCell>\n              <TextField\n                value={remission.declaratedValue}\n                fullWidth\n                onChange={(e) =>\n                  handleUpdate(\"declaratedValue\", e.target.value)\n                }\n                label=\"Valor Declarado\"\n                type=\"number\"\n              />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              <label>Días de Crédito</label>\n              <p>\n                <Customer index=\"daysCredit\" id={remission.customer} />\n              </p>\n            </TableCell>\n            <TableCell>{/* Ver que es esto de Flete */}</TableCell>\n            <TableCell>\n              <TextField\n                value={remission.folio}\n                fullWidth\n                onChange={(e) => handleUpdate(\"folio\", e.target.value)}\n                label=\"Folio\"\n              />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              <label>Ruta</label>\n              <p></p>\n            </TableCell>\n            <TableCell>\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">\n                  Oficina Salida\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={remission.from}\n                  label=\"Age\"\n                  onChange={(e) => handleUpdate(\"from\", e.target.value)}\n                >\n                  {warehouse.map((item) => (\n                    <MenuItem value={item.index}>{item.name}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </TableCell>\n            <TableCell>\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">\n                  Oficina Entrega\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={remission.to}\n                  label=\"Age\"\n                  onChange={(e) => handleUpdate(\"to\", e.target.value)}\n                >\n                  {warehouse.map((item) => (\n                    <MenuItem value={item.index}>{item.name}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              <TextField\n                label=\"Fecha de servicio\"\n                value={moment(remission.date).format(\"YYYY-MM-DD\")}\n                fullWidth\n                onChange={(e) =>\n                  handleUpdate(\n                    \"date\",\n                    moment(e.target.value, \"YYYY-MM-DD\").valueOf()\n                  )\n                }\n                type=\"date\"\n              />\n            </TableCell>\n            <TableCell>\n              <label>Fecha de Creación</label>\n              <p>{moment(remission.timestamp).format(\"DD-MM-YYYY\")}</p>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n      <Table\n        component={Paper}\n        css={css`\n          table-layout: fixed;\n          margin-top: 1rem;\n        `}\n      >\n        <TableBody>\n          <TableRow>\n            <TableCell>\n              <label>Cliente</label>\n              <p>\n                <Customer id={remission.customer} index=\"name\" />\n              </p>\n            </TableCell>\n            <TableCell>\n              <label>RFC</label>\n              <p>\n                <Customer id={remission.customer} index=\"rfc\" />\n              </p>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              <TextField\n                value={remission.solicitor}\n                fullWidth\n                onChange={(e) => handleUpdate(\"solicitor\", e.target.value)}\n                label=\"Solicita\"\n              />\n            </TableCell>\n            <TableCell>\n              <label>Usuario Documentador</label>\n              <p>{remission.userEmail}</p>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n      <Table\n        component={Paper}\n        css={css`\n          table-layout: fixed;\n          margin-top: 1rem;\n        `}\n      >\n        <TableBody>\n          <TableRow>\n            <TableCell>\n              <h3>Remitente</h3>\n              <TextField\n                value={remission.senderContact}\n                fullWidth\n                onChange={(e) => handleUpdate(\"senderContact\", e.target.value)}\n                label=\"Información de Contacto\"\n                helperText=\"Obligatorio\"\n              />\n              <TextField\n                value={remission.senderName}\n                fullWidth\n                onChange={(e) => handleUpdate(\"senderName\", e.target.value)}\n                label=\"Nombre de Remitente\"\n                helperText=\"En caso de ser diferente al nomble del cliente\"\n              />\n              <TextField\n                value={remission.senderRFC}\n                fullWidth\n                onChange={(e) => handleUpdate(\"senderRFC\", e.target.value)}\n                label=\"RFC de Remitente\"\n                helperText=\"En caso de ser diferente al nomble del cliente\"\n              />\n              <TextField\n                multiline\n                rows={4}\n                value={remission.senderComments}\n                fullWidth\n                onChange={(e) => handleUpdate(\"senderComments\", e.target.value)}\n                label=\"Comentarios\"\n                helperText=\"En caso de ser diferente al nomble del cliente\"\n                css={css`\n                  margin-bottom: auto;\n                `}\n              />\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">\n                  Tipo de Recolección\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={remission.senderType}\n                  label=\"Age\"\n                  onChange={(e) => handleUpdate(\"senderType\", e.target.value)}\n                >\n                  <MenuItem value=\"sucursal\">En Bodega</MenuItem>\n                  <MenuItem value=\"personalizada\">Domicilio Remitente</MenuItem>\n                </Select>\n              </FormControl>\n              {remission.senderType === \"sucursal\" ? (\n                <Button\n                  variant=\"contained\"\n                  fullWidth\n                  css={css`\n                    margin-top: 1rem;\n                  `}\n                  onClick={() => setmodalOpen(\"sender-bodega\")}\n                >\n                  Seleccionar Sucursal\n                </Button>\n              ) : remission.senderType === \"personalizada\" ? (\n                <Button\n                  variant=\"contained\"\n                  fullWidth\n                  css={css`\n                    margin-top: 1rem;\n                  `}\n                  onClick={() => setmodalOpen(\"sender-personalizado\")}\n                >\n                  Establecer Dirección\n                </Button>\n              ) : (\n                \"\"\n              )}\n              <p>{remission.senderAddress?.formatted_address}</p>\n            </TableCell>\n            <TableCell>\n              <h3>Destinatario</h3>\n              <TextField\n                value={remission.receiverContact}\n                fullWidth\n                onChange={(e) =>\n                  handleUpdate(\"receiverContact\", e.target.value)\n                }\n                label=\"Información de Contacto\"\n                helperText=\"Obligatorio\"\n              />\n              <TextField\n                value={remission.receiverName}\n                fullWidth\n                onChange={(e) => handleUpdate(\"receiverName\", e.target.value)}\n                label=\"Nombre de Destinatario\"\n              />\n              <TextField\n                value={remission.receiverRFC}\n                fullWidth\n                onChange={(e) => handleUpdate(\"receiverRFC\", e.target.value)}\n                label=\"RFC de Destinatario\"\n              />\n              <TextField\n                value={remission.receiverPhone}\n                fullWidth\n                onChange={(e) => handleUpdate(\"receiverPhone\", e.target.value)}\n                label=\"Teléfono de Destinatario\"\n                helperText=\"10 dígitos, sin espacios, sólo numeros\"\n              />\n              <TextField\n                value={remission.receiverEmail}\n                fullWidth\n                onChange={(e) => handleUpdate(\"receiverEmail\", e.target.value)}\n                label=\"Correo de destinatario\"\n              />\n              <TextField\n                multiline\n                rows={4}\n                value={remission.receiverComments}\n                fullWidth\n                onChange={(e) =>\n                  handleUpdate(\"receiverComments\", e.target.value)\n                }\n                label=\"Comentarios\"\n              />\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">\n                  Tipo de Entrega\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={remission.receiverType}\n                  label=\"Age\"\n                  onChange={(e) => handleUpdate(\"receiverType\", e.target.value)}\n                >\n                  <MenuItem value=\"sucursal\">En Bodega</MenuItem>\n                  <MenuItem value=\"personalizada\">\n                    Domicilio Destinatario\n                  </MenuItem>\n                </Select>\n              </FormControl>\n              {remission.receiverType === \"sucursal\" ? (\n                <Button\n                  variant=\"contained\"\n                  fullWidth\n                  css={css`\n                    margin-top: 1rem;\n                  `}\n                  onClick={() => setmodalOpen(\"receiver-bodega\")}\n                >\n                  Seleccionar Sucursal\n                </Button>\n              ) : remission.receiverType === \"personalizada\" ? (\n                <Button\n                  variant=\"contained\"\n                  fullWidth\n                  css={css`\n                    margin-top: 1rem;\n                  `}\n                  onClick={() => setmodalOpen(\"receiver-personalizado\")}\n                >\n                  Establecer Dirección\n                </Button>\n              ) : (\n                \"\"\n              )}\n              <p>{remission.receiverAddress?.formatted_address}</p>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n\n      <RemissionContent\n        list={content}\n        from={remission.from}\n        to={remission.to}\n        id={id}\n      />\n\n      <Modal open={!!modalOpen} handleClose={() => setmodalOpen(null)}>\n        {modalOpen === \"sender-bodega\" ? (\n          <WarehouseSetter\n            warehouse={warehouse}\n            handleSelect={(address) => handleUpdate(\"senderAddress\", address)}\n            handleClose={() => setmodalOpen(null)}\n          />\n        ) : modalOpen === \"sender-personalizado\" ? (\n          <AddressSetter\n            handleSelect={(address) => {\n              handleUpdate(\"senderAddress\", address);\n              setmodalOpen(null);\n            }}\n            handleClose={() => setmodalOpen(null)}\n          />\n        ) : modalOpen === \"receiver-bodega\" ? (\n          <WarehouseSetter\n            warehouse={warehouse}\n            handleSelect={(address) => handleUpdate(\"receiverAddress\", address)}\n            handleClose={() => setmodalOpen(null)}\n          />\n        ) : modalOpen === \"receiver-personalizado\" ? (\n          <AddressSetter\n            handleSelect={(address) => {\n              handleUpdate(\"receiverAddress\", address);\n              setmodalOpen(null);\n            }}\n            handleClose={() => setmodalOpen(null)}\n          />\n        ) : (\n          \"\"\n        )}\n      </Modal>\n    </>\n  );\n}\n","import React from \"react\";\nimport axios from \"axios\";\nimport { Button, ButtonGroup } from \"@material-ui/core\";\nimport firebase from \"../../utils/firebase\";\nimport fileDownload from \"js-file-download\";\n\nexport default function RemissionInvoice({ data, customer, content }) {\n  const handleInvoice = async () => {\n    const list = content.map((item, index) => ({\n      quantity: 1,\n      discount: 0,\n      product: {\n        description: item.description,\n        product_key: \"01010101\",\n        price: item.price,\n        tax_included: false,\n        conditions: customer.daysCredit ? Number(customer.daysCredit) : null,\n      },\n    }));\n    const invoiceData = {\n      legalName: customer.name,\n      email: customer.email,\n      rfc: customer.rfc,\n      items: list,\n      paymentForm: data.paymentmethod,\n    };\n    const resp = await axios.get(\n      \"http://localhost:8080/api/facturapi/createinvoice\",\n      {\n        params: {\n          data: JSON.stringify(invoiceData),\n        },\n      }\n    );\n    firebase.update(\"remissions\", data.id, \"invoice\", resp.data).then(() => {\n      alert(\"Factura Creada\");\n    });\n  };\n  const sendInvoice = async () => {\n    await axios\n      .get(\"http://localhost:8080/api/facturapi/sendinvoice\", {\n        params: {\n          id: data.invoice.id,\n        },\n      })\n      .then(() => {\n        alert(\"Factura enviada por correo electrónico\");\n      });\n  };\n  const downloadInvoice = async () => {\n    axios({\n      url: \"http://localhost:8080/api/facturapi/invoicedownloader\",\n      method: \"GET\",\n      responseType: \"blob\",\n      params: {\n        id: data.invoice.id,\n      },\n    }).then((response) => {\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", \"factura.zip\"); //or any other extension\n      document.body.appendChild(link);\n      link.click();\n    });\n  };\n\n  const cancelInvoice = async () => {\n    const resp = await axios.get(\n      \"http://localhost:8080/api/facturapi/cancelinvoice\",\n      {\n        params: {\n          id: data.invoice.id,\n        },\n      }\n    );\n    console.log(resp.data);\n    firebase.update(\"remissions\", data.id, \"invoice\", resp.data).then(() => {\n      alert(\"Factura Cancelada\");\n    });\n  };\n\n  return (\n    <div>\n      {data.invoice && data.invoice.status !== \"valid\" && (\n        <p>Factura cancelada</p>\n      )}\n      {data.invoice ? (\n        <ButtonGroup\n          variant=\"text\"\n          color=\"primary\"\n          aria-label=\"contained primary button group\"\n        >\n          <Button onClick={sendInvoice}>Enviar factura</Button>\n          <Button onClick={downloadInvoice}>Descargar factura</Button>\n          <Button onClick={cancelInvoice}>Cancelar Factura</Button>\n        </ButtonGroup>\n      ) : (\n        <ButtonGroup\n          variant=\"text\"\n          color=\"primary\"\n          aria-label=\"contained primary button group\"\n        >\n          <Button onClick={handleInvoice}>Timbrar factura</Button>\n        </ButtonGroup>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport {\n  TextField,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\nimport moment from \"moment\";\n\nexport default function AddPayment({ data }) {\n  const [date, setdate] = useState(\"\");\n  const [reference, setreference] = useState(\"\");\n  const [amount, setamount] = useState(\"\");\n\n  useEffect(() => {\n    const today = moment().format(\"YYYY-MM-DD\");\n    setdate(today);\n  }, []);\n\n  return (\n    <div\n      css={css`\n        padding: 1rem;\n      `}\n    >\n      <Typography align=\"center\" variant=\"h4\">\n        Agregar Pago\n      </Typography>\n      <TextField\n        label=\"Fecha de Pago\"\n        fullWidth\n        value={date ? date : \"\"}\n        onChange={(e) => setdate(e.target.value)}\n        type=\"date\"\n        css={css`\n          margin-top: 1rem;\n        `}\n      />\n      <TextField\n        label=\"Referencia\"\n        fullWidth\n        value={reference ? reference : \"\"}\n        onChange={(e) => setreference(e.target.value)}\n        css={css`\n          margin-bottom: 1rem;\n        `}\n        type=\"text\"\n      />\n      <TextField\n        label=\"Monto\"\n        fullWidth\n        value={amount ? amount : \"\"}\n        onChange={(e) => setamount(e.target.value)}\n        css={css`\n          margin-bottom: 1rem;\n        `}\n        type=\"number\"\n      />\n      <Button\n        onClick={handleSubmit}\n        fullWidth\n        color=\"secondary\"\n        variant=\"outlined\"\n      >\n        Agregar\n      </Button>\n    </div>\n  );\n\n  async function handleSubmit() {\n    try {\n      if (data.invoice) {\n        if (data.invoice.status === \"valid\") {\n          if (date && amount) {\n            const item = {\n              date: moment(date, \"YYYY-MM-DD\").valueOf(),\n              isoDate: moment(date, \"YYYY-MM-DD\").toISOString(),\n              type: \"abono\",\n              concept: `Pago de factura ${data.invoice.date}`,\n              amount: Number(amount),\n              remission: data.id,\n              uuid: data.invoice.id,\n              reference,\n            };\n            firebase.simpleAdd(item, `finance-moves`).then(() => {\n              alert(\"Movimiento agregado\");\n              setamount(\"\");\n              setreference(\"\");\n            });\n          } else {\n            alert(\"Completa todos los campos para continuar\");\n          }\n        } else {\n          alert(\"No puedes agregar pagos a facturas canceladas\");\n        }\n      } else {\n        alert(\"No puedes agregar un pago a una remisión sin factura\");\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import {\n  Button,\n  ButtonGroup,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport numeral from \"numeral\";\nimport React, { useEffect, useState } from \"react\";\nimport firebase from \"../../utils/firebase\";\nimport _ from \"lodash\";\nimport Modal from \"../Modal\";\nimport AddPayment from \"../AddPayment\";\nimport { css } from \"@emotion/react\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport moment from \"moment\";\nimport axios from \"axios\";\n\nexport default function RemissionBalance({ content, data, customer }) {\n  const [payments, setpayments] = useState([]);\n  const [modalOpen, setmodalOpen] = useState(false);\n\n  const freight = _.reduce(\n    content,\n    (sum, n) => {\n      return sum + n.price;\n    },\n    0\n  );\n  const iva = freight * 0.16;\n  const total = freight + iva;\n\n  const totalPayments = _.reduce(\n    payments,\n    (sum, n) => {\n      return sum + n.amount;\n    },\n    0\n  );\n\n  const handleInvoice = async () => {\n    const list = payments.map((item) => ({\n      date: item.isoDate,\n      payment_form: data.paymentmethod,\n      related: [\n        {\n          uuid: data.invoice.uuid,\n          amount: item.amount,\n          installment: 1,\n          last_balance: total,\n        },\n      ],\n    }));\n    const invoiceData = {\n      legalName: customer.name,\n      email: customer.email,\n      rfc: customer.rfc,\n      items: list,\n    };\n    const resp = await axios.get(\n      \"http://localhost:8080/api/facturapi/createpaymentinvoice\",\n      {\n        params: {\n          data: JSON.stringify(invoiceData),\n        },\n      }\n    );\n    firebase\n      .update(\"remissions\", data.id, \"paymentInvoice\", resp.data)\n      .then(() => {\n        alert(\"Complemento Creado\");\n      });\n  };\n  const sendInvoice = async () => {\n    await axios\n      .get(\"http://localhost:8080/api/facturapi/sendinvoice\", {\n        params: {\n          id: data.invoice.id,\n        },\n      })\n      .then(() => {\n        alert(\"Factura enviada por correo electrónico\");\n      });\n  };\n  const downloadInvoice = async () => {\n    axios({\n      url: \"http://localhost:8080/api/facturapi/invoicedownloader\",\n      method: \"GET\",\n      responseType: \"blob\",\n      params: {\n        id: data.invoice.id,\n      },\n    }).then((response) => {\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", \"factura.zip\"); //or any other extension\n      document.body.appendChild(link);\n      link.click();\n    });\n  };\n\n  const cancelInvoice = async () => {\n    const resp = await axios.get(\n      \"http://localhost:8080/api/facturapi/cancelinvoice\",\n      {\n        params: {\n          id: data.invoice.id,\n        },\n      }\n    );\n    console.log(resp.data);\n    firebase.update(\"remissions\", data.id, \"invoice\", resp.data).then(() => {\n      alert(\"Factura Cancelada\");\n    });\n  };\n\n  useEffect(() => {\n    firebase\n      .getCollection(\"finance-moves\")\n      .where(\"remission\", \"==\", data.id)\n      .onSnapshot((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        setpayments(data);\n      });\n  }, []);\n\n  return (\n    <>\n      <div\n        css={css`\n          width: 100%;\n          display: flex;\n        `}\n      >\n        {data.invoice && (\n          <Button\n            onClick={() => setmodalOpen(true)}\n            css={css`\n              margin-left: auto;\n            `}\n            color=\"secondary\"\n            variant=\"contained\"\n            size=\"small\"\n          >\n            <AddIcon\n              css={css`\n                margin-right: 0.5rem;\n              `}\n            />{\" \"}\n            Agregar Pago\n          </Button>\n        )}\n      </div>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Total de Remisión</TableCell>\n            <TableCell>{numeral(total).format(\"$0,0.00\")}</TableCell>\n            <TableCell>Remanente</TableCell>\n            <TableCell>\n              {numeral(total - totalPayments).format(\"$0,0.00\")}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Pagos</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Fecha de Pago</TableCell>\n            <TableCell>Concepto de Pago</TableCell>\n            <TableCell>Referencia</TableCell>\n            <TableCell>Monto</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {payments.map((item) => (\n            <TableRow>\n              <TableCell>{moment(item.date).format(\"DD-MM-YYYY\")}</TableCell>\n              <TableCell>{item.concept}</TableCell>\n              <TableCell>{item.reference}</TableCell>\n              <TableCell>{numeral(item.amount).format(\"$0,0.00\")}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <div\n        css={css`\n          width: 100%;\n        `}\n      >\n        {data.paymentInvoice ? (\n          <ButtonGroup\n            variant=\"text\"\n            color=\"primary\"\n            aria-label=\"contained primary button group\"\n          >\n            <Button onClick={sendInvoice}>Enviar Complemento</Button>\n            <Button onClick={downloadInvoice}>Descargar Complemento</Button>\n            <Button onClick={cancelInvoice}>Cancelar Complemento</Button>\n          </ButtonGroup>\n        ) : (\n          <ButtonGroup\n            variant=\"text\"\n            color=\"primary\"\n            aria-label=\"contained primary button group\"\n          >\n            <Button onClick={handleInvoice}>Emitir complemento de pago</Button>\n          </ButtonGroup>\n        )}\n      </div>\n      <Modal open={modalOpen} handleClose={() => setmodalOpen(null)}>\n        <AddPayment data={data} />\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport firebase from \"../utils/firebase\";\nimport { Button, ButtonGroup, Container } from \"@material-ui/core\";\nimport { Typography, Box, Tabs, Tab } from \"@mui/material\";\n\nimport Loader from \"../components/Loader\";\nimport RemissionDetail from \"../components/remissions/RemissionDetail\";\nimport RemissionInvoice from \"../components/remissions/RemissionInvoice\";\nimport RemissionBalance from \"../components/remissions/RemissionBalance\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 3 }}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nexport default function SingleRemission(props) {\n  const { id } = props.match.params;\n  const [remission, setremission] = useState(null);\n  const [value, setValue] = useState(0);\n  const [paymentmethods, setpaymentmethods] = useState([]);\n  const [warehouse, setwarehouse] = useState([]);\n  const [customer, setcustomer] = useState([]);\n  const [content, setcontent] = useState([]);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleUpdate = (index, val) => {\n    firebase.update(\"remissions\", id, index, val);\n  };\n\n  useEffect(() => {\n    firebase.getDocument(\"remissions\", id).onSnapshot((snap) => {\n      const data = snap.data();\n      firebase\n        .getDocument(\"customers\", data.customer)\n        .get()\n        .then((snapChild) => {\n          const cust = snapChild.data();\n          setcustomer(cust);\n          setremission(data);\n        });\n    });\n    firebase.getCollection(`remissions/${id}/content`).onSnapshot((snap) => {\n      const data = snap.docs.map((doc) => doc.data());\n      setcontent(data);\n    });\n    firebase\n      .getCollection(\"paymentmethods\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        setpaymentmethods(data);\n      });\n    firebase\n      .getCollection(\"warehouse\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((doc) => doc.data());\n        setwarehouse(data);\n      });\n  }, [id]);\n\n  return remission ? (\n    <Container>\n      <Box sx={{ width: \"100%\" }}>\n        <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            aria-label=\"basic tabs example\"\n          >\n            <Tab label=\"Detalle\" {...a11yProps(0)} />\n            <Tab label=\"Facturación\" {...a11yProps(1)} />\n            {/* <Tab label=\"Cancelación\" {...a11yProps(2)} /> */}\n            <Tab label=\"Evidencias\" {...a11yProps(2)} />\n            {/* <Tab label=\"Tracking\" {...a11yProps(3)} /> */}\n            <Tab label=\"Estado de Cuenta\" {...a11yProps(3)} />\n          </Tabs>\n        </Box>\n        <TabPanel value={value} index={0}>\n          <RemissionDetail\n            paymentmethods={paymentmethods}\n            remission={remission}\n            warehouse={warehouse}\n            id={id}\n            content={content}\n            handleUpdate={handleUpdate}\n          />\n        </TabPanel>\n        <TabPanel value={value} index={1}>\n          <RemissionInvoice\n            data={remission}\n            customer={customer}\n            content={content}\n          />\n        </TabPanel>\n        <TabPanel value={value} index={2}>\n          Item Three\n        </TabPanel>\n        <TabPanel value={value} index={3}>\n          <RemissionBalance\n            content={content}\n            data={remission}\n            customer={customer}\n          />\n        </TabPanel>\n      </Box>\n    </Container>\n  ) : (\n    <Loader />\n  );\n}\n","import React, { useState } from \"react\";\nimport CSVReader from \"react-csv-reader\";\nimport _ from \"lodash\";\n\nexport default function ExcelReader() {\n  const [lasted, setlasted] = useState([]);\n  return (\n    <div>\n      <div>\n        <CSVReader\n          className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n          onFileLoaded={handleLoad}\n        />\n      </div>\n      <p>{JSON.stringify(lasted)}</p>\n    </div>\n  );\n  async function handleLoad(data, fileInfo) {\n    _.drop(data, 2);\n    const list = data.map((item, index) => ({\n      m3: Number(item[0]),\n      kg: Number(item[1]),\n      list: [\n        {\n          cities: [\"cdmx\", \"gda\"],\n          amount: Number(item[2]),\n        },\n        {\n          cities: [\"cdmx\", \"mty\"],\n          amount: Number(item[3]),\n        },\n        {\n          cities: [\"cdmx\", \"quer\"],\n          amount: Number(item[4]),\n        },\n        {\n          cities: [\"cdmx\", \"leon\"],\n          amount: Number(item[5]),\n        },\n        {\n          cities: [\"gda\", \"mty\"],\n          amount: Number(item[6]),\n        },\n        {\n          cities: [\"gda\", \"quer\"],\n          amount: Number(item[7]),\n        },\n        {\n          cities: [\"gda\", \"leon\"],\n          amount: Number(item[8]),\n        },\n        {\n          cities: [\"mty\", \"quer\"],\n          amount: Number(item[9]),\n        },\n        {\n          cities: [\"mty\", \"leon\"],\n          amount: Number(item[10]),\n        },\n        {\n          cities: [\"quer\", \"leon\"],\n          amount: Number(item[2]),\n        },\n      ],\n    }));\n    setlasted(list);\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { Button } from \"@material-ui/core\";\nimport { css } from \"@emotion/core\";\nimport XMLParser from \"react-xml-parser\";\nimport _ from \"lodash\";\n\nexport default function Uploader() {\n  const [list, setlist] = useState([]);\n\n  useEffect(() => {\n    // fetch(\"/resources/CAT_LOCALIDAD.xml\")\n    //   .then((res) => res.text())\n    //   .then((data) => {\n    //     var xml = new XMLParser().parseFromString(data);\n    //     var pre = xml.children;\n    //     const result = pre.map((item) => ({\n    //       Clave: item.attributes.Clave,\n    //       Estado: item.attributes.Estado,\n    //       Descripcion: item.attributes.Descripcion,\n    //     }));\n    //     setlist(result);\n    //   });\n    firebase\n      .getCollection(\"localidades\")\n      .get()\n      .then((snap) => {\n        console.log(snap.size);\n      });\n  }, []);\n\n  return (\n    <>\n      <h3>Uploader</h3>\n      <Button\n        onClick={handleSubmit}\n        css={css`\n          margin-top: 1rem;\n        `}\n        variant=\"contained\"\n        fullWidth\n        color=\"primary\"\n      >\n        Agregar\n      </Button>\n    </>\n  );\n\n  async function handleSubmit() {\n    try {\n      list.forEach((item, index) => {\n        firebase.simpleAdd(item, \"localidades\");\n      });\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"./utils/firebase\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport {\n  Divider,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  Hidden,\n  Drawer,\n} from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AccountBalanceWalletIcon from \"@material-ui/icons/AccountBalanceWallet\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\nimport StoreIcon from \"@material-ui/icons/Store\";\nimport TableChartIcon from \"@material-ui/icons/TableChart\";\nimport FlightTakeoffIcon from \"@material-ui/icons/FlightTakeoff\";\nimport DriveEtaIcon from \"@material-ui/icons/DriveEta\";\nimport PeopleOutlineIcon from \"@material-ui/icons/PeopleOutline\";\nimport GpsNotFixedIcon from \"@material-ui/icons/GpsNotFixed\";\nimport MessageIcon from \"@material-ui/icons/Message\";\nimport PointOfSaleIcon from \"@mui/icons-material/PointOfSale\";\n\nimport Loader from \"./components/Loader\";\nimport Sales from \"./pages/Sales\";\nimport Purchases from \"./pages/Purchases\";\nimport Accounting from \"./pages/Accounting\";\nimport Warehouse from \"./pages/Warehouse\";\nimport Travels from \"./pages/Travels\";\nimport Vehicles from \"./pages/Vehicles\";\nimport Quotes from \"./pages/Quotes\";\nimport Messages from \"./pages/Messages\";\nimport Configuration from \"./pages/Configuration\";\nimport SingleWarehouse from \"./pages/SingleWarehouse\";\nimport Payroll from \"./pages/Payroll\";\nimport Catalogs from \"./pages/Catalogs\";\nimport SinglePayroll from \"./pages/SinglePayroll\";\nimport SingleVehicle from \"./pages/SingleVehicle\";\nimport SingleTravel from \"./pages/SingleTravel\";\nimport Remissions from \"./pages/Remissions\";\nimport SingleRemission from \"./pages/SingleRemission\";\nimport ExcelReader from \"./pages/ExcelReader\";\nimport Uploader from \"./pages/Uploader\";\nimport Vendors from \"./pages/Vendors\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n}));\n\nexport default function App(props) {\n  const loc = props.location.pathname.split(\"/\")[1];\n  const { container } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [user, setUser] = useState(undefined);\n\n  useEffect(() => {\n    firebase.isInitialized().then((user) => {\n      if (user) {\n        firebase.userSession().then((data) => {\n          if (data.rol === \"admin\" || data.rol === \"agent\") {\n            setUser(data);\n          } else {\n            firebase.logout().then(() => {\n              alert(\"No tienes los permisos necesarios para continuar\");\n              props.history.push(\"/iniciar-sesion\");\n            });\n          }\n        });\n      } else {\n        props.history.push(\"/iniciar-sesion\");\n      }\n    });\n  }, [props.history]);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} />\n      <Divider />\n      <List>\n        <ListItem\n          selected={loc === \"\" || loc === undefined ? true : false}\n          component={Link}\n          to=\"/\"\n          button\n        >\n          <ListItemIcon>\n            <DashboardIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Dashboard\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"ventas\" ? true : false}\n          component={Link}\n          to=\"/ventas\"\n          button\n        >\n          <ListItemIcon>\n            <ReceiptIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Ventas\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"remisiones\" ? true : false}\n          component={Link}\n          to=\"/remisiones\"\n          button\n        >\n          <ListItemIcon>\n            <PointOfSaleIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Remisiones\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"compras\" ? true : false}\n          component={Link}\n          to=\"/compras\"\n          button\n        >\n          <ListItemIcon>\n            <StoreIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Compras\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"contabilidad\" ? true : false}\n          component={Link}\n          to=\"/contabilidad\"\n          button\n        >\n          <ListItemIcon>\n            <AccountBalanceWalletIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Contabilidad\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"almacen\" ? true : false}\n          component={Link}\n          to=\"/almacen\"\n          button\n        >\n          <ListItemIcon>\n            <TableChartIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Almacenes y Oficinas\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"viajes\" ? true : false}\n          component={Link}\n          to=\"/viajes\"\n          button\n        >\n          <ListItemIcon>\n            <FlightTakeoffIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Viajes\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"vehiculos\" ? true : false}\n          component={Link}\n          to=\"/vehiculos\"\n          button\n        >\n          <ListItemIcon>\n            <DriveEtaIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Vehículos\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"nomina\" ? true : false}\n          component={Link}\n          to=\"/nomina\"\n          button\n        >\n          <ListItemIcon>\n            <PeopleOutlineIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Nómina\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"cotizaciones\" ? true : false}\n          component={Link}\n          to=\"/cotizaciones\"\n          button\n        >\n          <ListItemIcon>\n            <ListAltIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Cotizaciones\" />\n        </ListItem>\n      </List>\n      <Divider />\n      <List>\n        <ListItem\n          selected={loc === \"mensajes\" ? true : false}\n          component={Link}\n          to=\"/mensajes\"\n          button\n        >\n          <ListItemIcon>\n            <MessageIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Mensajes\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"vendedores\" ? true : false}\n          component={Link}\n          to=\"/vendedores\"\n          button\n        >\n          <ListItemIcon>\n            <PeopleOutlineIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Vendedores\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"configuracion\" ? true : false}\n          component={Link}\n          to=\"/configuracion\"\n          button\n        >\n          <ListItemIcon>\n            <SettingsIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Configuración\" />\n        </ListItem>\n        <ListItem\n          selected={loc === \"seguimiento\" ? true : false}\n          component={Link}\n          to=\"/seguimiento\"\n          button\n        >\n          <ListItemIcon>\n            <GpsNotFixedIcon />\n          </ListItemIcon>\n          <ListItemText primary=\"Seguimiento\" />\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return user ? (\n    <>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            style={{ color: \"#fff\", fontWeight: \"700\" }}\n            variant=\"h6\"\n            noWrap\n          >\n            Panel de Administrador\n          </Typography>\n          <IconButton onClick={logOut} style={{ marginLeft: \"auto\" }}>\n            <ExitToAppIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true,\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Switch>\n          <Route\n            path=\"/excel-reader\"\n            render={(props) => <ExcelReader {...props} />}\n          />\n          <Route path=\"/ventas\" render={(props) => <Sales {...props} />} />\n          <Route path=\"/compras\" render={(props) => <Purchases {...props} />} />\n          <Route\n            path=\"/contabilidad\"\n            render={(props) => <Accounting {...props} />}\n          />\n          <Route\n            path=\"/remisiones\"\n            render={(props) => <Remissions {...props} />}\n            exact={true}\n          />\n          <Route\n            path=\"/remisiones/detalle/:id\"\n            render={(props) => <SingleRemission {...props} />}\n            exact={true}\n          />\n          <Route\n            path=\"/almacen\"\n            render={(props) => <Warehouse {...props} />}\n            exact={true}\n          />\n          <Route\n            path=\"/almacen/:id\"\n            render={(props) => <SingleWarehouse {...props} />}\n          />\n\n          <Route\n            path=\"/viajes\"\n            render={(props) => <Travels {...props} />}\n            exact={true}\n          />\n          <Route\n            path=\"/viajes/:id\"\n            render={(props) => <SingleTravel {...props} />}\n            exact={true}\n          />\n\n          <Route\n            path=\"/nomina\"\n            render={(props) => <Payroll {...props} />}\n            exact={true}\n          />\n          <Route\n            path=\"/nomina/:id\"\n            render={(props) => <SinglePayroll {...props} />}\n            exact={true}\n          />\n\n          <Route\n            path=\"/vehiculos\"\n            render={(props) => <Vehicles {...props} />}\n            exact={true}\n          />\n          <Route\n            path=\"/vehiculos/:id\"\n            render={(props) => <SingleVehicle {...props} />}\n            exact={true}\n          />\n\n          <Route\n            path=\"/cotizaciones\"\n            render={(props) => <Quotes {...props} />}\n          />\n          <Route\n            path=\"/vendedores\"\n            render={(props) => <Vendors {...props} />}\n          />\n          <Route path=\"/mensajes\" render={(props) => <Messages {...props} />} />\n          <Route\n            path=\"/configuracion\"\n            render={(props) => <Configuration {...props} />}\n            exact={true}\n          />\n          <Route\n            path=\"/configuracion/catalogos\"\n            render={(props) => <Catalogs {...props} />}\n            exact={true}\n          />\n          <Route\n            path=\"/uploader\"\n            render={(props) => <Uploader {...props} />}\n            exact={true}\n          />\n        </Switch>\n      </main>\n    </>\n  ) : (\n    <Loader />\n  );\n\n  async function logOut() {\n    try {\n      firebase.logout().then(() => {\n        props.history.push(\"/iniciar-sesion\");\n      });\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n}\n","import React, { useState } from 'react';\nimport firebase from '../utils/firebase';\nimport { Container, Box, TextField, Typography, Button, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    formItem : {\n        marginTop: theme.spacing(2)\n    }\n}))\n\nexport default function Login (props) {\n\n    const classes = useStyles()\n    const [email,setemail] = useState('')\n    const [password,setpassword] = useState('')\n\n    return (\n        <Box height=\"100vh\" display=\"flex\" alignItems=\"center\">\n            <Container style={{ padding: '2.5rem' }} component={Paper} maxWidth=\"xs\">\n                <Typography variant=\"h3\" component=\"h1\" color=\"primary\" align=\"center\">Iniciar Sesión</Typography>\n                <TextField\n                    label=\"Email\"\n                    value={email}\n                    onChange={e => setemail(e.target.value)}\n                    fullWidth\n                    variant=\"outlined\"\n                    className={classes.formItem}\n                />\n                <TextField\n                    label=\"Password\"\n                    value={password}\n                    onChange={e => setpassword(e.target.value)}\n                    fullWidth\n                    variant=\"outlined\"\n                    className={classes.formItem}\n                    type=\"password\"\n                />\n                <Button onClick={handleSubmit} color=\"primary\" className={classes.formItem} fullWidth variant=\"contained\">Entrar</Button>\n            </Container>\n        </Box>\n    )\n\n    async function handleSubmit () {\n        try {\n            if (email && password) {\n                firebase.login(email,password).then(() => {\n                    props.history.push('/')\n                })\n            } else {\n                alert('Completa todos los campos para continuar')\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n}","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport { red, indigo } from \"@material-ui/core/colors\";\n\n// Create a theme instance.\nconst theme = createMuiTheme({\n  palette: {\n    primary: red,\n    secondary: indigo,\n    error: {\n      main: red.A400,\n    },\n  },\n});\n\nexport default theme;\n","import React, { useState } from 'react';\nimport firebase from '../utils/firebase';\nimport { Container, Box, TextField, Typography, Button, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    formItem : {\n        marginTop: theme.spacing(2)\n    }\n}))\n\nexport default function Registry (props) {\n\n    const classes = useStyles()\n    const [name,setname] = useState('')\n    const [email,setemail] = useState('')\n    const [password,setpassword] = useState('')\n\n    return (\n        <Box height=\"100vh\" display=\"flex\" alignItems=\"center\">\n            <Container style={{ padding: '2.5rem' }} component={Paper} maxWidth=\"xs\">\n                <Typography variant=\"h3\" component=\"h1\" color=\"primary\" align=\"center\">Registro</Typography>\n                <TextField\n                    label=\"Nombre\"\n                    value={name}\n                    onChange={e => setname(e.target.value)}\n                    fullWidth\n                    variant=\"outlined\"\n                    className={classes.formItem}\n                />\n                <TextField\n                    label=\"Email\"\n                    value={email}\n                    onChange={e => setemail(e.target.value)}\n                    fullWidth\n                    variant=\"outlined\"\n                    className={classes.formItem}\n                />\n                <TextField\n                    label=\"Password\"\n                    value={password}\n                    onChange={e => setpassword(e.target.value)}\n                    fullWidth\n                    variant=\"outlined\"\n                    className={classes.formItem}\n                    type=\"password\"\n                />\n                <Button onClick={handleSubmit} color=\"primary\" className={classes.formItem} fullWidth variant=\"contained\">Entrar</Button>\n            </Container>\n        </Box>\n    )\n\n    async function handleSubmit () {\n        try {\n            if (name && email && password) {\n                firebase.register(name,email,password).then(() => {\n                    props.history.push('/')\n                })\n            } else {\n                alert('Completa todos los campos para continuar')\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n    }\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport App from \"./App\";\nimport Login from \"./pages/Login\";\nimport theme from \"./utils/theme\";\nimport Registry from \"./pages/Registry\";\n\nconst routes = (\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/registro\" component={Registry} />\n        <Route path=\"/iniciar-sesion\" component={Login} />\n        <Route path=\"/\" component={App} />\n      </Switch>\n    </BrowserRouter>\n  </ThemeProvider>\n);\n\nReactDOM.render(routes, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}