(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{259:function(e,t,a){e.exports=a(302)},302:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(31),r=a.n(o),l=a(20),i=a(41),u=a(424),s=a(425);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=a(11),m=a.n(b),d=a(19),O=a(5),j=a(7),p=a(106),f=a(107),g=a(133),h=a.n(g),v=(a(265),a(268),a(303),a(14)),y=a.n(v),C={apiKey:"AIzaSyA39LHNEgqASAk51V0za88oji_Em2rN8lo",authDomain:"auto-express-24-horas.firebaseapp.com",databaseURL:"https://auto-express-24-horas.firebaseio.com",projectId:"auto-express-24-horas",storageBucket:"auto-express-24-horas.appspot.com",messagingSenderId:"72162770837",appId:"1:72162770837:web:e81a825fdf120c1bcb009c",measurementId:"G-JZGL4FZ05B"},x=new(function(){function e(){Object(p.a)(this,e),h.a.initializeApp(C),this.auth=h.a.auth(),this.firestore=h.a.firestore(),this.storage=h.a.storage()}return Object(f.a)(e,[{key:"login",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"register",value:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=y()().valueOf(),e.next=3,this.auth.createUserWithEmailAndPassword(a,n);case 3:return e.abrupt("return",this.firestore.collection("users").doc(this.auth.currentUser.uid).set({name:t,email:a,password:n,timestamp:c,id:this.auth.currentUser.uid,rol:"user"}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){return this.auth.signOut()}},{key:"isInitialized",value:function(){var e=this;return new Promise((function(t){e.auth.onAuthStateChanged(t)}))}},{key:"userSession",value:function(){var e=this;return new Promise((function(t){e.auth.currentUser&&e.firestore.collection("users").doc(e.auth.currentUser.uid).onSnapshot((function(e){t(e.data())}))}))}},{key:"addOnUser",value:function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.firestore.collection("users").doc(this.auth.currentUser.uid).collection(t).doc(),a.id=n.id,a.timestamp=y()().valueOf(),e.next=5,n.set(a);case 5:return e.abrupt("return",n.id);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"simpleAdd",value:function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.firestore.collection(a).doc(),t.id=n.id,t.timestamp=y()().valueOf(),t.userId=this.auth.currentUser.uid,t.userEmail=this.auth.currentUser.email,e.next=7,n.set(t);case 7:return c=this.firestore.collection("usersMoves").doc(),o={col:a,timestamp:y()().valueOf(),id:c.id,type:"Agregar",what:n.id,userId:this.auth.currentUser.uid},e.next=11,c.set(o);case 11:return e.abrupt("return",n.id);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCollection",value:function(e){return this.firestore.collection(e)}},{key:"getDocument",value:function(e,t){return this.firestore.collection(e).doc(t)}},{key:"update",value:function(e,t,a,n){return this.firestore.collection(e).doc(t).update(Object(j.a)({},a,n))}},{key:"delete",value:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n){var c,o,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this.firestore.collection(t).doc(a),e.next=3,c.delete();case 3:return o=this.firestore.collection("usersMoves").doc(),r={col:t,timestamp:y()().valueOf(),id:o.id,type:"Borrar",what:c.id,userId:this.auth.currentUser.uid,data:n},e.abrupt("return",o.set(r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"addFileDoc",value:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,c){var o,r,l,i=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t,a){return new Promise((function(n,c){var o=t.name.split(".").pop(),r="".concat(a,".").concat(o),l=i.storage.ref(e).child(r).put(t);l.on("state_changed",(function(e){return e.bytesTransferred/e.totalBytes*100}),(function(e){c(e)}),(function(){l.snapshot.ref.getDownloadURL().then((function(e){n(e)}))}))}))},r=this.firestore.collection(t).doc(a),e.next=4,o("".concat(t,"/").concat(a),c,n);case 4:return l=e.sent,e.abrupt("return",r.update(Object(j.a)({},n,l)).then((function(){return l})));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n,c){return e.apply(this,arguments)}}()},{key:"addNew",value:function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,c,o,r,l,i,u=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="images",c=this.firestore.collection(n).doc(),o=function(e,t,a){return new Promise((function(n,c){var o=t.name.split(".").pop(),r="".concat(a,".").concat(o),l=u.storage.ref(e).child(r).put(t);l.on("state_changed",(function(e){return e.bytesTransferred/e.totalBytes*100}),(function(e){c(e)}),(function(){l.snapshot.ref.getDownloadURL().then((function(e){n(e)}))}))}))},e.next=5,o("images/".concat(c.id),t,"cover");case 5:return r=e.sent,a.id=c.id,a.timestamp=y()().valueOf(),a.userId=this.auth.currentUser.uid,a.userEmail=this.auth.currentUser.email,a.cover=r,e.next=13,c.set(a);case 13:return l=this.firestore.collection("usersMoves").doc(),i={col:n,timestamp:y()().valueOf(),id:l.id,type:"Agregar",what:c.id,userId:this.auth.currentUser.uid},e.next=17,l.set(i);case 17:return e.abrupt("return",c.id);case 18:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),w=a(412),S=a(397),E=a(312),Y=a(423),k=a(414),M=a(415),A=a(416),D=a(403),I=a(101),N=a(434),R=a(445),F=a(387),P=a(45),q=a(213),W=a.n(q),T=a(221),_=a.n(T),L=a(223),z=a.n(L),V=a(156),B=a.n(V),$=a(217),U=a.n($),G=a(225),Z=a.n(G),X=a(214),H=a.n(X),J=a(216),K=a.n(J),Q=a(218),ee=a.n(Q),te=a(219),ae=a.n(te),ne=a(220),ce=a.n(ne),oe=a(174),re=a.n(oe),le=a(224),ie=a.n(le),ue=a(222),se=a.n(ue),be=a(215),me=a.n(be),de=a(389),Oe=a(0),je=Object(F.a)((function(e){return{container:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}}}));function pe(){var e=je();return Object(Oe.a)("div",{className:e.container},Object(Oe.a)(de.a,null))}var fe=a(393),ge=a(411),he=a(306),ve=a(428),ye=a(398),Ce=a(399),xe=a(400),we=a(401),Se=a(402),Ee=a(50),Ye=a.n(Ee),ke=a(431),Me=a(392),Ae=a(305),De=a(233),Ie=Object(F.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",outline:"none"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Ne=function(e){var t=e.open,a=e.handleClose,n=e.children,c=Ie();return Object(Oe.a)(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:a,closeAfterTransition:!0,BackdropComponent:Me.a,BackdropProps:{timeout:500}},Object(Oe.a)(Ae.a,{in:t},Object(Oe.a)(De.a,{className:c.paper,component:fe.a,maxWidth:"xs"},n)))},Re=a(26),Fe=a(394),Pe=a(442),qe=a(432),We=a(444);function Te(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=/^([A-Z\xd1&]{3,4}) ?(?:- ?)?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?(?:- ?)?([A-Z\d]{2})([A\d])$/,n=e.match(a);if(!n)return!1;var c,o,r=n.pop(),l=n.slice(1).join(""),i=l.length,u="0123456789ABCDEFGHIJKLMN&OPQRSTUVWXYZ \xd1",s=i+1;c=12==i?0:481;for(var b=0;b<i;b++)c+=u.indexOf(l.charAt(b))*(s-b);return 11==(o=11-c%11)?o=0:10==o&&(o="A"),!!(r==o||t&&l+r=="XAXX010101000")&&(!(!t&&l+r=="XEXX010101000")&&l+r)}var _e=a(89),Le=a.n(_e),ze=a(22),Ve=a.n(ze);var Be={name:"47miec",styles:"margin-top:0rem;"},$e={name:"15g2oxy",styles:"margin-top:1rem;"},Ue={name:"15g2oxy",styles:"margin-top:1rem;"},Ge={name:"15g2oxy",styles:"margin-top:1rem;"},Ze={name:"15g2oxy",styles:"margin-top:1rem;"},Xe={name:"15g2oxy",styles:"margin-top:1rem;"},He={name:"15g2oxy",styles:"margin-top:1rem;"},Je={name:"15g2oxy",styles:"margin-top:1rem;"};function Ke(){var e=Object(i.f)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)([]),u=Object(O.a)(l,2),s=u[0],b=u[1],j=Object(n.useState)([]),p=Object(O.a)(j,2),f=p[0],g=p[1];Object(n.useEffect)((function(){fetch("/resources/CAT_REGIMENFISCAL40.xml").then((function(e){return e.text()})).then((function(e){var t=(new Le.a).parseFromString(e).children.map((function(e){return{c_RegimenFiscal:e.attributes.c_RegimenFiscal,Descripcion:e.attributes.Descripcion,Fisica:e.attributes.Fisica,Moral:e.attributes.Moral}}));b(t)})),fetch("/resources/CAT_CODIGO_POSTAL.xml").then((function(e){return e.text()})).then((function(e){var t=(new Le.a).parseFromString(e).children.map((function(e){return{c_CodigoPostal:e.attributes.c_CodigoPostal,c_Estado:e.attributes.c_Estado,c_Municipio:e.attributes.c_Municipio,c_Localidad:e.attributes.c_Localidad}}));g(t)}))}),[]);var h=function(e,t){var a=Object(Re.a)({},o);a[e]=t,r(a)};return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nuevo Cliente"),Object(Oe.a)(Fe.a,{css:Be,fullWidth:!0,variant:"outlined"},Object(Oe.a)(Pe.a,{htmlFor:"ID_REGIMEN_F"},"R\xe9gimen Fiscal"),Object(Oe.a)(qe.a,{native:!0,value:o.ID_REGIMEN_F,onChange:function(e){return h("ID_REGIMEN_F",e.target.value)},label:"R\xc9GIMEN FISCAL",inputProps:{name:"ID_REGIMEN_F",id:"ID_REGIMEN_F"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),s.map((function(e,t){return Object(Oe.a)("option",{key:t,value:e.c_RegimenFiscal},e.Descripcion)})))),Object(Oe.a)(We.a,{label:"Nombre de persona o raz\xf3n social",value:o.RAZON_SOCIAL,fullWidth:!0,variant:"outlined",onChange:function(e){return h("RAZON_SOCIAL",e.target.value)},css:$e}),Object(Oe.a)(We.a,{label:"RFC",value:o.RFC,fullWidth:!0,variant:"outlined",onChange:function(e){return h("RFC",e.target.value)},css:Ue}),Object(Oe.a)(We.a,{label:"C\xf3digo Postal",value:o.CP,fullWidth:!0,variant:"outlined",onChange:function(e){return h("CP",e.target.value)},css:Ge}),Object(Oe.a)(We.a,{label:"Correo Principal",value:o.CORREO,fullWidth:!0,variant:"outlined",onChange:function(e){return h("CORREO",e.target.value)},css:Ze}),Object(Oe.a)(We.a,{label:"Correo Facturaci\xf3n",value:o.CORREO_FACTURACION,fullWidth:!0,variant:"outlined",onChange:function(e){return h("CORREO_FACTURACION",e.target.value)},css:Xe}),Object(Oe.a)(We.a,{label:"Tel\xe9fono",value:o.TELEFONO,fullWidth:!0,variant:"outlined",onChange:function(e){return h("TELEFONO",e.target.value)},css:He}),Object(Oe.a)(he.a,{onClick:function(){return v.apply(this,arguments)},css:Je,variant:"contained",fullWidth:!0,color:"primary"},"Agregar"));function v(){return(v=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{o.ID_REGIMEN_F&&o.RAZON_SOCIAL&&o.RFC&&o.CP&&o.CORREO&&o.CORREO_FACTURACION&&o.TELEFONO?x.getCollection("customers").where("email","==",o.RAZON_SOCIAL).get().then((function(t){t.empty?x.getCollection("customers").where("RFC","==",o.RFC).get().then((function(t){t.empty?x.getCollection("customers").where("CORREO","==",o.CORREO).get().then((function(t){t.empty?x.getCollection("customers").where("TELEFONO","==",o.TELEFONO).get().then((function(t){if(t.empty){var a=Object(Re.a)({},o),n=Ve.a.find(s,(function(e){return e.c_RegimenFiscal===o.ID_REGIMEN_F}));a.REFIMEN_F=n.Descripcion;var c=Ve.a.find(f,(function(e){return e.c_CodigoPostal===o.CP}));console.log(c),void 0!==c?(a.ID_CP=c.c_CodigoPostal,console.log(Te(o.RFC)),Te(o.RFC)?(console.log("valido RFC"),x.simpleAdd(a,"customers").then((function(t){e.push("/ventas/clientes/".concat(t))}))):alert("El RFC ingresado no es v\xe1lido")):alert("C\xf3digo Postal inv\xe1lido")}else alert("Estiste un cliente con ese tel\xe9fono")})):alert("Existe un cliente con ese correo")})):alert("Existe un cliente con ese rfc")})):alert("Existe un cliente con esa raz\xf3n social")})):alert("Completa todos los datos para continuar")}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}var Qe={name:"hboir5",styles:"display:flex;width:100%;"},et={name:"zdpt2t",styles:"margin-left:auto;"};function tt(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),i=Object(O.a)(r,2),u=i[0],s=i[1];Object(n.useEffect)((function(){x.getCollection("customers").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));o(t)}))}),[]);return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("div",{css:Qe},Object(Oe.a)(he.a,{css:et,variant:"contained",color:"primary",onClick:function(){return s(!u)}},"Nuevo Cliente")),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Raz\xf3n Social"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"RFC"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Correo Principal"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Ver m\xe1s"))),Object(Oe.a)(Se.a,null,a.map((function(e){return Object(Oe.a)(xe.a,{key:e.id},Object(Oe.a)(we.a,null,e.RAZON_SOCIAL),Object(Oe.a)(we.a,null,e.RFC),Object(Oe.a)(we.a,null,e.CORREO),Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{component:l.b,to:"/ventas/clientes/".concat(e.id),color:"primary"},Object(Oe.a)(Ye.a,null))))})))),Object(Oe.a)(Ne,{open:u,handleClose:function(){s(!1)}},Object(Oe.a)(Ke,null)))}var at=a(34),nt=a(409),ct=a(436),ot=a(426);function rt(e){var t=e.id,a=e.options,n=e.defaultValue,c=e.handleChange,o=e.getOptionLabel,r=e.newCustomer;return r?"MEX"===r.ID_PAIS?Object(Oe.a)(ot.a,{id:t,options:a,defaultValue:n,onChange:function(e,t){return c(t,"ESTADO")},getOptionLabel:o,renderInput:function(e){return Object(Oe.a)(ct.a,Object(at.a)({fullWidth:!0},e,{autoComplete:"off",label:"Estado",variant:"standard",inputProps:Object(Re.a)(Object(Re.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}):Object(Oe.a)(ct.a,{id:t,fullWidth:!0,defaultValue:n,onChange:function(e){return c(e.target.value,"ESTADO")},autoComplete:"off",label:"Estado",variant:"standard",inputProps:{autoComplete:"new-password"}}):""}function lt(e){var t=e.id,a=(e.options,e.defaultValue),c=e.handleChange,o=e.getOptionLabel,r=e.newCustomer,l=Object(n.useState)([]),i=Object(O.a)(l,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){var e;(null===(e=r.ESTADO)||void 0===e?void 0:e.Clave)&&x.getCollection("municipios").where("Estado","==",r.ESTADO.Clave).get().then((function(e){var t=e.docs.map((function(e){return e.data()}));s(t)}))}),[r.ESTADO]),r?"MEX"===r.ID_PAIS?Object(Oe.a)(ot.a,{id:t,options:u,defaultValue:a,onChange:function(e,t){return c(t,"MUNICIPIO")},getOptionLabel:o,renderInput:function(e){return Object(Oe.a)(ct.a,Object(at.a)({fullWidth:!0},e,{autoComplete:"off",label:"Municipio",variant:"standard",inputProps:Object(Re.a)(Object(Re.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}):Object(Oe.a)(ct.a,{id:t,fullWidth:!0,defaultValue:a,onChange:function(e){return c(e.target.value,"MUNICIPIO")},autoComplete:"off",label:"Municipio",variant:"standard",inputProps:{autoComplete:"new-password"}}):""}function it(e){var t=e.id,a=(e.options,e.defaultValue),c=e.handleChange,o=e.getOptionLabel,r=e.newCustomer,l=Object(n.useState)([]),i=Object(O.a)(l,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){var e;(null===(e=r.ESTADO)||void 0===e?void 0:e.Clave)&&x.getCollection("localidades").where("Estado","==",r.ESTADO.Clave).get().then((function(e){var t=e.docs.map((function(e){return e.data()})),a=Ve.a.uniqBy(t,"Descripcion");s(a)}))}),[r.ESTADO]),r?"MEX"===r.ID_PAIS?Object(Oe.a)(ot.a,{id:t,options:u,defaultValue:a,onChange:function(e,t){return c(t,"LOCALIDAD")},getOptionLabel:o,renderInput:function(e){return Object(Oe.a)(ct.a,Object(at.a)({fullWidth:!0},e,{autoComplete:"off",label:"Localidad",variant:"standard",inputProps:Object(Re.a)(Object(Re.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}):Object(Oe.a)(ct.a,{id:t,fullWidth:!0,defaultValue:a,onChange:function(e){return c(e.target.value,"LOCALIDAD")},autoComplete:"off",label:"Localidad",variant:"standard",inputProps:{autoComplete:"new-password"}}):""}function ut(e){var t=e.id,a=e.defaultValue,c=e.handleChange,o=e.getOptionLabel,r=e.newCustomer,l=Object(n.useState)([]),i=Object(O.a)(l,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){var e,t;(null===(e=r.ESTADO)||void 0===e?void 0:e.Clave)&&(null===(t=r.MUNICIPIO)||void 0===t?void 0:t.Clave)&&x.getCollection("cps").where("c_Estado","==","CMX"===r.ESTADO.Clave?"DIF":r.ESTADO.Clave).where("c_Municipio","==",r.MUNICIPIO.Clave).get().then((function(e){var t=e.docs.map((function(e){return e.data()}));s(t)}))}),[r.ESTADO,r.MUNICIPIO]),r?"MEX"===r.ID_PAIS?Object(Oe.a)(ot.a,{id:t,options:u,defaultValue:a,onChange:function(e,t){return c(t,"CP")},getOptionLabel:o,renderInput:function(e){return Object(Oe.a)(ct.a,Object(at.a)({fullWidth:!0},e,{autoComplete:"off",label:"C\xf3digo Postal",variant:"standard",inputProps:Object(Re.a)(Object(Re.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}):Object(Oe.a)(ct.a,{id:t,fullWidth:!0,defaultValue:a,onChange:function(e){return c(e.target.value,"CP")},autoComplete:"off",label:"C\xf3digo Postal",variant:"standard",inputProps:{autoComplete:"new-password"}}):""}function st(e){var t=e.id,a=e.defaultValue,c=e.handleChange,o=e.getOptionLabel,r=e.newCustomer,l=Object(n.useState)([]),i=Object(O.a)(l,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){var e;(null===(e=r.CP)||void 0===e?void 0:e.c_CodigoPostal)&&x.getCollection("colonias").where("c_CodigoPostal","==",r.CP.c_CodigoPostal).get().then((function(e){var t=e.docs.map((function(e){return e.data()}));s(t)}))}),[r.CP]),r?"MEX"===r.ID_PAIS?Object(Oe.a)(ot.a,{id:t,options:u,defaultValue:a,onChange:function(e,t){return c(t,"COLONIA")},getOptionLabel:o,renderInput:function(e){return Object(Oe.a)(ct.a,Object(at.a)({fullWidth:!0},e,{autoComplete:"off",label:"Colonia",variant:"standard",inputProps:Object(Re.a)(Object(Re.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}):Object(Oe.a)(ct.a,{id:t,fullWidth:!0,defaultValue:a,onChange:function(e){return c(e.target.value,"COLONIA")},autoComplete:"off",label:"Colonia",variant:"standard",inputProps:{autoComplete:"new-password"}}):""}var bt={name:"47miec",styles:"margin-top:0rem;"},mt={name:"83c27m",styles:"position:fixed;bottom:1rem;right:1rem;"};function dt(e){var t=e.match.params.id,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)({}),i=Object(O.a)(l,2),u=i[0],s=i[1],b=Object(n.useState)([]),j=Object(O.a)(b,2),p=j[0],f=j[1],g=Object(n.useState)([]),h=Object(O.a)(g,2),v=h[0],y=h[1],C=Object(n.useState)([]),w=Object(O.a)(C,2),S=w[0],E=w[1],Y=Object(n.useState)([]),k=Object(O.a)(Y,2),M=k[0],A=k[1],D=Ve.a.isEqual(o,u);Object(n.useEffect)((function(){x.getDocument("customers",t).get().then((function(e){var t=e.data();r(t),s(t)})),fetch("/resources/CAT_REGIMENFISCAL40.xml").then((function(e){return e.text()})).then((function(e){var t=(new Le.a).parseFromString(e).children.map((function(e){return{c_RegimenFiscal:e.attributes.c_RegimenFiscal,Descripcion:e.attributes.Descripcion,Fisica:e.attributes.Fisica,Moral:e.attributes.Moral}}));f(t)})),fetch("/resources/CAT_ESTADOS.xml").then((function(e){return e.text()})).then((function(e){var t=(new Le.a).parseFromString(e).children.map((function(e){return{Clave:e.attributes.Clave,Pais:e.attributes.Pais,Descripcion:e.attributes.Descripcion}}));y(t)})),fetch("/resources/CAT_PAIS.xml").then((function(e){return e.text()})).then((function(e){var t=(new Le.a).parseFromString(e).children.map((function(e){return{c_Pais:e.attributes.c_Pais,Descripcion:e.attributes.Descripcion}}));E(t)})),fetch("/resources/CAT_TIPO_PERMISO.xml").then((function(e){return e.text()})).then((function(e){var t=(new Le.a).parseFromString(e).children.map((function(e){return{Clave:e.attributes.Clave,Descripcion:e.attributes.Descripcion,CveTransporte:e.attributes.CveTransporte}}));A(t)}))}),[t]);var I=function(e,t){var a=Object(Re.a)({},u);a[t]=e||"",s(a)};return o&&u?Object(Oe.a)(nt.a,{container:!0,spacing:2},Object(Oe.a)(nt.a,{item:!0,md:6,sm:12},Object(Oe.a)(Fe.a,{css:bt,fullWidth:!0},Object(Oe.a)(Pe.a,{htmlFor:"ID_REGIMEN_F"},"R\xe9gimen Fiscal"),Object(Oe.a)(qe.a,{native:!0,defaultValue:o.ID_REGIMEN_F,onChange:function(e){return I(e.target.value,"ID_REGIMEN_F")},label:"R\xc9GIMEN FISCAL",inputProps:{name:"ID_REGIMEN_F",id:"ID_REGIMEN_F"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),p.map((function(e,t){return Object(Oe.a)("option",{key:t,value:e.c_RegimenFiscal},e.Descripcion)})))),Object(Oe.a)(ct.a,{defaultValue:o.RAZON_SOCIAL,onChange:function(e){return I(e.target.value,"RAZON_SOCIAL")},id:"RAZON_SOCIAL",label:"Raz\xf3n Social",variant:"standard",fullWidth:!0,autoComplete:"off"}),Object(Oe.a)(ct.a,{defaultValue:o.NOMBRE_COMERCIAL,onChange:function(e){return I(e.target.value,"NOMBRE_COMERCIAL")},id:"NOMBRE_COMERCIAL",label:"Nombre Comercial",variant:"standard",fullWidth:!0,autoComplete:"off"}),Object(Oe.a)(ct.a,{defaultValue:o.RFC,onChange:function(e){return I(e.target.value,"RFC")},id:"RFC",label:"RFC",variant:"standard",fullWidth:!0,autoComplete:"off"}),Object(Oe.a)(ot.a,{id:"PAIS",options:S,defaultValue:o.PAIS,onChange:function(e,t){return I(t,"PAIS")},getOptionLabel:function(e){return e.Descripcion},renderInput:function(e){return Object(Oe.a)(ct.a,Object(at.a)({variant:"standard",fullWidth:!0},e,{autoComplete:"off",label:"Pa\xeds",inputProps:Object(Re.a)(Object(Re.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),Object(Oe.a)(rt,{id:"ESTADO",options:v,defaultValue:o.ESTADO,handleChange:I,getOptionLabel:function(e){return e.Descripcion},newCustomer:u}),Object(Oe.a)(it,{id:"LOCALIDAD",defaultValue:o.LOCALIDAD,handleChange:I,getOptionLabel:function(e){return e.Descripcion},newCustomer:u}),Object(Oe.a)(lt,{id:"MUNICIPIO",defaultValue:o.MUNICIPIO,handleChange:I,getOptionLabel:function(e){return e.Descripcion},newCustomer:u}),Object(Oe.a)(ut,{id:"CP",defaultValue:o.CP,handleChange:I,getOptionLabel:function(e){return e.c_CodigoPostal},newCustomer:u}),Object(Oe.a)(st,{id:"COLONA",defaultValue:o.COLONIA,handleChange:I,getOptionLabel:function(e){return e.Descripcion},newCustomer:u}),Object(Oe.a)(ct.a,{defaultValue:o.CALLE,onChange:function(e){return I(e.target.value,"CALLE")},id:"CALLE",label:"Calle",variant:"standard",fullWidth:!0,inputProps:{autoComplete:"new-password"}}),Object(Oe.a)(ct.a,{defaultValue:o.NUMERO_EXT,onChange:function(e){return I(e.target.value,"NUMERO_EXT")},id:"NUMERO_EXT",label:"N\xfamero Exterior",variant:"standard",fullWidth:!0,inputProps:{autoComplete:"new-password"}}),Object(Oe.a)(ct.a,{defaultValue:o.NUMERO_INT,onChange:function(e){return I(e.target.value,"NUMERO_INT")},id:"NUMERO_INT",label:"N\xfamero Interior",variant:"standard",fullWidth:!0,inputProps:{autoComplete:"new-password"}}),Object(Oe.a)(ct.a,{defaultValue:o.ENTRE_CALLES_1,onChange:function(e){return I(e.target.value,"ENTRE_CALLES_1")},id:"ENTRE_CALLES_1",label:"Entre Calles 1",variant:"standard",fullWidth:!0,inputProps:{autoComplete:"new-password"}}),Object(Oe.a)(ct.a,{defaultValue:o.ENTRE_CALLES_2,onChange:function(e){return I(e.target.value,"ENTRE_CALLES_2")},id:"ENTRE_CALLES_2",label:"Entre Calles 2",variant:"standard",fullWidth:!0,inputProps:{autoComplete:"new-password"}})),Object(Oe.a)(nt.a,{item:!0,md:6,sm:12},Object(Oe.a)(ct.a,{defaultValue:o.CORREO_FACTURACION,onChange:function(e){return I(e.target.value,"CORREO_FACTURACION")},id:"CORREO_FACTURACION",label:"Correo de Facturaci\xf3n",variant:"standard",fullWidth:!0,inputProps:{autoComplete:"new-password"}}),Object(Oe.a)(ot.a,{id:"TIPO_PERMISO",options:M,defaultValue:o.TIPO_PERMISO,onChange:function(e,t){return I(t,"TIPO_PERMISO")},getOptionLabel:function(e){return e.Descripcion},renderInput:function(e){return Object(Oe.a)(ct.a,Object(at.a)({variant:"standard",fullWidth:!0},e,{autoComplete:"off",label:"Tipo de Permiso",inputProps:Object(Re.a)(Object(Re.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}})),Object(Oe.a)(he.a,{css:mt,disabled:D,variant:"contained",color:"primary",onClick:function(){return N.apply(this,arguments)}},"Guardar Cambios")):Object(Oe.a)(pe,null);function N(){return(N=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.firestore.collection("customers").doc(t).update(u).then((function(){alert("Cambios guardados")}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}}var Ot=a(451),jt=a(437),pt=a(449),ft=a(453);function gt(e){var t=e.match.params.id,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(null),i=Object(O.a)(l,2),u=i[0],s=i[1];Object(n.useEffect)((function(){x.getDocument("customers",t).get().then((function(e){var t=e.data();r(t),s(t)}))}),[t]);var b=function(e,t){var a=Object(Re.a)({},u);a[t]=e,s(a)};return o?Object(Oe.a)(nt.a,{container:!0,spacing:2},Object(Oe.a)(nt.a,{item:!0,md:6,xs:12},Object(Oe.a)(We.a,{defaultValue:o.DIAS_CRE,onChange:function(e){return b(e.target.value,"DIAS_CRE")},id:"DIAS_CRE",label:"D\xedas de cr\xe9dito",variant:"standard",type:"number",fullWidth:!0}),Object(Oe.a)(Ot.a,{fullWidth:!0,sx:{m:1},variant:"standard"},Object(Oe.a)(jt.a,{htmlFor:"LIMITE_CR"},"L\xedmite de Cr\xe9dito"),Object(Oe.a)(pt.a,{id:"LIMITE_CR",value:o.LIMITE_CR,onChange:function(e){return b(e.target.value,"LIMITE_CR")},startAdornment:Object(Oe.a)(ft.a,{position:"start"},"$"),type:"number"})),Object(Oe.a)("ul",null,Object(Oe.a)("li",null,"Saldo Actual: $0.00"),Object(Oe.a)("li",null,"Saldo Vencido: $0.00"),Object(Oe.a)("li",null,"Fecha \xdaltimo Pago: "),Object(Oe.a)("li",null,"Saldo \xdaltima Venta: "))),Object(Oe.a)(nt.a,{item:!0,md:6,xs:12},Object(Oe.a)(We.a,{defaultValue:o.foreignAccount,onChange:function(e){return b(e.target.value,"foreignAccount")},id:"foreignAccount",label:"Cuenta Extranjera",variant:"standard",fullWidth:!0}),Object(Oe.a)(We.a,{defaultValue:o.foreignpaymentMethod,onChange:function(e){return b(e.target.value,"foreignpaymentMethod")},id:"foreignPaymentMethod",label:"M\xe9todo de Pago",variant:"standard",fullWidth:!0}))):Object(Oe.a)(pe,null)}function ht(e){var t=e.location.pathname.split("/")[4];console.log(t);var a=e.match.params.id,c=Object(n.useState)(null),o=Object(O.a)(c,2),r=o[0],u=o[1];return Object(n.useEffect)((function(){x.getDocument("customers",a).get().then((function(e){var t=e.data();u(t)}))}),[a]),r?Object(Oe.a)(fe.a,null,Object(Oe.a)(ge.a,{size:"large",color:"primary","aria-label":"large outlined primary button group"},Object(Oe.a)(he.a,{style:{cursor:"default"},variant:"contained"},r.RAZON_SOCIAL),Object(Oe.a)(he.a,{disabled:void 0===t||"",component:l.b,to:"/ventas/clientes/".concat(a)},"Generales"),Object(Oe.a)(he.a,{disabled:"comerciales"===t||"",component:l.b,to:"/ventas/clientes/".concat(a,"/comerciales")},"Comerciales"),Object(Oe.a)(he.a,{disabled:"contactos"===t||"",component:l.b,to:"/ventas/clientes/".concat(a,"/contactos")},"Contactos")),Object(Oe.a)(ve.a,{paddingY:"1rem"},Object(Oe.a)(i.c,null,Object(Oe.a)(i.a,{path:"/ventas/clientes/:id",component:dt,exact:!0}),Object(Oe.a)(i.a,{path:"/ventas/clientes/:id/comerciales",component:gt,exact:!0})))):Object(Oe.a)(pe,null)}var vt=a(433);var yt={name:"47miec",styles:"margin-top:0rem;"},Ct={name:"15g2oxy",styles:"margin-top:1rem;"},xt={name:"15g2oxy",styles:"margin-top:1rem;"},wt={name:"15g2oxy",styles:"margin-top:1rem;"};function St(){var e=Object(i.f)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)([]),u=Object(O.a)(l,2),s=u[0],b=u[1],j=function(e,t){var a=Object(Re.a)({},o);a[e]=t,r(a)};return Object(n.useEffect)((function(){x.getCollection("customers").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));b(t)}))}),[]),Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nueva Factura"),Object(Oe.a)(Fe.a,{css:yt,fullWidth:!0,variant:"outlined"},Object(Oe.a)(Pe.a,{htmlFor:"customer"},"Cliente"),Object(Oe.a)(qe.a,{native:!0,value:o.customer,onChange:function(e){return j("customer",e.target.value)},label:"Cliente",inputProps:{name:"customer",id:"customer"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),s.map((function(e){return Object(Oe.a)("option",{key:e.id,value:e.id},e.name," - ",e.email," - ",e.phone)})))),Object(Oe.a)(We.a,{label:"Fecha",value:y()(o.date).format("YYYY-MM-DD"),fullWidth:!0,variant:"outlined",onChange:function(e){return j("date",y()(e.target.value,"YYYY-MM-DD").valueOf())},css:Ct,type:"date"}),Object(Oe.a)(We.a,{label:"Monto",value:o.amount,fullWidth:!0,variant:"outlined",onChange:function(e){return j("amount",e.target.value)},css:xt,type:"number"}),Object(Oe.a)(he.a,{onClick:function(){return p.apply(this,arguments)},css:wt,variant:"contained",fullWidth:!0,color:"primary"},"Agregar"));function p(){return(p=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{o.date&&o.customer&&o.amount?x.simpleAdd(o,"billing").then((function(t){e.push("/ventas/facturacion/".concat(t))})):alert("Completa todos los campos para continuar")}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}var Et={name:"1ej7rru",styles:"text-decoration:none;color:black;"};function Yt(e){var t=e.id,a=e.index,c=Object(n.useState)({}),o=Object(O.a)(c,2),r=o[0],i=o[1];return Object(n.useEffect)((function(){t&&x.getDocument("customers",t).get().then((function(e){e.exists&&i(e.data())}))}),[t]),Object(Oe.a)(l.b,{css:Et,to:"/ventas/clientes/".concat(t)},r[a||"name"])}var kt={name:"hboir5",styles:"display:flex;width:100%;"},Mt={name:"zdpt2t",styles:"margin-left:auto;"};function At(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),i=Object(O.a)(r,2),u=i[0],s=i[1];Object(n.useEffect)((function(){x.getCollection("billing").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));o(t)}))}),[]);return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("div",{css:kt},Object(Oe.a)(he.a,{css:Mt,variant:"contained",color:"primary",onClick:function(){return s(!u)}},"Nueva Factura")),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Pagado"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Fecha"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Cliente"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Monto"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Ver m\xe1s"))),Object(Oe.a)(Se.a,null,a.map((function(e){return Object(Oe.a)(xe.a,{key:e.id},Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(vt.a,{disabled:!0,checked:e.isPaid})),Object(Oe.a)(we.a,null,y()(e.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,Object(Oe.a)(Yt,{id:e.customer})),Object(Oe.a)(we.a,null,e.amount),Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{component:l.b,to:"/ventas/facturacion/".concat(e.id),color:"primary"},Object(Oe.a)(Ye.a,null))))})))),Object(Oe.a)(Ne,{open:u,handleClose:function(){s(!1)}},Object(Oe.a)(St,null)))}function Dt(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),i=Object(O.a)(r,2);i[0],i[1];Object(n.useEffect)((function(){x.getCollection("quotes").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));o(t)}))}),[]);return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Fecha"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Nombre"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Email"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Ver m\xe1s"))),Object(Oe.a)(Se.a,null,a.map((function(e){return Object(Oe.a)(xe.a,{key:e.id},Object(Oe.a)(we.a,null,y()(e.timestamp).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,e.name),Object(Oe.a)(we.a,null,e.email),Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{component:l.b,to:"/ventas/cotizaciones/".concat(e.id),color:"primary"},Object(Oe.a)(Ye.a,null))))})))))}var It={name:"1xhj9sq",styles:"width:100%;table-layout:fixed;margin-top:2rem;th{text-align:left !important;}"},Nt={name:"1hbxu9z",styles:"width:100%;table-layout:fixed;margin-top:2rem;"},Rt={name:"xi606m",styles:"text-align:center;"};function Ft(e){var t,a=e.match.params.id,c=Object(n.useState)(null),o=Object(O.a)(c,2),r=o[0],l=o[1];return Object(n.useEffect)((function(){x.getDocument("quotes",a).get().then((function(e){var t=e.data();l(t)}))}),[a]),r?Object(Oe.a)(fe.a,null,Object(Oe.a)("h3",null,"Detalle de Cliente"),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Nombre: "),Object(Oe.a)("span",null,r.name)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Email: "),Object(Oe.a)("span",null,r.email)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Tel\xe9fono: "),Object(Oe.a)("span",null,r.phone))),Object(Oe.a)(ye.a,{css:It},Object(Oe.a)(Se.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,"Tipo de Recolecci\xf3n"),Object(Oe.a)(we.a,null,r.collectType),Object(Oe.a)(we.a,null,"Tipo de Entrega"),Object(Oe.a)(we.a,null,r.deliveryType)),Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,"Lugar de Recolecci\xf3n"),Object(Oe.a)(we.a,null,(r.collectType,r.collectLocation)),Object(Oe.a)(we.a,null,"Lugar de Entrega"),Object(Oe.a)(we.a,null,(r.deliveryType,r.deliveryLocation))))),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Cantidad de sobres: ")," ",Object(Oe.a)("span",null,r.packets))),Object(Oe.a)(ye.a,{css:Nt},Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},"#"),Object(Oe.a)(we.a,null,"Peso"),Object(Oe.a)(we.a,null,"Largo"),Object(Oe.a)(we.a,null,"Ancho"),Object(Oe.a)(we.a,null,"Alto"))),Object(Oe.a)(Se.a,null,null===(t=r.packages)||void 0===t?void 0:t.map((function(e,t){return Object(Oe.a)(xe.a,{key:t},Object(Oe.a)(we.a,{css:Rt},t+1),Object(Oe.a)(we.a,null,e.weight," kg"),Object(Oe.a)(we.a,null,e.large," cm"),Object(Oe.a)(we.a,null,e.width," cm"),Object(Oe.a)(we.a,null,e.height," cm"))}))))):Object(Oe.a)(pe,null)}var Pt=a(23),qt=a.n(Pt);var Wt={name:"1f2k2gl",styles:"margin-left:0.5rem;"},Tt={name:"1f2k2gl",styles:"margin-left:0.5rem;"},_t={name:"1f2k2gl",styles:"margin-left:0.5rem;"},Lt={name:"1f2k2gl",styles:"margin-left:0.5rem;"},zt={name:"i51og3",styles:"margin-top:2rem;"};function Vt(e){var t=e.match.params.id,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){x.getDocument("billing",t).get().then((function(e){var t=e.data();r(t)}))}),[t]),o?Object(Oe.a)(fe.a,null,Object(Oe.a)("h3",null,"Detalle de Cliente"),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"ID: "),Object(Oe.a)("span",{css:Wt},t)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Fecha: "),Object(Oe.a)("span",{css:Tt},y()(o.date).format("DD/MM/YYYY"))),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Cliente: "),Object(Oe.a)("span",{css:_t}," ",Object(Oe.a)(Yt,{id:o.customer}))),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Monto: "),Object(Oe.a)("span",{css:Lt},qt()(o.amount).format("$0,0.00")))),Object(Oe.a)("h3",{css:zt},"Acciones"),Object(Oe.a)(ge.a,{variant:"text",color:"primary","aria-label":"contained primary button group"},Object(Oe.a)(he.a,null,"Timbrar y enviar factura"),Object(Oe.a)(he.a,null,"Marcar como Pagada"),Object(Oe.a)(he.a,null,"Cancelar Factura"))):Object(Oe.a)(pe,null)}function Bt(e){var t=e.location.pathname.split("/")[2];return Object(Oe.a)(fe.a,null,Object(Oe.a)(ge.a,{size:"large",color:"primary","aria-label":"large outlined primary button group"},Object(Oe.a)(he.a,{style:{cursor:"default"},variant:"contained"},"Ventas"),Object(Oe.a)(he.a,{disabled:void 0===t||"",component:l.b,to:"/ventas"},"Clientes"),Object(Oe.a)(he.a,{disabled:"facturacion"===t||"",component:l.b,to:"/ventas/facturacion"},"Facturaci\xf3n"),Object(Oe.a)(he.a,{disabled:"cotizaciones"===t||"",component:l.b,to:"/ventas/cotizaciones"},"Cotizaciones")),Object(Oe.a)(ve.a,{paddingY:"1rem"},Object(Oe.a)(i.c,null,Object(Oe.a)(i.a,{path:"/ventas",component:tt,exact:!0}),Object(Oe.a)(i.a,{path:"/ventas/facturacion",component:At,exact:!0}),Object(Oe.a)(i.a,{path:"/ventas/facturacion/:id",component:Vt,exact:!0}),Object(Oe.a)(i.a,{path:"/ventas/cotizaciones",component:Dt,exact:!0}),Object(Oe.a)(i.a,{path:"/ventas/cotizaciones/:id",component:Ft,exact:!0}),Object(Oe.a)(i.a,{path:"/ventas/clientes/:id",component:ht}))))}var $t={name:"15g2oxy",styles:"margin-top:1rem;"},Ut={name:"15g2oxy",styles:"margin-top:1rem;"},Gt={name:"15g2oxy",styles:"margin-top:1rem;"},Zt={name:"15g2oxy",styles:"margin-top:1rem;"},Xt={name:"15g2oxy",styles:"margin-top:1rem;"},Ht={name:"15g2oxy",styles:"margin-top:1rem;"},Jt={name:"15g2oxy",styles:"margin-top:1rem;"};function Kt(){Object(i.f)();var e=Object(n.useState)({}),t=Object(O.a)(e,2),a=t[0],o=t[1],r=function(e,t){var n=Object(Re.a)({},a);n[e]=t,o(n)};return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nuevo Proveedor"),Object(Oe.a)(We.a,{label:"Nombre",value:a.NOMBRE,fullWidth:!0,variant:"outlined",onChange:function(e){return r("NOMBRE",e.target.value)},css:$t}),Object(Oe.a)(We.a,{label:"Correo",value:a.CORREO,fullWidth:!0,variant:"outlined",onChange:function(e){return r("CORREO",e.target.value)},css:Ut}),Object(Oe.a)(We.a,{label:"RFC",value:a.RFC,fullWidth:!0,variant:"outlined",onChange:function(e){return r("RFC",e.target.value)},css:Gt}),Object(Oe.a)(We.a,{label:"Zona",value:a.ZONA,fullWidth:!0,variant:"outlined",onChange:function(e){return r("ZONA",e.target.value)},css:Zt}),Object(Oe.a)(We.a,{label:"Tel\xe9fono",value:a.TELEFONO,fullWidth:!0,variant:"outlined",onChange:function(e){return r("TELEFONO",e.target.value)},css:Xt}),Object(Oe.a)(We.a,{label:"Fecha de Ingreso",value:a.phone,fullWidth:!0,variant:"outlined",type:"date",onChange:function(e){return r("FECHA_ING",e.target.value)},css:Ht}),Object(Oe.a)(he.a,{onClick:function(){return l.apply(this,arguments)},css:Jt,variant:"contained",fullWidth:!0,color:"primary"},"Agregar"));function l(){return(l=Object(d.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.NOMBRE&&a.CORREO&&a.TELEFONO?(t=Object(Re.a)({},a),n=y()(a.FECHA_ING,"YYYY-MM-DD").valueOf(),t.FECHA_ING=n,x.simpleAdd(t,"vendors").then((function(e){alert("Vendedor Agregado")}))):alert("Completa nombre, email y tel\xe9fono para continuar")}catch(c){alert(c.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var Qt={name:"hboir5",styles:"display:flex;width:100%;"},ea={name:"zdpt2t",styles:"margin-left:auto;"};function ta(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),i=Object(O.a)(r,2),u=i[0],s=i[1];Object(n.useEffect)((function(){x.getCollection("vendors").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));o(t)}))}),[]);return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("div",{css:Qt},Object(Oe.a)(he.a,{css:ea,variant:"contained",color:"primary",onClick:function(){return s(!u)}},"Nuevo Vendedor")),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Nombre"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Email"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Tel\xe9fono"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Ver m\xe1s"))),Object(Oe.a)(Se.a,null,a.map((function(e){return Object(Oe.a)(xe.a,{key:e.id},Object(Oe.a)(we.a,null,e.NOMBRE),Object(Oe.a)(we.a,null,e.CORREO),Object(Oe.a)(we.a,null,e.TELEFONO),Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{component:l.b,to:"/vendedores/".concat(e.id),color:"primary",disabled:!0},Object(Oe.a)(Ye.a,null))))})))),Object(Oe.a)(Ne,{open:u,handleClose:function(){s(!1)}},Object(Oe.a)(Kt,null)))}var aa={name:"102ikit",styles:"width:100%;max-width:35rem;"};function na(e){var t=e.match.params.id,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){x.getDocument("vendors",t).get().then((function(e){var t=e.data();r(t)}))}),[t]),o?Object(Oe.a)(fe.a,null,Object(Oe.a)("h3",null,"Detalle de Cliente"),Object(Oe.a)(ye.a,{css:aa},Object(Oe.a)(Se.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{component:"th",variant:"head"},"Nombre de persona o raz\xf3n social"),Object(Oe.a)(we.a,null,o.name)),Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{component:"th",variant:"head"},"Email"),Object(Oe.a)(we.a,null,o.email)),Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{component:"th",variant:"head"},"Tel\xe9fono"),Object(Oe.a)(we.a,null,o.phone)),Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{component:"th",variant:"head"},"P\xe1gina web"),Object(Oe.a)(we.a,null,o.page)))),Object(Oe.a)(w.a,null),Object(Oe.a)("h3",null,"Cotizaciones"),Object(Oe.a)(w.a,null),Object(Oe.a)("h3",null,"\xd3rdenes de Compra"),Object(Oe.a)(w.a,null),Object(Oe.a)("h3",null,"Estado de Cuenta")):Object(Oe.a)(pe,null)}var ca=a(413),oa=a(430),ra=a(98),la=a.n(ra),ia=a(99),ua=a.n(ia),sa=a(207),ba=a.n(sa);var ma=function(e){var t=e.data,a=e.handlePayment,c=Object(n.useState)({}),o=Object(O.a)(c,2),r=o[0],i=o[1],u=Object(n.useState)(""),s=Object(O.a)(u,2),b=s[0],m=s[1];Object(n.useEffect)((function(){t.vendor&&x.getDocument("vendors",t.vendor).get().then((function(e){i(e.data())}))}),[t.vendor]),Object(n.useEffect)((function(){t.id&&x.getCollection("finance-moves").where("type","==","cargo").where("orderId","==",t.id).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()})),n=Ve.a.reduce(t,(function(e,t){return e+t.amount}),0);m(n),a(n)}))}),[t.id]);var d=t.products?t.products:[],j=Ve.a.reduce(d,(function(e,t){return e+(t.product?t.product.cost:0)*t.quantity}),0);return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,y()(t.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,t.folio),Object(Oe.a)(we.a,null,r?r.name:""),Object(Oe.a)(we.a,null,qt()(j).format("$0,0.00")),Object(Oe.a)(we.a,null,qt()(b).format("$0,0.00")),Object(Oe.a)(we.a,null,qt()(j-b).format("$0,0.00")),Object(Oe.a)(we.a,null,Object(Oe.a)(qe.a,{native:!0,value:t.paymentStatus,onChange:function(e){return x.update("purchase-orders",t.id,"paymentStatus",e.target.value)}},Object(Oe.a)("option",{"aria-label":"None",value:""}),Object(Oe.a)("option",{value:"Anticipo"},"Anticipo"),Object(Oe.a)("option",{value:"Pagado"},"Pagado"),Object(Oe.a)("option",{value:"Cancelado"},"Cancelado"))),Object(Oe.a)(we.a,null,Object(Oe.a)(qe.a,{native:!0,value:t.processStatus,onChange:function(e){return x.update("purchase-orders",t.id,"processStatus",e.target.value)}},Object(Oe.a)("option",{"aria-label":"None",value:""}),Object(Oe.a)("option",{value:"Fabricando"},"Fabricando"),Object(Oe.a)("option",{value:"Completado"},"Completado"),Object(Oe.a)("option",{value:"Entregado"},"Entregado"),Object(Oe.a)("option",{value:"Cancelado"},"Cancelado"))),Object(Oe.a)(we.a,null,Object(Oe.a)(D.a,{color:"primary",component:l.b,to:"/compras/ordenes/".concat(t.id)},Object(Oe.a)(Ye.a,null))))},da={name:"12vuxj9",styles:"margin:1rem 0;"},Oa={name:"2j12id",styles:"margin-left:.5rem;"};function ja(e){var t=Object(n.useState)([]),a=Object(O.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(""),i=Object(O.a)(l,2),u=i[0],s=i[1],b=Object(n.useState)({}),j=Object(O.a)(b,2),p=j[0],f=j[1],g=Object(n.useState)([]),h=Object(O.a)(g,2),v=h[0],C=h[1],w=Object(n.useState)(void 0),S=Object(O.a)(w,2),E=S[0],Y=S[1],k=Object(n.useState)(0),M=Object(O.a)(k,2),A=M[0],N=M[1];Object(n.useEffect)((function(){x.getCollection("vendors").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));r(t)}));var e=y()().format("MM-YYYY");Y(e)}),[]),Object(n.useEffect)((function(){var e=y()(E,"MM-YYYY").startOf("month").valueOf(),t=y()(E,"MM-YYYY").endOf("month").valueOf();e&&t&&(N(0),x.getCollection("purchase-orders").orderBy("date").where("date","<=",t).where("date",">=",e).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));C(Ve.a.orderBy(t,["folio"],["asc"]))})))}),[E]);var R=Ve.a.reduce(v,(function(e,t){return e+Ve.a.reduce(t.products,(function(e,t){return e+ +(t.product?t.product.price:0)*t.quantity}),0)}),0);return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)(nt.a,{css:da,component:De.a,alignItems:"center",container:!0,spacing:3},Object(Oe.a)(nt.a,{item:!0,xs:12,md:4},Object(Oe.a)(We.a,{label:"Fecha",variant:"outlined",value:u||"",onChange:function(e){return s(e.target.value)},type:"date",fullWidth:!0})),Object(Oe.a)(nt.a,{item:!0,xs:12,md:4},Object(Oe.a)(oa.a,{id:"combo-box-demo",options:o,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(Oe.a)(We.a,Object(at.a)({},e,{fullWidth:!0,label:"Proveedor",variant:"outlined"}))},onChange:function(e,t){return f(t)}})),Object(Oe.a)(nt.a,{item:!0,xs:12,md:4},Object(Oe.a)(he.a,{onClick:function(){return q.apply(this,arguments)},fullWidth:!0,size:"large",variant:"contained",color:"secondary"},"Continuar ",Object(Oe.a)(ba.a,{css:Oa})))),Object(Oe.a)(ve.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"2rem"}},Object(Oe.a)(D.a,{onClick:function(){return Y(y()(E,"MM-YYYY").subtract(1,"month").format("MM-YYYY"))},color:"primary",size:"medium"},Object(Oe.a)(la.a,{fontSize:"large"})),Object(Oe.a)(I.a,{align:"center",style:{margin:"0 2rem"},color:"primary",variant:"h6"},E),Object(Oe.a)(D.a,{onClick:function(){return Y(y()(E,"MM-YYYY").add(1,"month").format("MM-YYYY"))},color:"primary",size:"medium"},Object(Oe.a)(ua.a,{fontSize:"large"}))),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,"Fecha"),Object(Oe.a)(we.a,null,"Folio"),Object(Oe.a)(we.a,null,"Cliente"),Object(Oe.a)(we.a,null,"Monto"),Object(Oe.a)(we.a,null,"Pagado"),Object(Oe.a)(we.a,null,"Saldo"),Object(Oe.a)(we.a,null,"Estatus Pago"),Object(Oe.a)(we.a,null,"Estatus Operaci\xf3n"),Object(Oe.a)(we.a,null,"Ver"))),Object(Oe.a)(Se.a,null,v.map((function(e){return Object(Oe.a)(ma,{key:e.id,handlePayment:F,data:e})}))),Object(Oe.a)(ca.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{colSpan:"3"}),Object(Oe.a)(we.a,null,qt()(R).format("$0,0.00")),Object(Oe.a)(we.a,null,qt()(A).format("$0,0.00")),Object(Oe.a)(we.a,null,qt()(R-A).format("$0,0.00"))))));function F(e){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t&&N((function(e){return e+t}))}catch(a){alert(a.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(d.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{u&&p&&(a={date:y()(u,"YYYY-MM-DD").valueOf(),vendor:p.id},x.simpleAdd(a,"purchase-orders").then((function(t){e.history.push("/compras/ordenes/".concat(t))})))}catch(n){alert(n.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}var pa=a(33),fa=a(47),ga=a.n(fa),ha=a(176),va=a(175),ya=a(208),Ca=a.n(ya),xa=(a(284),a(209)),wa=a.n(xa);var Sa=function(e){var t=e.id,a=e.index,c=Object(n.useState)({}),o=Object(O.a)(c,2),r=o[0],l=o[1];return Object(n.useEffect)((function(){t&&x.getDocument("users",t).get().then((function(e){l(e.data())}))}),[t]),Object(Oe.a)("span",null,r[a])},Ea={name:"khvsip",styles:"font-size:1.2rem;"},Ya={name:"1vss5ax",styles:"width:10rem;"},ka={name:"q96trk",styles:"width:100%;border-collapse:collapse;table-layout:fixed;margin-top:1rem;td{padding:1rem;}"},Ma={name:"17tmu4e",styles:"th{font-size:1.2rem;padding:1rem;text-align:center;}td{font-size:1.2rem;padding:1rem;}"},Aa={name:"h9mhzu",styles:"width:5rem;"},Da={name:"xi606m",styles:"text-align:center;"},Ia=function(e){Object(ha.a)(a,e);var t=Object(va.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.data?this.props.data:{},t=e.products?e.products:[],a=Ve.a.reduce(t,(function(e,t){return e+t.product.cost*t.quantity}),0);return Object(Oe.a)("div",{css:Ea},Object(Oe.a)("div",null,Object(Oe.a)("img",{css:Ya,src:"/img/logo.jpg",alt:"Amelia Design"}),Object(Oe.a)("p",{style:{marginTop:"1rem",textAlign:"right"}},"Ciudad de M\xe9xico, a ",y()().locale("es").format("DD")," de ",y()().locale("es").format("MMMM")," del ",y()().locale("es").format("YYYY")),Object(Oe.a)("table",{css:ka},Object(Oe.a)("tbody",null,Object(Oe.a)("tr",null,Object(Oe.a)("td",null,"Nombre de Cliente: "),Object(Oe.a)("td",null,Object(Oe.a)(Sa,{id:e.customerId,index:"name"})),Object(Oe.a)("td",null)),Object(Oe.a)("tr",null,Object(Oe.a)("td",null,"Email: "),Object(Oe.a)("td",null,Object(Oe.a)(Sa,{id:e.customerId,index:"email"})),Object(Oe.a)("td",null)),Object(Oe.a)("tr",null,Object(Oe.a)("td",null,"Tel\xe9fono: "),Object(Oe.a)("td",null,Object(Oe.a)(Sa,{id:e.customerId,index:"phone"})),Object(Oe.a)("td",null)),Object(Oe.a)("tr",null,Object(Oe.a)("td",null,"Lugar de Entrega"),Object(Oe.a)("td",null,e.deliveringPlace),Object(Oe.a)("td",null))))),Object(Oe.a)("table",{css:Ma,style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed",marginTop:"2.5rem"}},Object(Oe.a)("thead",null,Object(Oe.a)("tr",null,Object(Oe.a)("th",null),Object(Oe.a)("th",null,"Producto"),Object(Oe.a)("th",null,"Precio Unitario"),Object(Oe.a)("th",null,"Cantidad"),Object(Oe.a)("th",null,"Total"))),Object(Oe.a)("tbody",null,e.products?e.products.map((function(e,t){return Object(Oe.a)("tr",{key:t},Object(Oe.a)("td",null,Object(Oe.a)("img",{src:e.product.cover,alt:e.product.name,css:Aa})),Object(Oe.a)("td",null,e.product.name),Object(Oe.a)("td",null,qt()(e.product.cost).format("$0,0.00")),Object(Oe.a)("td",{css:Da},e.quantity),Object(Oe.a)("td",null,qt()(e.product.cost*e.quantity).format("$0,0.00")))})):Object(Oe.a)("tr",null),Object(Oe.a)("tr",null,Object(Oe.a)("td",{colSpan:"3"}),Object(Oe.a)("td",null,"Total"),Object(Oe.a)("td",null,qt()(a).format("$0,0.00"))))),Object(Oe.a)("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed",marginTop:"4.5rem",fontSize:"1.2rem"}},Object(Oe.a)("tbody",null,Object(Oe.a)("tr",null,Object(Oe.a)("td",null),Object(Oe.a)("td",{style:{borderBottom:"1px solid #ccc"}}),Object(Oe.a)("td",null)),Object(Oe.a)("tr",null,Object(Oe.a)("td",null),Object(Oe.a)("td",{style:{textAlign:"center"}},Object(Oe.a)("br",null),"Atentamente:",Object(Oe.a)("br",null),"Amelia Design"),Object(Oe.a)("td",null)))))}}]),a}(n.Component),Na={name:"2j12id",styles:"margin-left:.5rem;"},Ra=function(e){Object(ha.a)(a,e);var t=Object(va.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return Object(Oe.a)("div",{className:"print-btn"},Object(Oe.a)("div",{style:{display:"none"}},Object(Oe.a)(Ia,{data:this.props.data,ref:function(t){return e.componentRef=t}})),Object(Oe.a)(Ca.a,{trigger:function(){return Object(Oe.a)(he.a,{color:"secondary",fullWidth:!0,size:"large",variant:"contained"},e.props.message," ",Object(Oe.a)(wa.a,{css:Na}))},content:function(){return e.componentRef},pageStyle:"margin:10mm 0;"}))}}]),a}(n.Component);var Fa=function(e){var t=e.moves.slice(0,Number(e.index)+1),a=e.data,n=e.total,c=Ve.a.reduce(t,(function(e,t){return e-t.amount}),n);return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{onClick:function(){return x.delete("finance-moves",a.id,a)},size:"small",color:"secondary"},Object(Oe.a)(ga.a,{fontSize:"small"}))),Object(Oe.a)(we.a,null,y()(a.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,a.concept),Object(Oe.a)(we.a,null,"cargo"===a.type?qt()(a.amount).format("$0,0.00"):""),Object(Oe.a)(we.a,null,qt()(c).format("$0,0.00")))},Pa={name:"15g2oxy",styles:"margin-top:1rem;"},qa={name:"15g2oxy",styles:"margin-top:1rem;"},Wa={name:"xmtlc8",styles:"max-width:30rem;"},Ta={name:"i51og3",styles:"margin-top:2rem;"},_a={name:"15g2oxy",styles:"margin-top:1rem;"},La={name:"15g2oxy",styles:"margin-top:1rem;"},za={name:"acwcvw",styles:"margin-bottom:1rem;"};function Va(e){var t=e.match.params.id,a=Object(n.useState)([]),o=Object(O.a)(a,2),r=o[0],l=o[1],i=Object(n.useState)([]),u=Object(O.a)(i,2),s=u[0],b=u[1],j=Object(n.useState)({}),p=Object(O.a)(j,2),f=p[0],g=p[1],h=Object(n.useState)({}),v=Object(O.a)(h,2),C=v[0],Y=v[1],M=Object(n.useState)({}),A=Object(O.a)(M,2),N=A[0],R=A[1],F=Object(n.useState)(""),P=Object(O.a)(F,2),q=P[0],W=P[1],T=Object(n.useState)(""),_=Object(O.a)(T,2),L=_[0],z=_[1],V=Object(n.useState)(""),B=Object(O.a)(V,2),$=B[0],U=B[1],G=Object(n.useState)(""),Z=Object(O.a)(G,2),X=Z[0],H=Z[1];Object(n.useEffect)((function(){var e=y()().format("YYYY-MM-DD");z(e)}),[]),Object(n.useEffect)((function(){x.getDocument("purchase-orders",t).onSnapshot((function(e){g(e.data())})),x.getCollection("products").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));b(t)})),x.getCollection("finance-moves").where("type","==","cargo").where("orderId","==",t).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));l(t)}))}),[t]),Object(n.useEffect)((function(){f.vendor&&x.getDocument("vendors",f.vendor).get().then((function(e){Y(e.data())}))}),[f.vendor]);var J=f.products?f.products:[],K=Ve.a.reduce(J,(function(e,t){return e+(t.product?t.product.cost:0)*t.quantity}),0),Q=Ve.a.reduce(r,(function(e,t){return e+t.amount}),0);return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)(I.a,{css:Pa,variant:"h4",component:"h1"},"Detalle de Orden de Compra"),Object(Oe.a)(w.a,{css:qa}),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,null,Object(Oe.a)(k.a,{primary:"Fecha",secondary:Object(Oe.a)(We.a,{css:Wa,value:y()(f.date).format("YYYY-MM-DD"),fullWidth:!0,variant:"outlined",onChange:function(e){return x.update("purchase-orders",t,"date",y()(e.target.value,"YYYY-MM-DD").valueOf())},type:"date"})})),Object(Oe.a)(E.a,null,Object(Oe.a)(k.a,{primary:"Nombre de Proveedor",secondary:C.name})),Object(Oe.a)(E.a,null,Object(Oe.a)(k.a,{primary:"Email de Proveedor",secondary:C.email})),Object(Oe.a)(E.a,null,Object(Oe.a)(k.a,{primary:"Tel\xe9fono de Proveedor",secondary:C.phone})),Object(Oe.a)(E.a,null,Object(Oe.a)(k.a,{primary:"Por Cobrar",secondary:qt()(K-Q).format("$0,0.00")}))),Object(Oe.a)(nt.a,{container:!0,spacing:3},Object(Oe.a)(nt.a,{item:!0,xs:12,md:6},Object(Oe.a)(We.a,{label:"Folio",value:f.folio?f.folio:"",onChange:function(e){return x.update("purchase-orders",t,"folio",e.target.value)},fullWidth:!0,variant:"outlined",type:"number"}))),Object(Oe.a)(I.a,{css:Ta,variant:"h4"},"Agregar productos a cotizaci\xf3n"),Object(Oe.a)(nt.a,{alignItems:"center",css:_a,container:!0,spacing:3},Object(Oe.a)(nt.a,{item:!0,xs:12,md:4},Object(Oe.a)(oa.a,{options:s,getOptionLabel:function(e){return"".concat(e.name," - ").concat(qt()(e.cost).format("$0,0.00"))},onChange:function(e,t){return R(t)},renderInput:function(e){return Object(Oe.a)(We.a,Object(at.a)({},e,{fullWidth:!0,label:"Producto",variant:"outlined"}))}})),Object(Oe.a)(nt.a,{item:!0,xs:12,md:4},Object(Oe.a)(We.a,{label:"Cantidad",variant:"outlined",fullWidth:!0,value:q,onChange:function(e){return W(Number(e.target.value))},type:"number"})),Object(Oe.a)(nt.a,{item:!0,xs:12,md:4},Object(Oe.a)(he.a,{onClick:function(){return ae.apply(this,arguments)},size:"large",variant:"contained",fullWidth:!0,color:"primary"},"Agregar Producto"))),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,"Eliminar"),Object(Oe.a)(we.a,null,"Producto"),Object(Oe.a)(we.a,null,"Precio Unitario"),Object(Oe.a)(we.a,null,"Cantidad"),Object(Oe.a)(we.a,null,"Total"))),Object(Oe.a)(Se.a,null,J.map((function(e,t){return Object(Oe.a)(xe.a,{key:t},Object(Oe.a)(we.a,null,Object(Oe.a)(D.a,{onClick:function(){return function(e){return ee.apply(this,arguments)}(t)}},Object(Oe.a)(ga.a,null))),Object(Oe.a)(we.a,null,e.product.name),Object(Oe.a)(we.a,null,qt()(e.product.cost).format("$0,0.00")),Object(Oe.a)(we.a,null,e.quantity),Object(Oe.a)(we.a,null,qt()(e.product.cost*e.quantity).format("$0,0.00")))}))),Object(Oe.a)(ca.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{colSpan:"2"}),Object(Oe.a)(we.a,{align:"right"},"Total"),Object(Oe.a)(we.a,null,qt()(K).format("$0,0.00"))))),Object(Oe.a)(ve.a,{display:"flex",justifyContent:"flex-end",marginTop:"2rem",marginBottom:"2.5rem"},Object(Oe.a)(Ra,{data:f,message:"Imprimir"})),Object(Oe.a)(nt.a,{container:!0,spacing:3},Object(Oe.a)(nt.a,{component:De.a,item:!0,xs:12,md:4},Object(Oe.a)(I.a,{variant:"h5",align:"center"},"Agregar Pago"),Object(Oe.a)(We.a,{label:"Fecha",fullWidth:!0,value:L||"",onChange:function(e){return z(e.target.value)},type:"date",css:La}),Object(Oe.a)(We.a,{label:"Concepto",fullWidth:!0,value:$||"",onChange:function(e){return U(e.target.value)}}),Object(Oe.a)(We.a,{label:"Monto",fullWidth:!0,value:X||"",onChange:function(e){return H(e.target.value)},css:za,type:"number"}),Object(Oe.a)(he.a,{onClick:function(){return te.apply(this,arguments)},fullWidth:!0,color:"secondary",variant:"outlined"},"Agregar")),Object(Oe.a)(nt.a,{item:!0,xs:12,md:8},Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,"Eliminar"),Object(Oe.a)(we.a,null,"Fecha"),Object(Oe.a)(we.a,null,"Concepto"),Object(Oe.a)(we.a,null,"Monto"),Object(Oe.a)(we.a,null,"Saldo"))),Object(Oe.a)(Se.a,null,Object.keys(r).map((function(e){return Object(Oe.a)(Fa,{key:e,moves:r,total:K,index:e,data:r[e]})})))))));function ee(){return(ee=Object(d.a)(m.a.mark((function e(a){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{delete(n=Object(pa.a)(J))[a],c=Ve.a.filter(n,(function(e){return e})),x.update("purchase-orders",t,"products",c)}catch(o){alert(o.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{L&&$&&X&&(a={date:y()(L,"YYYY-MM-DD").valueOf(),type:"cargo",concept:$,amount:Number(X),orderId:t},x.simpleAdd(a,"finance-moves").then((function(){alert("Movimiento agregado"),U(""),H("")})))}catch(n){alert(n.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(d.a)(m.a.mark((function e(){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{N&&q&&(a={product:N,quantity:q},(n=Object(pa.a)(J)).push(a),x.update("purchase-orders",t,"products",n).then((function(){alert("Producto agregado"),W(null)})))}catch(c){alert(c.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}function Ba(e){var t=e.location.pathname.split("/")[2];return Object(Oe.a)(fe.a,null,Object(Oe.a)(ge.a,{size:"large",color:"primary","aria-label":"large outlined primary button group"},Object(Oe.a)(he.a,{style:{cursor:"default"},variant:"contained"},"Compras"),Object(Oe.a)(he.a,{disabled:void 0===t||"",component:l.b,to:"/compras"},"Proveedores"),Object(Oe.a)(he.a,{disabled:"ordenes"===t||"",component:l.b,to:"/compras/ordenes"},"\xd3rdenes de Compra")),Object(Oe.a)(ve.a,{paddingY:"1rem"},Object(Oe.a)(i.c,null,Object(Oe.a)(i.a,{path:"/compras",component:ta,exact:!0}),Object(Oe.a)(i.a,{path:"/compras/ordenes",component:ja,exact:!0}),Object(Oe.a)(i.a,{path:"/compras/ordenes/:id",component:Va,exact:!0}),Object(Oe.a)(i.a,{path:"/compras/proveedores/:id",component:na,exact:!0}))))}var $a=a(228),Ua=a(417),Ga=a(120),Za=a.n(Ga);var Xa={name:"q5fqw0",styles:"padding:1rem;"},Ha={name:"15g2oxy",styles:"margin-top:1rem;"},Ja={name:"acwcvw",styles:"margin-bottom:1rem;"};function Ka(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(O.a)(o,2),l=r[0],i=r[1],u=Object(n.useState)(""),s=Object(O.a)(u,2),b=s[0],j=s[1],p=Object(n.useState)(""),f=Object(O.a)(p,2),g=f[0],h=f[1];return Object(n.useEffect)((function(){var e=y()().format("YYYY-MM-DD");c(e)}),[]),Object(Oe.a)("div",{css:Xa},Object(Oe.a)(I.a,{align:"center",variant:"h4"},"Agregar Movimiento"),Object(Oe.a)(We.a,{label:"Fecha",fullWidth:!0,value:a||"",onChange:function(e){return c(e.target.value)},type:"date",css:Ha}),Object(Oe.a)(Fe.a,{fullWidth:!0},Object(Oe.a)(Pe.a,{htmlFor:"type-label"},"Tipo"),Object(Oe.a)(qe.a,{fullWidth:!0,native:!0,value:l||"",onChange:function(e){return i(e.target.value)},inputProps:{name:"type",id:"type-label"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),Object(Oe.a)("option",{value:"cargo"},"Cargo / Egreso"),Object(Oe.a)("option",{value:"abono"},"Abono / Ingreso"),Object(Oe.a)("option",{value:"receivable"},"Cuenta Por Cobrar"),Object(Oe.a)("option",{value:"debt"},"Cuenta por Pagar"))),Object(Oe.a)(We.a,{label:"Concepto",fullWidth:!0,value:b||"",onChange:function(e){return j(e.target.value)}}),Object(Oe.a)(We.a,{label:"Monto",fullWidth:!0,value:g||"",onChange:function(e){return h(e.target.value)},css:Ja,type:"number"}),Object(Oe.a)(he.a,{onClick:function(){return v.apply(this,arguments)},fullWidth:!0,color:"secondary",variant:"outlined"},"Agregar"));function v(){return(v=Object(d.a)(m.a.mark((function e(){var t,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a&&l&&b&&g?"receivable"===l?(t={date:y()(a,"YYYY-MM-DD").valueOf(),concept:b,amount:Number(g)},x.simpleAdd(t,"receivable").then((function(){alert("Movimiento agregado"),i(""),j(""),h("")}))):"debt"===l?(n={date:y()(a,"YYYY-MM-DD").valueOf(),concept:b,amount:Number(g)},x.simpleAdd(n,"debts").then((function(){alert("Movimiento agregado"),i(""),j(""),h("")}))):(c={date:y()(a,"YYYY-MM-DD").valueOf(),type:l,concept:b,amount:Number(g)},x.simpleAdd(c,"finance-moves").then((function(){alert("Movimiento agregado"),i(""),j(""),h("")}))):alert("Completa todos los campos para continuar")}catch(o){alert(o.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var Qa=function(e){var t=e.moves.slice(0,Number(e.index)+1),a=e.data,n=e.prevBalance,c=Ve.a.reduce(t,(function(e,t){return"abono"===t.type?e+t.amount:e-t.amount}),n);return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{onClick:function(){return x.delete("finance-moves",a.id,a)},size:"small",color:"secondary"},Object(Oe.a)(ga.a,{fontSize:"small"}))),Object(Oe.a)(we.a,null,y()(a.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,a.type),Object(Oe.a)(we.a,null,a.concept),Object(Oe.a)(we.a,null,"abono"===a.type?qt()(a.amount).format("$0,0.00"):""),Object(Oe.a)(we.a,null,"cargo"===a.type?qt()(a.amount).format("$0,0.00"):""),Object(Oe.a)(we.a,null,qt()(c).format("$0,0.00")))};function en(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(void 0),r=Object(O.a)(o,2),l=r[0],i=r[1],u=Object(n.useState)([]),s=Object(O.a)(u,2),b=s[0],m=s[1];Object(n.useEffect)((function(){var e=y()().format("MM-YYYY");i(e)}),[]),Object(n.useEffect)((function(){x.getCollection("months").orderBy("label").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));m(t)}))}),[]),Object(n.useEffect)((function(){var e=y()(l,"MM-YYYY").startOf("month").valueOf(),t=y()(l,"MM-YYYY").endOf("month").valueOf();e&&t&&x.getCollection("finance-moves").orderBy("date").where("date","<=",t).where("date",">=",e).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));c(t)}))}),[l]);var d=y()(l,"MM-YYYY").valueOf(),j=Ve.a.filter(b,(function(e){return y()(e.label,"MM-YYYY").valueOf()<d})),p=Ve.a.reduce(j,(function(e,t){return t.amount+e}),0),f=Ve.a.reduce(a,(function(e,t){return"abono"===t.type?e+t.amount:e}),0),g=Ve.a.reduce(a,(function(e,t){return"cargo"===t.type?e+t.amount:e}),0);return Object(Oe.a)(fe.a,null,Object(Oe.a)(ve.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"2rem"}},Object(Oe.a)(D.a,{onClick:function(){return i(y()(l,"MM-YYYY").subtract(1,"month").format("MM-YYYY"))},color:"primary",size:"medium"},Object(Oe.a)(la.a,{fontSize:"large"})),Object(Oe.a)(I.a,{align:"center",style:{margin:"0 2rem"},color:"primary",variant:"h6"},l),Object(Oe.a)(D.a,{onClick:function(){return i(y()(l,"MM-YYYY").add(1,"month").format("MM-YYYY"))},color:"primary",size:"medium"},Object(Oe.a)(ua.a,{fontSize:"large"}))),Object(Oe.a)(ye.a,{size:"small"},Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},"Acciones"),Object(Oe.a)(we.a,null,"Fecha"),Object(Oe.a)(we.a,null,"Tipo"),Object(Oe.a)(we.a,null,"Concepto"),Object(Oe.a)(we.a,null,"Abonos"),Object(Oe.a)(we.a,null,"Cargos"),Object(Oe.a)(we.a,null,"Balance"))),Object(Oe.a)(Se.a,null,Object.keys(a).map((function(e){return Object(Oe.a)(Qa,{key:e,moves:a,prevBalance:p,index:e,data:a[e]})}))),Object(Oe.a)(ca.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,qt()(f).format("$0,0.00")),Object(Oe.a)(we.a,null,qt()(g).format("$0,0.00"))))))}var tn=function(e){var t=e.data;return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{onClick:function(){return x.delete("finance-moves",t.id,t)},size:"small",color:"secondary"},Object(Oe.a)(ga.a,{fontSize:"small"}))),Object(Oe.a)(we.a,null,y()(t.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,t.type),Object(Oe.a)(we.a,null,t.concept),Object(Oe.a)(we.a,null,qt()(t.amount).format("$0,0.00")))};function an(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(void 0),r=Object(O.a)(o,2),l=r[0],i=r[1];Object(n.useEffect)((function(){var e=y()().format("MM-YYYY");i(e)}),[]),Object(n.useEffect)((function(){var e=y()(l,"MM-YYYY").startOf("month").valueOf(),t=y()(l,"MM-YYYY").endOf("month").valueOf();e&&t&&x.getCollection("finance-moves").orderBy("date").where("type","==","abono").where("date","<=",t).where("date",">=",e).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));c(t)}))}),[l]);var u=Ve.a.reduce(a,(function(e,t){return e+t.amount}),0);return Object(Oe.a)(fe.a,null,Object(Oe.a)(ve.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"2rem"}},Object(Oe.a)(D.a,{onClick:function(){return i(y()(l,"MM-YYYY").subtract(1,"month").format("MM-YYYY"))},color:"primary",size:"medium"},Object(Oe.a)(la.a,{fontSize:"large"})),Object(Oe.a)(I.a,{align:"center",style:{margin:"0 2rem"},color:"primary",variant:"h6"},l),Object(Oe.a)(D.a,{onClick:function(){return i(y()(l,"MM-YYYY").add(1,"month").format("MM-YYYY"))},color:"primary",size:"medium"},Object(Oe.a)(ua.a,{fontSize:"large"}))),Object(Oe.a)(ye.a,{size:"small"},Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},"Acciones"),Object(Oe.a)(we.a,null,"Fecha"),Object(Oe.a)(we.a,null,"Tipo"),Object(Oe.a)(we.a,null,"Concepto"),Object(Oe.a)(we.a,null,"Monto"))),Object(Oe.a)(Se.a,null,Object.keys(a).map((function(e){return Object(Oe.a)(tn,{key:e,index:e,data:a[e]})}))),Object(Oe.a)(ca.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{colSpan:"3"}),Object(Oe.a)(we.a,{align:"center"},"Total"),Object(Oe.a)(we.a,{align:"center"},qt()(u).format("$0,0.00"))))))}var nn=function(e){var t=e.data;return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{onClick:function(){return x.delete("finance-moves",t.id,t)},size:"small",color:"secondary"},Object(Oe.a)(ga.a,{fontSize:"small"}))),Object(Oe.a)(we.a,null,y()(t.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,t.type),Object(Oe.a)(we.a,null,t.concept),Object(Oe.a)(we.a,null,qt()(t.amount).format("$0,0.00")))};function cn(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(void 0),r=Object(O.a)(o,2),l=r[0],i=r[1];Object(n.useEffect)((function(){var e=y()().format("MM-YYYY");i(e)}),[]),Object(n.useEffect)((function(){var e=y()(l,"MM-YYYY").startOf("month").valueOf(),t=y()(l,"MM-YYYY").endOf("month").valueOf();e&&t&&x.getCollection("finance-moves").orderBy("date").where("type","==","cargo").where("date","<=",t).where("date",">=",e).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));c(t)}))}),[l]);var u=Ve.a.reduce(a,(function(e,t){return e+t.amount}),0);return Object(Oe.a)(fe.a,null,Object(Oe.a)(ve.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"2rem"}},Object(Oe.a)(D.a,{onClick:function(){return i(y()(l,"MM-YYYY").subtract(1,"month").format("MM-YYYY"))},color:"primary",size:"medium"},Object(Oe.a)(la.a,{fontSize:"large"})),Object(Oe.a)(I.a,{align:"center",style:{margin:"0 2rem"},color:"primary",variant:"h6"},l),Object(Oe.a)(D.a,{onClick:function(){return i(y()(l,"MM-YYYY").add(1,"month").format("MM-YYYY"))},color:"primary",size:"medium"},Object(Oe.a)(ua.a,{fontSize:"large"}))),Object(Oe.a)(ye.a,{size:"small"},Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},"Acciones"),Object(Oe.a)(we.a,null,"Fecha"),Object(Oe.a)(we.a,null,"Tipo"),Object(Oe.a)(we.a,null,"Concepto"),Object(Oe.a)(we.a,null,"Monto"))),Object(Oe.a)(Se.a,null,Object.keys(a).map((function(e){return Object(Oe.a)(nn,{key:e,index:e,data:a[e]})}))),Object(Oe.a)(ca.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{colSpan:"3"}),Object(Oe.a)(we.a,{align:"center"},"Total"),Object(Oe.a)(we.a,{align:"center"},qt()(u).format("$0,0.00"))))))}var on=function(e){var t=e.moves.slice(0,Number(e.index)+1),a=e.data,n=Ve.a.reduce(t,(function(e,t){return e+t.amount}),0);return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{onClick:function(){return x.delete("receivable",a.id,a)},size:"small",color:"secondary"},Object(Oe.a)(ga.a,{fontSize:"small"}))),Object(Oe.a)(we.a,null,y()(a.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,a.concept),Object(Oe.a)(we.a,null,qt()(a.amount).format("$0,0.00")),Object(Oe.a)(we.a,null,qt()(n).format("$0,0.00")))};function rn(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){x.getCollection("receivable").orderBy("date").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));c(t)}))}),[]),Object(Oe.a)(fe.a,null,Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},"Acciones"),Object(Oe.a)(we.a,null,"Fecha"),Object(Oe.a)(we.a,null,"Concepto"),Object(Oe.a)(we.a,null,"Monto"),Object(Oe.a)(we.a,null,"Balance"))),Object(Oe.a)(Se.a,null,Object.keys(a).map((function(e){return Object(Oe.a)(on,{key:e,moves:a,index:e,data:a[e]})})))))}var ln=function(e){var t=e.moves.slice(0,Number(e.index)+1),a=e.data,n=Ve.a.reduce(t,(function(e,t){return e+t.amount}),0);return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{onClick:function(){return x.delete("debts",a.id,a)},size:"small",color:"secondary"},Object(Oe.a)(ga.a,{fontSize:"small"}))),Object(Oe.a)(we.a,null,y()(a.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,a.concept),Object(Oe.a)(we.a,null,qt()(a.amount).format("$0,0.00")),Object(Oe.a)(we.a,null,qt()(n).format("$0,0.00")))};function un(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){x.getCollection("debts").orderBy("date").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));c(t)}))}),[]),Object(Oe.a)(fe.a,null,Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{align:"center"},"Acciones"),Object(Oe.a)(we.a,null,"Fecha"),Object(Oe.a)(we.a,null,"Concepto"),Object(Oe.a)(we.a,null,"Monto"),Object(Oe.a)(we.a,null,"Balance"))),Object(Oe.a)(Se.a,null,Object.keys(a).map((function(e){return Object(Oe.a)(ln,{key:e,moves:a,index:e,data:a[e]})})))))}var sn={name:"zdpt2t",styles:"margin-left:auto;"},bn={name:"e9xurp",styles:"margin-right:.5rem;"},mn={name:"xi606m",styles:"text-align:center;"},dn={name:"xi606m",styles:"text-align:center;"},On={name:"xi606m",styles:"text-align:center;"},jn={name:"xi606m",styles:"text-align:center;"},pn={name:"xi606m",styles:"text-align:center;"};function fn(e){var t,a=e.location.pathname.split("/")[2],c=Object(n.useState)(null),o=Object(O.a)(c,2),r=o[0],u=o[1],s=Object(n.useState)(!1),b=Object(O.a)(s,2),m=b[0],d=b[1],p=Boolean(r);return Object(Oe.a)(fe.a,null,Object(Oe.a)(M.a,{position:"relative"},Object(Oe.a)(A.a,{variant:"dense"},Object(Oe.a)(D.a,(t={"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",edge:"start",color:"inherit"},Object(j.a)(t,"aria-label","menu"),Object(j.a)(t,"onClick",(function(e){u(e.currentTarget)})),t),Object(Oe.a)(B.a,null)),Object(Oe.a)(I.a,{variant:"h6",color:"inherit"},"Contabilidad"),Object(Oe.a)(he.a,{onClick:function(){return d(!0)},css:sn,color:"secondary",variant:"contained",size:"small"},Object(Oe.a)(Za.a,{css:bn})," Agregar Movimiento"))),Object(Oe.a)($a.a,{id:"long-menu",anchorEl:r,keepMounted:!0,open:p,onClose:function(){u(null)},PaperProps:{style:{maxHeight:216}}},Object(Oe.a)(Ua.a,{css:mn,disabled:void 0===a||"",component:l.b,to:"/contabilidad"},"Estado Financiero"),Object(Oe.a)(Ua.a,{css:dn,disabled:"ingresos"===a||"",component:l.b,to:"/contabilidad/ingresos"},"Ingresos"),Object(Oe.a)(Ua.a,{css:On,disabled:"egresos"===a||"",component:l.b,to:"/contabilidad/egresos"},"Egresos"),Object(Oe.a)(Ua.a,{css:jn,disabled:"cuentas-cobrar"===a||"",component:l.b,to:"/contabilidad/cuentas-cobrar"},"Cuentas por cobrar"),Object(Oe.a)(Ua.a,{css:pn,disabled:"cuentas-pagar"===a||"",component:l.b,to:"/contabilidad/cuentas-pagar"},"Cuentas por pagar")),Object(Oe.a)(ve.a,{paddingY:"1rem"},Object(Oe.a)(i.c,null,Object(Oe.a)(i.a,{path:"/contabilidad",component:en,exact:!0}),Object(Oe.a)(i.a,{path:"/contabilidad/ingresos",component:an,exact:!0}),Object(Oe.a)(i.a,{path:"/contabilidad/egresos",component:cn,exact:!0}),Object(Oe.a)(i.a,{path:"/contabilidad/cuentas-cobrar",component:rn,exact:!0}),Object(Oe.a)(i.a,{path:"/contabilidad/cuentas-pagar",component:un,exact:!0}))),Object(Oe.a)(Ne,{open:m,handleClose:function(){return d(null)}},Object(Oe.a)(Ka,null)))}var gn={name:"15g2oxy",styles:"margin-top:1rem;"},hn={name:"15g2oxy",styles:"margin-top:1rem;"};function vn(){var e=Object(i.f)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),o=a[0],r=a[1];return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nuevo Almac\xe9n"),Object(Oe.a)(We.a,{label:"Nombre de almac\xe9n",value:o.name,fullWidth:!0,variant:"outlined",onChange:function(e){return function(e,t){var a=Object(Re.a)({},o);a[e]=t,r(a)}("name",e.target.value)},css:gn}),Object(Oe.a)(he.a,{onClick:function(){return l.apply(this,arguments)},css:hn,variant:"contained",fullWidth:!0,color:"primary"},"Continuar"));function l(){return(l=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{o.name?x.simpleAdd(o,"warehouse").then((function(t){e.push("/almacen/".concat(t))})):alert("Completa el nombre para continuar")}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}var yn={name:"hboir5",styles:"display:flex;width:100%;"},Cn={name:"zdpt2t",styles:"margin-left:auto;"},xn={name:"i51og3",styles:"margin-top:2rem;"};function wn(e){var t=Object(n.useState)([]),a=Object(O.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(!1),i=Object(O.a)(r,2),u=i[0],s=i[1];Object(n.useEffect)((function(){x.getCollection("warehouse").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));o(t)}))}),[]);return Object(Oe.a)(fe.a,null,Object(Oe.a)("div",{css:yn},Object(Oe.a)(he.a,{css:Cn,variant:"contained",color:"primary",onClick:function(){return s(!u)}},"Nuevo Almac\xe9n")),Object(Oe.a)(ye.a,{css:xn},Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Nombre"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Ver detalle"))),Object(Oe.a)(Se.a,null,c.map((function(e){return Object(Oe.a)(xe.a,{key:e.id},Object(Oe.a)(we.a,null,e.name),Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{component:l.b,to:"/almacen/".concat(e.id),color:"primary"},Object(Oe.a)(Ye.a,null))))})))),Object(Oe.a)(Ne,{open:u,handleClose:function(){s(!1)}},Object(Oe.a)(vn,null)))}var Sn=a(157),En=a.n(Sn);var Yn={name:"q5fqw0",styles:"padding:1rem;"},kn={name:"acwcvw",styles:"margin-bottom:1rem;"},Mn={name:"acwcvw",styles:"margin-bottom:1rem;"},An={name:"acwcvw",styles:"margin-bottom:1rem;"},Dn={name:"acwcvw",styles:"margin-bottom:1rem;"},In={name:"acwcvw",styles:"margin-bottom:1rem;"},Nn={name:"acwcvw",styles:"margin-bottom:1rem;"};function Rn(){var e=Object(i.f)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)([]),u=Object(O.a)(r,2),s=u[0],b=u[1],j=Object(n.useState)([]),p=Object(O.a)(j,2),f=p[0],g=p[1],h=Object(n.useState)([]),v=Object(O.a)(h,2),C=v[0],w=v[1],S=Object(n.useState)([]),E=Object(O.a)(S,2),Y=E[0],k=E[1],M=function(e,t){var a=Object(Re.a)({},c);a[e]=t,o(a)};return Object(n.useEffect)((function(){x.getCollection("travels").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));b(t)})),x.getCollection("employee").where("category","==","Chofer").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));g(t)})),x.getCollection("vehicles").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));w(t)})),x.getCollection("warehouse").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));k(t)}))}),[]),Object(Oe.a)(fe.a,null,Object(Oe.a)(nt.a,{container:!0,spacing:2},Object(Oe.a)(nt.a,{item:!0,xs:12,md:4},Object(Oe.a)(De.a,{css:Yn},Object(Oe.a)(We.a,{label:"Folio",value:c.folio,onChange:function(e){return M("folio",e.target.value)},fullWidth:!0,variant:"outlined",css:kn}),Object(Oe.a)(Fe.a,{fullWidth:!0,css:Mn},Object(Oe.a)(Pe.a,{htmlFor:"vehicle"},"Veh\xedculo"),Object(Oe.a)(qe.a,{native:!0,value:c.vehicle,onChange:function(e){return M("vehicle",e.target.value)},inputProps:{name:"vehicle",id:"vehicle"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),C.map((function(e){return Object(Oe.a)("option",{key:e.id,value:e.id},e.placas," - ",e.brand," ",e.model," - ",e.year)})))),Object(Oe.a)(Fe.a,{fullWidth:!0,css:An},Object(Oe.a)(Pe.a,{htmlFor:"driver"},"Chofer"),Object(Oe.a)(qe.a,{native:!0,value:c.driver,onChange:function(e){return M("driver",e.target.value)},inputProps:{name:"driver",id:"driver"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),f.map((function(e){return Object(Oe.a)("option",{value:e.id,key:e.id},e.name)})))),Object(Oe.a)(We.a,{value:c.date,onChange:function(e){return M("date",e.target.value)},fullWidth:!0,variant:"outlined",type:"date",css:Dn}),Object(Oe.a)(Fe.a,{fullWidth:!0,css:In},Object(Oe.a)(Pe.a,{htmlFor:"from"},"Almac\xe9n de Salida"),Object(Oe.a)(qe.a,{native:!0,value:c.from,onChange:function(e){return M("from",e.target.value)},inputProps:{name:"from",id:"from"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),Y.map((function(e){return Object(Oe.a)("option",{key:e.id},e.name)})))),Object(Oe.a)(Fe.a,{fullWidth:!0,css:Nn},Object(Oe.a)(Pe.a,{htmlFor:"to"},"Almac\xe9n de Recepci\xf3n"),Object(Oe.a)(qe.a,{native:!0,value:c.to,onChange:function(e){return M("to",e.target.value)},inputProps:{name:"to",id:"to"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),Y.map((function(e){return Object(Oe.a)("option",{key:e.id},e.name)})))),Object(Oe.a)(he.a,{onClick:function(){return A.apply(this,arguments)},fullWidth:!0,variant:"contained",color:"primary"},"Continuar"))),Object(Oe.a)(nt.a,{item:!0,xs:12,md:8},Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Fecha de Salida"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Estatus"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Recorrido"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Ver m\xe1s"))),Object(Oe.a)(Se.a,null,s.map((function(e){return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,y()(e.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,e.status),Object(Oe.a)(we.a,null,e.from," - ",e.to),Object(Oe.a)(we.a,null,Object(Oe.a)(D.a,{component:l.b,to:"/viajes/".concat(e.id),color:"secondary"},Object(Oe.a)(En.a,null))))})))))));function A(){return(A=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c.folio&&c.driver&&c.date&&c.from&&c.to?(Object(Re.a)({},c).date=y()(c.date).valueOf(),x.simpleAdd(c,"travels").then((function(t){e.push("/viajes/".concat(t))}))):alert("Completa todos los campos para continuar")}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}var Fn={name:"q5fqw0",styles:"padding:1rem;"},Pn={name:"acwcvw",styles:"margin-bottom:1rem;"},qn={name:"acwcvw",styles:"margin-bottom:1rem;"},Wn={name:"acwcvw",styles:"margin-bottom:1rem;"},Tn={name:"acwcvw",styles:"margin-bottom:1rem;"};function _n(){var e=Object(i.f)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)([]),u=Object(O.a)(r,2),s=u[0],b=u[1];Object(n.useEffect)((function(){x.getCollection("vehicles").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));b(t)}))}),[]);var j=function(e,t){var a=Object(Re.a)({},c);a[e]=t,o(a)};return Object(Oe.a)(fe.a,null,Object(Oe.a)(nt.a,{container:!0,spacing:2},Object(Oe.a)(nt.a,{item:!0,xs:12,md:4},Object(Oe.a)(De.a,{css:Fn},Object(Oe.a)(We.a,{label:"Placas",value:c.placas,onChange:function(e){return j("placas",e.target.value)},fullWidth:!0,variant:"outlined",css:Pn}),Object(Oe.a)(We.a,{label:"Marca",value:c.brand,onChange:function(e){return j("brand",e.target.value)},fullWidth:!0,variant:"outlined",css:qn}),Object(Oe.a)(We.a,{label:"Modelo",value:c.model,onChange:function(e){return j("model",e.target.value)},fullWidth:!0,variant:"outlined",css:Wn}),Object(Oe.a)(We.a,{label:"A\xf1o",value:c.year,onChange:function(e){return j("year",e.target.value)},fullWidth:!0,variant:"outlined",css:Tn}),Object(Oe.a)(he.a,{onClick:function(){return p.apply(this,arguments)},fullWidth:!0,variant:"contained",color:"primary"},"Agregar"))),Object(Oe.a)(nt.a,{item:!0,xs:12,md:8},Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Placas"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Modelo"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"\xdaltimo Mantenimiento"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Rendimiento"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Ver m\xe1s"))),Object(Oe.a)(Se.a,null,s.map((function(e){return Object(Oe.a)(xe.a,{key:e.id},Object(Oe.a)(we.a,null,e.placas),Object(Oe.a)(we.a,null,e.model),Object(Oe.a)(we.a,null,e.last),Object(Oe.a)(we.a,null,e.rend),Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{component:l.b,to:"/vehiculos/".concat(e.id),color:"primary"},Object(Oe.a)(Ye.a,null))))})))))));function p(){return(p=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c.placas&&c.brand&&c.model&&c.year?x.simpleAdd(c,"vehicles").then((function(t){e.push("/vehiculos/".concat(t))})):alert("Completa todos los campos para continuar")}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}var Ln=a(418),zn=a(419),Vn=a(420);var Bn={name:"8fkoyy",styles:"margin-bottom:2rem;"},$n={name:"acwcvw",styles:"margin-bottom:1rem;"},Un={name:"8fkoyy",styles:"margin-bottom:2rem;"},Gn={name:"acwcvw",styles:"margin-bottom:1rem;"};function Zn(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){x.getCollection("messages").orderBy("timestamp","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));o(t)}))}),[]);var r=Ve.a.filter(a,(function(e){return!0!==e.isRead})),l=Ve.a.filter(a,(function(e){return!0===e.isRead}));return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)(nt.a,{spacing:3,justify:"flex-start",container:!0},Object(Oe.a)(nt.a,{item:!0,xs:12,md:6},Object(Oe.a)(I.a,{variant:"h3",align:"center",css:Bn},"Pendientes"),Object(Oe.a)("ul",null,r.map((function(e,t){return Object(Oe.a)(Ln.a,{key:t,css:$n},Object(Oe.a)(zn.a,{action:Object(Oe.a)(vt.a,{checked:e.isRead,onChange:function(){return x.update("messages",e.id,"isRead",!e.isRead)}}),title:e.name,subheader:y()(e.timestamp).format("DD-MM-YYYY HH:mm a")}),Object(Oe.a)(Vn.a,null,Object(Oe.a)(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.email),Object(Oe.a)(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.phone),Object(Oe.a)(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.message)))})))),Object(Oe.a)(nt.a,{item:!0,xs:12,md:6},Object(Oe.a)(I.a,{variant:"h3",align:"center",css:Un},"Atendidos"),Object(Oe.a)("ul",null,l.map((function(e,t){return Object(Oe.a)(Ln.a,{key:t,css:Gn},Object(Oe.a)(zn.a,{action:Object(Oe.a)(vt.a,{checked:e.isRead,onChange:function(){return x.update("messages",e.id,"isRead",!e.isRead)}}),title:e.name,subheader:y()(e.timestamp).format("DD-MM-YYYY HH:mm a")}),Object(Oe.a)(Vn.a,null,Object(Oe.a)(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.email),Object(Oe.a)(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.phone),Object(Oe.a)(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.message)))}))))))}var Xn={name:"ytumd6",styles:"text-decoration:none;"},Hn={name:"1033rfx",styles:"padding:2rem;"},Jn={name:"13h0qca",styles:"font-size:2rem;text-align:center;"},Kn={name:"ytumd6",styles:"text-decoration:none;"},Qn={name:"1033rfx",styles:"padding:2rem;"},ec={name:"13h0qca",styles:"font-size:2rem;text-align:center;"};function tc(){return Object(Oe.a)(nt.a,{container:!0,spacing:3},Object(Oe.a)(nt.a,{item:!0,xs:12,md:6,lg:4},Object(Oe.a)(l.b,{to:"/configuracion/catalogos",css:Xn},Object(Oe.a)(De.a,{css:Hn},Object(Oe.a)("h4",{css:Jn},"Cat\xe1logos")))),Object(Oe.a)(nt.a,{item:!0,xs:12,md:6,lg:4},Object(Oe.a)(l.b,{to:"/configuracion/formulas",css:Kn},Object(Oe.a)(De.a,{css:Qn},Object(Oe.a)("h4",{css:ec},"F\xf3rmulas")))))}var ac=function(e){var t=e.item,a=e.id;return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,t.guide),Object(Oe.a)(we.a,null,t.description),Object(Oe.a)(we.a,null,Object(Oe.a)(qe.a,{native:!0,value:t.status,onChange:function(e){return x.update("warehouse/".concat(a,"/list"),t.id,"status",e.target.value)},inputProps:{name:"status",id:"status"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),Object(Oe.a)("option",{value:"in-process"},"En Proceso"),Object(Oe.a)("option",{value:"in-warehouse"},"En Almac\xe9n"),Object(Oe.a)("option",{value:"done"},"Terminado"))))};function nc(e){var t=e.id,a=Object(n.useState)([]),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)([]),i=Object(O.a)(l,2),u=i[0],s=i[1],b=Object(n.useState)([]),m=Object(O.a)(b,2),d=m[0],j=m[1];return Object(n.useEffect)((function(){t&&(x.getCollection("warehouse/".concat(t,"/list")).where("status","==","in-process").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));r(t)})),x.getCollection("warehouse/".concat(t,"/list")).where("status","==","in-warehouse").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));s(t)})),x.getCollection("warehouse/".concat(t,"/list")).where("status","==","done").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));j(t)})))}),[t]),Object(Oe.a)(nt.a,{item:!0,xs:12,md:8},Object(Oe.a)("h3",null,"En proceso"),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head"},"N\xfamero de Gu\xeda"),Object(Oe.a)(we.a,{variant:"head"},"Descripci\xf3n"),Object(Oe.a)(we.a,{variant:"head"},"Estatus"))),Object(Oe.a)(Se.a,null,o.map((function(e){return Object(Oe.a)(ac,{item:e,id:t,key:e.id})})))),Object(Oe.a)("h3",null,"En almac\xe9n"),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head"},"N\xfamero de Gu\xeda"),Object(Oe.a)(we.a,{variant:"head"},"Descripci\xf3n"),Object(Oe.a)(we.a,{variant:"head"},"Estatus"))),Object(Oe.a)(Se.a,null,u.map((function(e){return Object(Oe.a)(ac,{item:e,id:t,key:e.id})})))),Object(Oe.a)("h3",null,"Entregados"),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head"},"N\xfamero de Gu\xeda"),Object(Oe.a)(we.a,{variant:"head"},"Descripci\xf3n"),Object(Oe.a)(we.a,{variant:"head"},"Estatus"))),Object(Oe.a)(Se.a,null,d.map((function(e){return Object(Oe.a)(ac,{item:e,id:t,key:e.id})})))))}var cc=a(439),oc=a(447),rc=a(452),lc=a(438),ic=a(421),uc=a(210),sc=a.n(uc),bc=a(69),mc=a.n(bc);function dc(e){var t=e.handleSelect,a=Object(n.useState)(""),o=Object(O.a)(a,2),r=o[0],l=o[1],i=Object(n.useState)([]),u=Object(O.a)(i,2),s=u[0],b=u[1];return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)(Ot.a,{fullWidth:!0,variant:"outlined"},Object(Oe.a)(jt.a,{htmlFor:"outlined-adornment-password"},"Direcci\xf3n"),Object(Oe.a)(cc.a,{id:"outlined-adornment-password",value:r,onChange:function(e){return l(e.target.value)},endAdornment:Object(Oe.a)(ft.a,{variant:"filled",position:"end"},Object(Oe.a)(oc.a,{"aria-label":"toggle password visibility",onClick:function(){return j.apply(this,arguments)},edge:"end"},Object(Oe.a)(sc.a,null))),label:"Direcci\xf3n"})),!Ve.a.isEmpty(s)&&Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("p",null,"Selecciona una direcci\xf3n"),Object(Oe.a)(rc.a,null,s.map((function(e){return Object(Oe.a)(lc.a,{disablePadding:!0},Object(Oe.a)(ic.a,{onClick:function(){return t(e)}},Object(Oe.a)(k.a,{primary:e.formatted_address})))})))));function j(){return(j=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r?(t=Ve.a.replace(r," ","+"),mc.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=AIzaSyA39LHNEgqASAk51V0za88oji_Em2rN8lo")).then((function(e){var t=e.data.results;console.log(Ve.a.size(t)),b(t)})).catch((function(e){console.log(e),alert("Ha ocurrido un error al encontrar la direcci\xf3n:"+e.message)}))):alert("Escribe una direcci\xf3n para continuar");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var Oc={name:"102ikit",styles:"width:100%;max-width:35rem;"},jc={name:"1f2k2gl",styles:"margin-left:0.5rem;"},pc={name:"9y5h2v",styles:"margin-top:2rem;margin-bottom:2rem;"},fc={name:"acwcvw",styles:"margin-bottom:1rem;"},gc={name:"acwcvw",styles:"margin-bottom:1rem;"};function hc(e){var t,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(!1),i=Object(O.a)(l,2),u=i[0],s=i[1],b=e.match.params.id,j=Object(n.useState)({status:"in-process"}),p=Object(O.a)(j,2),f=p[0],g=p[1],h=function(e,t){var a=Object(Re.a)({},f);a[e]=t,g(a)};return Object(n.useEffect)((function(){b&&x.getDocument("warehouse",b).onSnapshot((function(e){var t=e.data();r(t)}))}),[b]),o?Object(Oe.a)(fe.a,null,Object(Oe.a)("h1",null,"Detalle de Almac\xe9n"),Object(Oe.a)(ye.a,{css:Oc},Object(Oe.a)(Se.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{component:"th",variant:"head"},"Nombre de Almac\xe9n"),Object(Oe.a)(we.a,null,o.name)),Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{component:"th",variant:"head"},"Direcci\xf3n"),Object(Oe.a)(we.a,null,null===(t=o.address)||void 0===t?void 0:t.formatted_address,Object(Oe.a)(he.a,{size:"small",css:jc,variant:"contained",color:"primary",onClick:function(){return s(!0)}},"Establecer Direcci\xf3n"))))),Object(Oe.a)(w.a,{css:pc}),Object(Oe.a)(nt.a,{container:!0,spacing:4},Object(Oe.a)(nt.a,{item:!0,xs:12,md:4,component:"form",onSubmit:function(e){return e.preventDefault()&&!1}},Object(Oe.a)(We.a,{label:"N\xfamero de Gu\xeda",value:f.guide,onChange:function(e){return h("guide",e.target.value)},fullWidth:!0,variant:"outlined",css:fc}),Object(Oe.a)(We.a,{label:"Descripci\xf3n",value:f.description,onChange:function(e){return h("description",e.target.value)},fullWidth:!0,variant:"outlined",css:gc}),Object(Oe.a)(he.a,{onClick:function(){return y.apply(this,arguments)},fullWidth:!0,variant:"contained",color:"primary"},"Continuar")),Object(Oe.a)(nc,{id:b})),Object(Oe.a)(Ne,{open:u,handleClose:function(){return s(null)}},Object(Oe.a)(dc,{handleSelect:function(e){return v.apply(this,arguments)}}))):Object(Oe.a)(pe,null);function v(){return(v=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.update("warehouse",b,"address",t).then((function(){s(null)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{f.guide&&f.description?x.simpleAdd(f,"warehouse/".concat(b,"/list")).then((function(e){alert("Elemento agregado")})):alert("Completa todos los campos para continuar")}catch(t){alert(t.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var vc={name:"15g2oxy",styles:"margin-top:1rem;"},yc={name:"acwcvw",styles:"margin-bottom:1rem;"},Cc={name:"15g2oxy",styles:"margin-top:1rem;"};function xc(){var e=Object(i.f)(),t=Object(n.useState)({}),a=Object(O.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)([]),u=Object(O.a)(l,2),s=u[0],b=u[1];Object(n.useEffect)((function(){x.getCollection("payrollCategory").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));b(t)}))}),[]);var j=function(e,t){var a=Object(Re.a)({},o);a[e]=t,r(a)};return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nuevo Empleado"),Object(Oe.a)(We.a,{label:"Nombre de empleado",value:o.name,fullWidth:!0,variant:"outlined",onChange:function(e){return j("name",e.target.value)},css:vc}),Object(Oe.a)(Fe.a,{fullWidth:!0,css:yc},Object(Oe.a)(Pe.a,{htmlFor:"category"},"Categor\xeda"),Object(Oe.a)(qe.a,{native:!0,value:o.category,onChange:function(e){return j("category",e.target.value)},inputProps:{name:"category",id:"category"}},Object(Oe.a)("option",{"aria-label":"None",value:""}),s.map((function(e){return Object(Oe.a)("option",{value:e.name,key:e.name},e.name)})))),Object(Oe.a)(he.a,{onClick:function(){return p.apply(this,arguments)},css:Cc,variant:"contained",fullWidth:!0,color:"primary"},"Continuar"));function p(){return(p=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{o.name?x.simpleAdd(o,"employee").then((function(t){e.push("/nomina/".concat(t))})):alert("Completa el nombre para continuar")}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}var wc={name:"hboir5",styles:"display:flex;width:100%;"},Sc={name:"zdpt2t",styles:"margin-left:auto;"},Ec={name:"i51og3",styles:"margin-top:2rem;"};function Yc(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(O.a)(o,2),i=r[0],u=r[1];Object(n.useEffect)((function(){x.getCollection("employee").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));c(t)}))}),[]);return Object(Oe.a)(fe.a,null,Object(Oe.a)("div",{css:wc},Object(Oe.a)(he.a,{css:Sc,variant:"contained",color:"primary",onClick:function(){return u(!i)}},"Nuevo Empleado")),Object(Oe.a)(ye.a,{css:Ec},Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Nombre"),Object(Oe.a)(we.a,{variant:"head",component:"th",align:"center"},"Ver detalle"))),Object(Oe.a)(Se.a,null,a.map((function(e){return Object(Oe.a)(xe.a,{key:e.id},Object(Oe.a)(we.a,null,e.name),Object(Oe.a)(we.a,{align:"center"},Object(Oe.a)(D.a,{component:l.b,to:"/almacen/".concat(e.id),color:"primary"},Object(Oe.a)(Ye.a,null))))})))),Object(Oe.a)(Ne,{open:i,handleClose:function(){u(!1)}},Object(Oe.a)(xc,null)))}var kc=a(422);var Mc={name:"15g2oxy",styles:"margin-top:1rem;"},Ac={name:"15g2oxy",styles:"margin-top:1rem;"};function Dc(){var e=Object(n.useState)({}),t=Object(O.a)(e,2),a=t[0],o=t[1];return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nueva Categor\xeda de Empleado"),Object(Oe.a)(We.a,{label:"Nombre de categor\xeda",value:a.name,fullWidth:!0,variant:"outlined",onChange:function(e){return function(e,t){var n=Object(Re.a)({},a);n[e]=t,o(n)}("name",e.target.value)},css:Mc}),Object(Oe.a)(he.a,{onClick:function(){return r.apply(this,arguments)},css:Ac,variant:"contained",fullWidth:!0,color:"primary"},"Continuar"));function r(){return(r=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.name?x.simpleAdd(a,"payrollCategory").then((function(e){alert("Categor\xeda Agregada")})):alert("Completa el nombre para continuar")}catch(t){alert(t.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var Ic={name:"15g2oxy",styles:"margin-top:1rem;"},Nc={name:"15g2oxy",styles:"margin-top:1rem;"},Rc={name:"15g2oxy",styles:"margin-top:1rem;"};function Fc(){var e=Object(n.useState)({}),t=Object(O.a)(e,2),a=t[0],o=t[1],r=function(e,t){var n=Object(Re.a)({},a);n[e]=t,o(n)};return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nueva Categor\xeda de M\xe9todo de Pago"),Object(Oe.a)(We.a,{label:"Clave",value:a.clave,fullWidth:!0,variant:"outlined",onChange:function(e){return r("clave",e.target.value)},css:Ic}),Object(Oe.a)(We.a,{label:"Descripci\xf3n",value:a.description,fullWidth:!0,variant:"outlined",onChange:function(e){return r("description",e.target.value)},css:Nc}),Object(Oe.a)(he.a,{onClick:function(){return l.apply(this,arguments)},css:Rc,variant:"contained",fullWidth:!0,color:"primary"},"Continuar"));function l(){return(l=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.clave&&a.description?x.simpleAdd(a,"paymentmethods").then((function(e){alert("M\xe9todo de pago agregado")})):alert("Completa el nombre para continuar")}catch(t){alert(t.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var Pc={name:"15g2oxy",styles:"margin-top:1rem;"},qc={name:"15g2oxy",styles:"margin-top:1rem;"};function Wc(){var e=Object(n.useState)({}),t=Object(O.a)(e,2),a=t[0],o=t[1];return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nuevo tipo de Embalaje"),Object(Oe.a)(We.a,{label:"Nombre de tipo de embalaje",value:a.name,fullWidth:!0,variant:"outlined",onChange:function(e){return function(e,t){var n=Object(Re.a)({},a);n[e]=t,o(n)}("name",e.target.value)},css:Pc}),Object(Oe.a)(he.a,{onClick:function(){return r.apply(this,arguments)},css:qc,variant:"contained",fullWidth:!0,color:"primary"},"Continuar"));function r(){return(r=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.name?x.simpleAdd(a,"packagingType").then((function(e){alert("Elemento Agregada")})):alert("Completa el nombre para continuar")}catch(t){alert(t.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}function Tc(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),r=Object(O.a)(o,2),l=r[0],i=r[1],u=Object(n.useState)([]),s=Object(O.a)(u,2),b=s[0],m=s[1];return Object(n.useEffect)((function(){x.getCollection("payrollCategory").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));c(t)})),x.getCollection("paymentmethods").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)})),x.getCollection("packagingType").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));m(t)}))}),[]),Object(Oe.a)(fe.a,null,Object(Oe.a)(nt.a,{container:!0,spacing:4},Object(Oe.a)(nt.a,{component:De.a,item:!0,xs:12,md:6,lg:4},Object(Oe.a)(Dc,null),Object(Oe.a)(w.a,null),Object(Oe.a)(S.a,{dense:!0},a.map((function(e,t){return Object(Oe.a)(E.a,{key:t},Object(Oe.a)(k.a,{primary:e.name}),Object(Oe.a)(kc.a,null,Object(Oe.a)(D.a,{onDoubleClick:function(){return x.delete("payrollCategory",e.id,e)},edge:"end","aria-label":"delete"},Object(Oe.a)(ga.a,null))))})))),Object(Oe.a)(nt.a,{component:De.a,item:!0,xs:12,md:6,lg:4},Object(Oe.a)(Fc,null),Object(Oe.a)(w.a,null),Object(Oe.a)(S.a,{dense:!0},l.map((function(e,t){return Object(Oe.a)(E.a,{key:t},Object(Oe.a)(k.a,{primary:"".concat(e.clave," - ").concat(e.description)}),Object(Oe.a)(kc.a,null,Object(Oe.a)(D.a,{onDoubleClick:function(){return x.delete("paymentmethods",e.id,e)},edge:"end","aria-label":"delete"},Object(Oe.a)(ga.a,null))))})))),Object(Oe.a)(nt.a,{component:De.a,item:!0,xs:12,md:6,lg:4},Object(Oe.a)(Wc,null),Object(Oe.a)(w.a,null),Object(Oe.a)(S.a,{dense:!0},b.map((function(e,t){return Object(Oe.a)(E.a,{key:t},Object(Oe.a)(k.a,{primary:e.name}),Object(Oe.a)(kc.a,null,Object(Oe.a)(D.a,{onDoubleClick:function(){return x.delete("packagingType",e.id,e)},edge:"end","aria-label":"delete"},Object(Oe.a)(ga.a,null))))}))))))}function _c(e){var t=e.match.params.id,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){x.getDocument("employee",t).get().then((function(e){var t=e.data();r(t)}))}),[t]),o?Object(Oe.a)(fe.a,null,Object(Oe.a)("h3",null,"Detalle de Empleado"),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Nombre: ")," ",Object(Oe.a)("span",null,o.name)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Categor\xeda (\xc1rea): "),Object(Oe.a)("span",null,o.category)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Tel\xe9fono: "),Object(Oe.a)("span",null,o.phone)))):Object(Oe.a)(pe,null)}function Lc(e){var t=e.match.params.id,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){x.getDocument("vehicles",t).get().then((function(e){var t=e.data();r(t)}))}),[t]),o?Object(Oe.a)(fe.a,null,Object(Oe.a)("h3",null,"Detalle de Cliente"),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Placas: ")," ",Object(Oe.a)("span",null,o.placas)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Ma: "),Object(Oe.a)("span",null,o.brand)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Modelo: "),Object(Oe.a)("span",null,o.model)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"A\xf1o: "),Object(Oe.a)("span",null,o.year)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Rendimiento: "),Object(Oe.a)("span",null)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Fecha de \xfaltimo mantenimiento: "),Object(Oe.a)("span",null))),Object(Oe.a)("h3",null,"Mantenimiento"),Object(Oe.a)("h3",null,"Viajes")):Object(Oe.a)(pe,null)}var zc=function(e){var t=e.value,a=e.travelId,c=Object(n.useState)({}),o=Object(O.a)(c,2),r=o[0],l=o[1];return Object(n.useEffect)((function(){t.customer&&x.getDocument("customers",t.customer).onSnapshot((function(e){l(e.data())}))}),[t.customer]),Object(Oe.a)(E.a,{component:nt.a,item:!0,xs:12,md:6,disablePadding:!0},Object(Oe.a)(ic.a,{role:void 0,onClick:function(){return x.update("remissions",t.id,"travel",t.travel===a?null:a)},dense:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(vt.a,{edge:"start",checked:t.travel===a,disableRipple:!0,inputProps:{"aria-labelledby":t.id}})),Object(Oe.a)("div",null,Object(Oe.a)(k.a,{secondary:t.folio,primary:"Folio"}),Object(Oe.a)(k.a,{secondary:y()(t.date).format("DD-MM-YYYY"),primary:"Fecha"}),Object(Oe.a)(k.a,{secondary:r.name,primary:"Cliente"}))))};function Vc(e){var t=e.match.params.id,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)([]),i=Object(O.a)(l,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){x.getDocument("travels",t).get().then((function(e){var t=e.data();r(t)})),x.getCollection("remissions").onSnapshot((function(e){var a=e.docs.map((function(e){return e.data()})),n=Ve.a.filter(a,(function(e){return null===e.travel||e.travel===t||void 0===e.travel}));s(n)}))}),[t]),o?Object(Oe.a)(fe.a,null,Object(Oe.a)("h3",null,"Detalle de Viaje"),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Foio: ")," ",Object(Oe.a)("span",null,o.folio)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Veh\xedculo: "),Object(Oe.a)("span",null,o.vehicle)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Chofer: "),Object(Oe.a)("span",null,o.driver)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Fecha: "),Object(Oe.a)("span",null,o.date)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Salida: "),Object(Oe.a)("span",null,o.from)),Object(Oe.a)(E.a,null,Object(Oe.a)("b",null,"Destino: "),Object(Oe.a)("span",null,o.to))),Object(Oe.a)(w.a,null),Object(Oe.a)("h3",null,"Seleccionar Remisiones"),Object(Oe.a)(S.a,{component:nt.a,gap:4,container:!0},u.map((function(e){return Object(Oe.a)(zc,{key:e.id,value:e,travelId:t})})))):Object(Oe.a)(pe,null)}var Bc={name:"15g2oxy",styles:"margin-top:1rem;"};function $c(e){var t=e.handleClose,a=Object(i.f)(),o=Object(n.useState)({}),r=Object(O.a)(o,2),l=r[0],u=(r[1],Object(n.useState)([])),s=Object(O.a)(u,2),b=s[0],j=s[1],p=Object(n.useState)(null),f=Object(O.a)(p,2),g=f[0],h=f[1];return Object(n.useEffect)((function(){x.getCollection("customers").get().then((function(e){var t=e.docs.map((function(e){return{label:"".concat(e.data().name," - ").concat(e.data().rfc," - ").concat(e.data().email," - ").concat(e.data().phone),value:e.id,haveCredit:e.data().haveCredit,daysCredit:e.data().daysCredit}}));j(t)}))}),[]),Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Nueva Remisi\xf3n"),Object(Oe.a)(ot.a,{disablePortal:!0,options:b,value:g,onChange:function(e,t){console.log(t),h(t)},renderInput:function(e){return Object(Oe.a)(We.a,Object(at.a)({},e,{label:"Cliente",variant:"outlined"}))}}),Object(Oe.a)(he.a,{onClick:function(){return v.apply(this,arguments)},css:Bc,variant:"contained",fullWidth:!0,color:"primary"},"Continuar"));function v(){return(v=Object(d.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g?((n=Object(Re.a)({},l)).customer=g.value,n.haveCredit=g.haveCredit,n.daysCredit=g.daysCredit,n.status="creating",n.customer?x.simpleAdd(n,"remissions").then((function(e){a.push("/remisiones/detalle/".concat(e)),t()})):alert("Completa todos los campos para continuar")):alert("Selecciona un cliente para continuar");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var Uc=a(440),Gc=a(455),Zc=a(456),Xc=a(457);var Hc={name:"1ej7rru",styles:"text-decoration:none;color:black;"};function Jc(e){var t=e.id,a=e.index,c=Object(n.useState)({}),o=Object(O.a)(c,2),r=o[0],l=o[1];return Object(n.useEffect)((function(){t&&x.getDocument("warehouse",t).get().then((function(e){e.exists&&l(e.data())}))}),[t]),Object(Oe.a)("span",{css:Hc},r[a||"name"])}var Kc={name:"zdpt2t",styles:"margin-left:auto;"},Qc={name:"9u48bm",styles:"margin-right:0.5rem;"};function eo(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),r=Object(O.a)(o,2),i=r[0],u=r[1];return Object(n.useEffect)((function(){x.getCollection("remissions").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));u(t)}))}),[]),Object(Oe.a)(fe.a,null,Object(Oe.a)(M.a,{position:"relative"},Object(Oe.a)(A.a,{variant:"dense"},Object(Oe.a)(I.a,{variant:"h6",color:"inherit"},"Remisiones"),Object(Oe.a)(he.a,{onClick:function(){return c(!0)},css:Kc,color:"secondary",variant:"contained",size:"small"},Object(Oe.a)(Za.a,{css:Qc})," ","Agregar Remisi\xf3n"))),Object(Oe.a)(Uc.a,null,Object(Oe.a)(Gc.a,null,Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,"Folio"),Object(Oe.a)(we.a,null,"Fecha de Creaci\xf3n"),Object(Oe.a)(we.a,null,"Cliente"),Object(Oe.a)(we.a,null,"Oficina Responsable"),Object(Oe.a)(we.a,null))),Object(Oe.a)(Xc.a,null,i.map((function(e){return Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,e.folio),Object(Oe.a)(we.a,null,y()(e.timestamp).format("DD-MM-YYYY hh:mm a")),Object(Oe.a)(we.a,null,Object(Oe.a)(Yt,{id:e.customer})),Object(Oe.a)(we.a,null,Object(Oe.a)(Jc,{id:e.warehouse})),Object(Oe.a)(we.a,null,Object(Oe.a)(oc.a,{component:l.b,to:"/remisiones/detalle/".concat(e.id),color:"secondary"},Object(Oe.a)(En.a,null))))})))),Object(Oe.a)(Ne,{open:a,handleClose:function(){return c(null)}},Object(Oe.a)($c,{handleClose:function(){return c(null)}})))}var to,ao=a(230),no=a(459),co=a(454),oo=a(429),ro=a(460),lo=a(435),io=a(458),uo=a(37),so=a(35),bo=a(427);function mo(e){var t=e.warehouse,a=e.handleSelect,o=e.handleClose,r=Object(n.useState)(null),l=Object(O.a)(r,2),i=l[0],u=l[1];return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)(Ot.a,{fullWidth:!0},Object(Oe.a)(jt.a,{id:"demo-simple-select-label"},"Bodega que en que se entregar\xe1"),Object(Oe.a)(bo.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Age",onChange:function(e){return u(e.target.value)}},t.map((function(e){return Object(Oe.a)(lo.a,{value:e.address},e.name)})))),Object(Oe.a)(io.a,{css:Object(so.b)(to||(to=Object(uo.a)(["\n          margin-top: 1rem;\n        "]))),variant:"contained",fullWidth:!0,onClick:function(){i?(a(i),o()):alert("Selecciona una bodega para continuar")}},"Continuar"))}var Oo,jo,po,fo,go,ho,vo,yo=[{m3:.08,kg:20,list:[{cities:["cdmx","gda"],amount:120},{cities:["cdmx","mty"],amount:120},{cities:["cdmx","quer"],amount:120},{cities:["cdmx","leon"],amount:120},{cities:["gda","mty"],amount:120},{cities:["gda","quer"],amount:120},{cities:["gda","leon"],amount:120},{cities:["mty","quer"],amount:120},{cities:["mty","leon"],amount:120},{cities:["quer","leon"],amount:120}]},{m3:.25,kg:50,list:[{cities:["cdmx","gda"],amount:180},{cities:["cdmx","mty"],amount:180},{cities:["cdmx","quer"],amount:180},{cities:["cdmx","leon"],amount:180},{cities:["gda","mty"],amount:180},{cities:["gda","quer"],amount:180},{cities:["gda","leon"],amount:180},{cities:["mty","quer"],amount:180},{cities:["mty","leon"],amount:180},{cities:["quer","leon"],amount:180}]},{m3:.43,kg:100,list:[{cities:["cdmx","gda"],amount:215},{cities:["cdmx","mty"],amount:236.5},{cities:["cdmx","quer"],amount:193.5},{cities:["cdmx","leon"],amount:215},{cities:["gda","mty"],amount:215},{cities:["gda","quer"],amount:215},{cities:["gda","leon"],amount:215},{cities:["mty","quer"],amount:215},{cities:["mty","leon"],amount:215},{cities:["quer","leon"],amount:215}]},{m3:.45,kg:200,list:[{cities:["cdmx","gda"],amount:225},{cities:["cdmx","mty"],amount:247.5},{cities:["cdmx","quer"],amount:202.5},{cities:["cdmx","leon"],amount:225},{cities:["gda","mty"],amount:225},{cities:["gda","quer"],amount:225},{cities:["gda","leon"],amount:225},{cities:["mty","quer"],amount:225},{cities:["mty","leon"],amount:225},{cities:["quer","leon"],amount:225}]},{m3:.75,kg:300,list:[{cities:["cdmx","gda"],amount:375},{cities:["cdmx","mty"],amount:412.5},{cities:["cdmx","quer"],amount:337.5},{cities:["cdmx","leon"],amount:375},{cities:["gda","mty"],amount:375},{cities:["gda","quer"],amount:375},{cities:["gda","leon"],amount:375},{cities:["mty","quer"],amount:375},{cities:["mty","leon"],amount:375},{cities:["quer","leon"],amount:375}]},{m3:.9,kg:400,list:[{cities:["cdmx","gda"],amount:450},{cities:["cdmx","mty"],amount:495},{cities:["cdmx","quer"],amount:405},{cities:["cdmx","leon"],amount:450},{cities:["gda","mty"],amount:450},{cities:["gda","quer"],amount:450},{cities:["gda","leon"],amount:450},{cities:["mty","quer"],amount:450},{cities:["mty","leon"],amount:450},{cities:["quer","leon"],amount:450}]},{m3:1,kg:500,list:[{cities:["cdmx","gda"],amount:500},{cities:["cdmx","mty"],amount:550},{cities:["cdmx","quer"],amount:450},{cities:["cdmx","leon"],amount:500},{cities:["gda","mty"],amount:500},{cities:["gda","quer"],amount:500},{cities:["gda","leon"],amount:500},{cities:["mty","quer"],amount:500},{cities:["mty","leon"],amount:500},{cities:["quer","leon"],amount:500}]},{m3:1.2,kg:600,list:[{cities:["cdmx","gda"],amount:600},{cities:["cdmx","mty"],amount:660},{cities:["cdmx","quer"],amount:540},{cities:["cdmx","leon"],amount:600},{cities:["gda","mty"],amount:600},{cities:["gda","quer"],amount:600},{cities:["gda","leon"],amount:600},{cities:["mty","quer"],amount:600},{cities:["mty","leon"],amount:600},{cities:["quer","leon"],amount:600}]},{m3:1.5,kg:700,list:[{cities:["cdmx","gda"],amount:750},{cities:["cdmx","mty"],amount:825},{cities:["cdmx","quer"],amount:675},{cities:["cdmx","leon"],amount:750},{cities:["gda","mty"],amount:750},{cities:["gda","quer"],amount:750},{cities:["gda","leon"],amount:750},{cities:["mty","quer"],amount:750},{cities:["mty","leon"],amount:750},{cities:["quer","leon"],amount:750}]},{m3:1.7,kg:800,list:[{cities:["cdmx","gda"],amount:850},{cities:["cdmx","mty"],amount:935},{cities:["cdmx","quer"],amount:765},{cities:["cdmx","leon"],amount:850},{cities:["gda","mty"],amount:850},{cities:["gda","quer"],amount:850},{cities:["gda","leon"],amount:850},{cities:["mty","quer"],amount:850},{cities:["mty","leon"],amount:850},{cities:["quer","leon"],amount:850}]},{m3:1.9,kg:900,list:[{cities:["cdmx","gda"],amount:950},{cities:["cdmx","mty"],amount:1045},{cities:["cdmx","quer"],amount:855},{cities:["cdmx","leon"],amount:950},{cities:["gda","mty"],amount:950},{cities:["gda","quer"],amount:950},{cities:["gda","leon"],amount:950},{cities:["mty","quer"],amount:950},{cities:["mty","leon"],amount:950},{cities:["quer","leon"],amount:950}]},{m3:2,kg:1e3,list:[{cities:["cdmx","gda"],amount:1e3},{cities:["cdmx","mty"],amount:1100},{cities:["cdmx","quer"],amount:900},{cities:["cdmx","leon"],amount:1e3},{cities:["gda","mty"],amount:1e3},{cities:["gda","quer"],amount:1e3},{cities:["gda","leon"],amount:1e3},{cities:["mty","quer"],amount:1e3},{cities:["mty","leon"],amount:1e3},{cities:["quer","leon"],amount:1e3}]},{m3:2.5,kg:1250,list:[{cities:["cdmx","gda"],amount:1250},{cities:["cdmx","mty"],amount:1375},{cities:["cdmx","quer"],amount:1125},{cities:["cdmx","leon"],amount:1250},{cities:["gda","mty"],amount:1250},{cities:["gda","quer"],amount:1250},{cities:["gda","leon"],amount:1250},{cities:["mty","quer"],amount:1250},{cities:["mty","leon"],amount:1250},{cities:["quer","leon"],amount:1250}]},{m3:3,kg:1500,list:[{cities:["cdmx","gda"],amount:1500},{cities:["cdmx","mty"],amount:1650},{cities:["cdmx","quer"],amount:1350},{cities:["cdmx","leon"],amount:1500},{cities:["gda","mty"],amount:1500},{cities:["gda","quer"],amount:1500},{cities:["gda","leon"],amount:1500},{cities:["mty","quer"],amount:1500},{cities:["mty","leon"],amount:1500},{cities:["quer","leon"],amount:1500}]},{m3:3.5,kg:1750,list:[{cities:["cdmx","gda"],amount:1750},{cities:["cdmx","mty"],amount:1925},{cities:["cdmx","quer"],amount:1575},{cities:["cdmx","leon"],amount:1750},{cities:["gda","mty"],amount:1750},{cities:["gda","quer"],amount:1750},{cities:["gda","leon"],amount:1750},{cities:["mty","quer"],amount:1750},{cities:["mty","leon"],amount:1750},{cities:["quer","leon"],amount:1750}]},{m3:4,kg:2e3,list:[{cities:["cdmx","gda"],amount:2e3},{cities:["cdmx","mty"],amount:2200},{cities:["cdmx","quer"],amount:1800},{cities:["cdmx","leon"],amount:2e3},{cities:["gda","mty"],amount:2e3},{cities:["gda","quer"],amount:2e3},{cities:["gda","leon"],amount:2e3},{cities:["mty","quer"],amount:2e3},{cities:["mty","leon"],amount:2e3},{cities:["quer","leon"],amount:2e3}]},{m3:4.5,kg:2250,list:[{cities:["cdmx","gda"],amount:2250},{cities:["cdmx","mty"],amount:2475},{cities:["cdmx","quer"],amount:2025},{cities:["cdmx","leon"],amount:2250},{cities:["gda","mty"],amount:2250},{cities:["gda","quer"],amount:2250},{cities:["gda","leon"],amount:2250},{cities:["mty","quer"],amount:2250},{cities:["mty","leon"],amount:2250},{cities:["quer","leon"],amount:2250}]},{m3:5,kg:2500,list:[{cities:["cdmx","gda"],amount:2500},{cities:["cdmx","mty"],amount:2750},{cities:["cdmx","quer"],amount:2250},{cities:["cdmx","leon"],amount:2500},{cities:["gda","mty"],amount:2500},{cities:["gda","quer"],amount:2500},{cities:["gda","leon"],amount:2500},{cities:["mty","quer"],amount:2500},{cities:["mty","leon"],amount:2500},{cities:["quer","leon"],amount:2500}]},{m3:5.5,kg:2750,list:[{cities:["cdmx","gda"],amount:2750},{cities:["cdmx","mty"],amount:3025},{cities:["cdmx","quer"],amount:2475},{cities:["cdmx","leon"],amount:2750},{cities:["gda","mty"],amount:2750},{cities:["gda","quer"],amount:2750},{cities:["gda","leon"],amount:2750},{cities:["mty","quer"],amount:2750},{cities:["mty","leon"],amount:2750},{cities:["quer","leon"],amount:2750}]},{m3:6,kg:3e3,list:[{cities:["cdmx","gda"],amount:3e3},{cities:["cdmx","mty"],amount:3300},{cities:["cdmx","quer"],amount:2700},{cities:["cdmx","leon"],amount:3e3},{cities:["gda","mty"],amount:3e3},{cities:["gda","quer"],amount:3e3},{cities:["gda","leon"],amount:3e3},{cities:["mty","quer"],amount:3e3},{cities:["mty","leon"],amount:3e3},{cities:["quer","leon"],amount:3e3}]},{m3:7,kg:3500,list:[{cities:["cdmx","gda"],amount:3325},{cities:["cdmx","mty"],amount:3850},{cities:["cdmx","quer"],amount:3150},{cities:["cdmx","leon"],amount:3325},{cities:["gda","mty"],amount:3325},{cities:["gda","quer"],amount:3325},{cities:["gda","leon"],amount:3325},{cities:["mty","quer"],amount:3325},{cities:["mty","leon"],amount:3325},{cities:["quer","leon"],amount:3325}]},{m3:8,kg:4e3,list:[{cities:["cdmx","gda"],amount:3800},{cities:["cdmx","mty"],amount:4400},{cities:["cdmx","quer"],amount:3600},{cities:["cdmx","leon"],amount:3800},{cities:["gda","mty"],amount:3800},{cities:["gda","quer"],amount:3800},{cities:["gda","leon"],amount:3800},{cities:["mty","quer"],amount:3800},{cities:["mty","leon"],amount:3800},{cities:["quer","leon"],amount:3800}]},{m3:9,kg:4500,list:[{cities:["cdmx","gda"],amount:4275},{cities:["cdmx","mty"],amount:4950},{cities:["cdmx","quer"],amount:4050},{cities:["cdmx","leon"],amount:4275},{cities:["gda","mty"],amount:4275},{cities:["gda","quer"],amount:4275},{cities:["gda","leon"],amount:4275},{cities:["mty","quer"],amount:4275},{cities:["mty","leon"],amount:4275},{cities:["quer","leon"],amount:4275}]},{m3:10,kg:5e3,list:[{cities:["cdmx","gda"],amount:4500},{cities:["cdmx","mty"],amount:5500},{cities:["cdmx","quer"],amount:4500},{cities:["cdmx","leon"],amount:4500},{cities:["gda","mty"],amount:4500},{cities:["gda","quer"],amount:4500},{cities:["gda","leon"],amount:4500},{cities:["mty","quer"],amount:4500},{cities:["mty","leon"],amount:4500},{cities:["quer","leon"],amount:4500}]},{m3:14,kg:7e3,list:[{cities:["cdmx","gda"],amount:6300},{cities:["cdmx","mty"],amount:7700},{cities:["cdmx","quer"],amount:6300},{cities:["cdmx","leon"],amount:6300},{cities:["gda","mty"],amount:6300},{cities:["gda","quer"],amount:6300},{cities:["gda","leon"],amount:6300},{cities:["mty","quer"],amount:6300},{cities:["mty","leon"],amount:6300},{cities:["quer","leon"],amount:6300}]},{m3:18,kg:9e3,list:[{cities:["cdmx","gda"],amount:8100},{cities:["cdmx","mty"],amount:9900},{cities:["cdmx","quer"],amount:8100},{cities:["cdmx","leon"],amount:8100},{cities:["gda","mty"],amount:8100},{cities:["gda","quer"],amount:8100},{cities:["gda","leon"],amount:8100},{cities:["mty","quer"],amount:8100},{cities:["mty","leon"],amount:8100},{cities:["quer","leon"],amount:8100}]},{m3:20,kg:1e4,list:[{cities:["cdmx","gda"],amount:9e3},{cities:["cdmx","mty"],amount:11e3},{cities:["cdmx","quer"],amount:9e3},{cities:["cdmx","leon"],amount:9e3},{cities:["gda","mty"],amount:9e3},{cities:["gda","quer"],amount:9e3},{cities:["gda","leon"],amount:9e3},{cities:["mty","quer"],amount:9e3},{cities:["mty","leon"],amount:9e3},{cities:["quer","leon"],amount:9e3}]}],Co=function(e){if(e.weight){var t=Ve.a.filter(yo,(function(t){return t.kg>=e.weight}));return Ve.a.head(t)}if(e.m3){var a=Ve.a.filter(yo,(function(t){return t.m3>=e.m3}));return Ve.a.head(a)}};function xo(e){var t=e.remissionId,a=e.from,c=e.to,o=Object(n.useState)({}),r=Object(O.a)(o,2),l=r[0],i=r[1],u=Object(n.useState)([]),s=Object(O.a)(u,2),b=s[0],j=s[1],p=function(e,t){var a=Object(Re.a)({},l);a[e]=t,i(a)};return Object(n.useEffect)((function(){x.getCollection("packagingType").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));j(t)}))}),[]),Object(Oe.a)("form",{css:Object(so.b)(Oo||(Oo=Object(uo.a)(["\n        padding: 0 1rem 1rem 1rem;\n      "]))),onSubmit:function(e){return e.preventDefault()&&!1}},Object(Oe.a)("h3",null,"Agregar Contenido"),Object(Oe.a)(ct.a,{id:"outlined-basic",label:"Cantidad",variant:"outlined",type:"number",fullWidth:!0,value:l.quantity,onChange:function(e){return p("quantity",e.target.value)},css:Object(so.b)(jo||(jo=Object(uo.a)(["\n          margin-bottom: 1rem;\n        "])))}),Object(Oe.a)(Ot.a,{variant:"outlined",fullWidth:!0},Object(Oe.a)(Pe.a,{id:"packaging"},"Embalaje"),Object(Oe.a)(qe.a,{labelId:"packaging",id:"demo-simple-select",value:l.packaging,label:"Age",onChange:function(e){return p("packaging",e.target.value)},css:Object(so.b)(po||(po=Object(uo.a)(["\n            margin-bottom: 1rem;\n          "])))},b.map((function(e){return Object(Oe.a)(lo.a,{value:e.name},e.name)})))),Object(Oe.a)(ct.a,{id:"outlined-basic",label:"Descripci\xf3n",variant:"outlined",type:"text",fullWidth:!0,value:l.description,onChange:function(e){return p("description",e.target.value)},css:Object(so.b)(fo||(fo=Object(uo.a)(["\n          margin-bottom: 1rem;\n        "])))}),Object(Oe.a)(ct.a,{id:"outlined-basic",label:"Peso (kg)",variant:"outlined",type:"number",fullWidth:!0,value:l.weight,onChange:function(e){return p("weight",e.target.value)},css:Object(so.b)(go||(go=Object(uo.a)(["\n          margin-bottom: 1rem;\n        "])))}),Object(Oe.a)(ct.a,{id:"outlined-basic",label:"M3",variant:"outlined",type:"number",fullWidth:!0,value:l.m3,onChange:function(e){return p("m3",e.target.value)},css:Object(so.b)(ho||(ho=Object(uo.a)(["\n          margin-bottom: 1rem;\n        "])))}),Object(Oe.a)(io.a,{css:Object(so.b)(vo||(vo=Object(uo.a)(["\n          margin-top: 1rem;\n        "]))),variant:"contained",fullWidth:!0,onClick:function(){return f.apply(this,arguments)}},"Agregar"));function f(){return(f=Object(d.a)(m.a.mark((function e(){var n,o,r,u,s,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a&&c?l.quantity&&l.packaging&&l.description?l.weight||l.m3?((n=Object(Re.a)({},l)).weight=Number(l.weight),n.m3=Number(l.m3),n.quantity=Number(l.quantity),o=Co(n),r=o.list,u=r.filter((function(e){return e.cities.some((function(e){return e.includes(a)}))})),s=u.filter((function(e){return e.cities.some((function(e){return e.includes(c)}))})),b=s[0].amount,n.price=b,x.simpleAdd(n,"/remissions/".concat(t,"/content")).then((function(){alert("Elemento agregado"),i({})}))):alert("Ingresa peso o m3"):alert("Ingresa cantidad, embalaje y descripci\xf3n para continuar"):alert("Selecciona la bodega de salida y de entrega para poder calcular el precio")}catch(m){alert(m.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var wo,So=a(441),Eo=a(211),Yo=a.n(Eo);function ko(e){var t=e.id,a=e.from,n=e.to,c=e.list,o=Ve.a.reduce(c,(function(e,t){return e+t.price}),0),r=.16*o,l=o+r;return Object(Oe.a)(De.a,{css:Object(so.b)(wo||(wo=Object(uo.a)(["\n        margin-top: 1rem;\n      "]))),component:So.a,container:!0},Object(Oe.a)(So.a,{item:!0,md:4,sm:12},Object(Oe.a)(xo,{from:a,to:n,remissionId:t})),Object(Oe.a)(So.a,{item:!0,md:8,sm:12},Object(Oe.a)(Uc.a,null,Object(Oe.a)(Gc.a,null,Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null),Object(Oe.a)(we.a,null,"Cantidad"),Object(Oe.a)(we.a,null,"Embalaje"),Object(Oe.a)(we.a,null,"Descripci\xf3n"),Object(Oe.a)(we.a,null,"Peso"),Object(Oe.a)(we.a,null,"M3"))),Object(Oe.a)(Xc.a,null,c.map((function(e){return Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,Object(Oe.a)(oc.a,{onClick:function(){return x.delete("remissions/".concat(t,"/content"),e.id,e)},color:"primary",variant:"contained"},Object(Oe.a)(Yo.a,null))),Object(Oe.a)(we.a,null,qt()(e.quantity).format("0.00")),Object(Oe.a)(we.a,null,e.packaging),Object(Oe.a)(we.a,null,e.description),Object(Oe.a)(we.a,null,qt()(e.weight).format("0.00")),Object(Oe.a)(we.a,null,qt()(e.m3).format("0.00")))})),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Flete"),Object(Oe.a)(we.a,null,qt()(o).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Seguro"),Object(Oe.a)(we.a,null,qt()(0).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Man Carga"),Object(Oe.a)(we.a,null,qt()(0).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Man Descarga"),Object(Oe.a)(we.a,null,qt()(0).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Recolecci\xf3n"),Object(Oe.a)(we.a,null,qt()(0).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Reparto"),Object(Oe.a)(we.a,null,qt()(0).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Otros"),Object(Oe.a)(we.a,null,qt()(0).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Subtotal"),Object(Oe.a)(we.a,null,qt()(o).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"IVA 16%"),Object(Oe.a)(we.a,null,qt()(r).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Retenci\xf3n 4%"),Object(Oe.a)(we.a,null,qt()(0).format("$0,0.00"))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,{colSpan:"4"}),Object(Oe.a)(we.a,null,"Total"),Object(Oe.a)(we.a,null,qt()(l).format("$0,0.00")))))))}var Mo={name:"21tq7f",styles:"table-layout:fixed;"},Ao={name:"9vgf2w",styles:"table-layout:fixed;margin-top:1rem;"},Do={name:"9vgf2w",styles:"table-layout:fixed;margin-top:1rem;"},Io={name:"ujmjij",styles:"margin-bottom:auto;"},No={name:"15g2oxy",styles:"margin-top:1rem;"},Ro={name:"15g2oxy",styles:"margin-top:1rem;"},Fo={name:"15g2oxy",styles:"margin-top:1rem;"},Po={name:"15g2oxy",styles:"margin-top:1rem;"};function qo(e){var t,a,o=e.remission,r=e.id,l=e.paymentmethods,i=e.handleUpdate,u=e.warehouse,s=e.content,b=Object(n.useState)(null),m=Object(O.a)(b,2),d=m[0],j=m[1];return Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)(Uc.a,{component:De.a,css:Mo},Object(Oe.a)(Xc.a,null,Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,Object(Oe.a)(Ot.a,{fullWidth:!0},Object(Oe.a)(Pe.a,{id:"demo-simple-select-label"},"M\xe9todo de Pago"),Object(Oe.a)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o.paymentmethod,label:"Age",onChange:function(e){return i("paymentmethod",e.target.value)}},l.map((function(e){return Object(Oe.a)(lo.a,{value:e.clave},e.clave," - ",e.description)}))))),Object(Oe.a)(we.a,null,Object(Oe.a)(Ot.a,{fullWidth:!0},Object(Oe.a)(Pe.a,{id:"demo-simple-select-label"},"Oficina Responsable"),Object(Oe.a)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o.warehouse,label:"Age",onChange:function(e){return i("warehouse",e.target.value)}},u.map((function(e){return Object(Oe.a)(lo.a,{value:e.id},e.name)}))))),Object(Oe.a)(we.a,null,Object(Oe.a)(We.a,{value:o.declaratedValue,fullWidth:!0,onChange:function(e){return i("declaratedValue",e.target.value)},label:"Valor Declarado",type:"number"}))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,Object(Oe.a)("label",null,"D\xedas de Cr\xe9dito"),Object(Oe.a)("p",null,Object(Oe.a)(Yt,{index:"daysCredit",id:o.customer}))),Object(Oe.a)(we.a,null),Object(Oe.a)(we.a,null,Object(Oe.a)(We.a,{value:o.folio,fullWidth:!0,onChange:function(e){return i("folio",e.target.value)},label:"Folio"}))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,Object(Oe.a)("label",null,"Ruta"),Object(Oe.a)("p",null)),Object(Oe.a)(we.a,null,Object(Oe.a)(Ot.a,{fullWidth:!0},Object(Oe.a)(Pe.a,{id:"demo-simple-select-label"},"Oficina Salida"),Object(Oe.a)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o.from,label:"Age",onChange:function(e){return i("from",e.target.value)}},u.map((function(e){return Object(Oe.a)(lo.a,{value:e.index},e.name)}))))),Object(Oe.a)(we.a,null,Object(Oe.a)(Ot.a,{fullWidth:!0},Object(Oe.a)(Pe.a,{id:"demo-simple-select-label"},"Oficina Entrega"),Object(Oe.a)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o.to,label:"Age",onChange:function(e){return i("to",e.target.value)}},u.map((function(e){return Object(Oe.a)(lo.a,{value:e.index},e.name)})))))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,Object(Oe.a)(We.a,{label:"Fecha de servicio",value:y()(o.date).format("YYYY-MM-DD"),fullWidth:!0,onChange:function(e){return i("date",y()(e.target.value,"YYYY-MM-DD").valueOf())},type:"date"})),Object(Oe.a)(we.a,null,Object(Oe.a)("label",null,"Fecha de Creaci\xf3n"),Object(Oe.a)("p",null,y()(o.timestamp).format("DD-MM-YYYY")))))),Object(Oe.a)(Uc.a,{component:De.a,css:Ao},Object(Oe.a)(Xc.a,null,Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,Object(Oe.a)("label",null,"Cliente"),Object(Oe.a)("p",null,Object(Oe.a)(Yt,{id:o.customer,index:"name"}))),Object(Oe.a)(we.a,null,Object(Oe.a)("label",null,"RFC"),Object(Oe.a)("p",null,Object(Oe.a)(Yt,{id:o.customer,index:"rfc"})))),Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,Object(Oe.a)(We.a,{value:o.solicitor,fullWidth:!0,onChange:function(e){return i("solicitor",e.target.value)},label:"Solicita"})),Object(Oe.a)(we.a,null,Object(Oe.a)("label",null,"Usuario Documentador"),Object(Oe.a)("p",null,o.userEmail))))),Object(Oe.a)(Uc.a,{component:De.a,css:Do},Object(Oe.a)(Xc.a,null,Object(Oe.a)(Zc.a,null,Object(Oe.a)(we.a,null,Object(Oe.a)("h3",null,"Remitente"),Object(Oe.a)(We.a,{value:o.senderContact,fullWidth:!0,onChange:function(e){return i("senderContact",e.target.value)},label:"Informaci\xf3n de Contacto",helperText:"Obligatorio"}),Object(Oe.a)(We.a,{value:o.senderName,fullWidth:!0,onChange:function(e){return i("senderName",e.target.value)},label:"Nombre de Remitente",helperText:"En caso de ser diferente al nomble del cliente"}),Object(Oe.a)(We.a,{value:o.senderRFC,fullWidth:!0,onChange:function(e){return i("senderRFC",e.target.value)},label:"RFC de Remitente",helperText:"En caso de ser diferente al nomble del cliente"}),Object(Oe.a)(We.a,{multiline:!0,rows:4,value:o.senderComments,fullWidth:!0,onChange:function(e){return i("senderComments",e.target.value)},label:"Comentarios",helperText:"En caso de ser diferente al nomble del cliente",css:Io}),Object(Oe.a)(Ot.a,{fullWidth:!0},Object(Oe.a)(Pe.a,{id:"demo-simple-select-label"},"Tipo de Recolecci\xf3n"),Object(Oe.a)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o.senderType,label:"Age",onChange:function(e){return i("senderType",e.target.value)}},Object(Oe.a)(lo.a,{value:"sucursal"},"En Bodega"),Object(Oe.a)(lo.a,{value:"personalizada"},"Domicilio Remitente"))),"sucursal"===o.senderType?Object(Oe.a)(io.a,{variant:"contained",fullWidth:!0,css:No,onClick:function(){return j("sender-bodega")}},"Seleccionar Sucursal"):"personalizada"===o.senderType?Object(Oe.a)(io.a,{variant:"contained",fullWidth:!0,css:Ro,onClick:function(){return j("sender-personalizado")}},"Establecer Direcci\xf3n"):"",Object(Oe.a)("p",null,null===(t=o.senderAddress)||void 0===t?void 0:t.formatted_address)),Object(Oe.a)(we.a,null,Object(Oe.a)("h3",null,"Destinatario"),Object(Oe.a)(We.a,{value:o.receiverContact,fullWidth:!0,onChange:function(e){return i("receiverContact",e.target.value)},label:"Informaci\xf3n de Contacto",helperText:"Obligatorio"}),Object(Oe.a)(We.a,{value:o.receiverName,fullWidth:!0,onChange:function(e){return i("receiverName",e.target.value)},label:"Nombre de Destinatario"}),Object(Oe.a)(We.a,{value:o.receiverRFC,fullWidth:!0,onChange:function(e){return i("receiverRFC",e.target.value)},label:"RFC de Destinatario"}),Object(Oe.a)(We.a,{value:o.receiverPhone,fullWidth:!0,onChange:function(e){return i("receiverPhone",e.target.value)},label:"Tel\xe9fono de Destinatario",helperText:"10 d\xedgitos, sin espacios, s\xf3lo numeros"}),Object(Oe.a)(We.a,{value:o.receiverEmail,fullWidth:!0,onChange:function(e){return i("receiverEmail",e.target.value)},label:"Correo de destinatario"}),Object(Oe.a)(We.a,{multiline:!0,rows:4,value:o.receiverComments,fullWidth:!0,onChange:function(e){return i("receiverComments",e.target.value)},label:"Comentarios"}),Object(Oe.a)(Ot.a,{fullWidth:!0},Object(Oe.a)(Pe.a,{id:"demo-simple-select-label"},"Tipo de Entrega"),Object(Oe.a)(qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o.receiverType,label:"Age",onChange:function(e){return i("receiverType",e.target.value)}},Object(Oe.a)(lo.a,{value:"sucursal"},"En Bodega"),Object(Oe.a)(lo.a,{value:"personalizada"},"Domicilio Destinatario"))),"sucursal"===o.receiverType?Object(Oe.a)(io.a,{variant:"contained",fullWidth:!0,css:Fo,onClick:function(){return j("receiver-bodega")}},"Seleccionar Sucursal"):"personalizada"===o.receiverType?Object(Oe.a)(io.a,{variant:"contained",fullWidth:!0,css:Po,onClick:function(){return j("receiver-personalizado")}},"Establecer Direcci\xf3n"):"",Object(Oe.a)("p",null,null===(a=o.receiverAddress)||void 0===a?void 0:a.formatted_address))))),Object(Oe.a)(ko,{list:s,from:o.from,to:o.to,id:r}),Object(Oe.a)(Ne,{open:!!d,handleClose:function(){return j(null)}},"sender-bodega"===d?Object(Oe.a)(mo,{warehouse:u,handleSelect:function(e){return i("senderAddress",e)},handleClose:function(){return j(null)}}):"sender-personalizado"===d?Object(Oe.a)(dc,{handleSelect:function(e){i("senderAddress",e),j(null)},handleClose:function(){return j(null)}}):"receiver-bodega"===d?Object(Oe.a)(mo,{warehouse:u,handleSelect:function(e){return i("receiverAddress",e)},handleClose:function(){return j(null)}}):"receiver-personalizado"===d?Object(Oe.a)(dc,{handleSelect:function(e){i("receiverAddress",e),j(null)},handleClose:function(){return j(null)}}):""))}a(301);function Wo(e){var t=e.data,a=e.customer,n=e.content,c=function(){var e=Object(d.a)(m.a.mark((function e(){var c,o,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.map((function(e,t){return{quantity:1,discount:0,product:{description:e.description,product_key:"01010101",price:e.price,tax_included:!1,conditions:a.daysCredit?Number(a.daysCredit):null}}})),o={legalName:a.name,email:a.email,rfc:a.rfc,items:c,paymentForm:t.paymentmethod},e.next=4,mc.a.get("http://localhost:8080/api/facturapi/createinvoice",{params:{data:JSON.stringify(o)}});case 4:r=e.sent,x.update("remissions",t.id,"invoice",r.data).then((function(){alert("Factura Creada")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc.a.get("http://localhost:8080/api/facturapi/sendinvoice",{params:{id:t.invoice.id}}).then((function(){alert("Factura enviada por correo electr\xf3nico")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mc()({url:"http://localhost:8080/api/facturapi/invoicedownloader",method:"GET",responseType:"blob",params:{id:t.invoice.id}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","factura.zip"),document.body.appendChild(a),a.click()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc.a.get("http://localhost:8080/api/facturapi/cancelinvoice",{params:{id:t.invoice.id}});case 2:a=e.sent,console.log(a.data),x.update("remissions",t.id,"invoice",a.data).then((function(){alert("Factura Cancelada")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.a)("div",null,t.invoice&&"valid"!==t.invoice.status&&Object(Oe.a)("p",null,"Factura cancelada"),t.invoice?Object(Oe.a)(ge.a,{variant:"text",color:"primary","aria-label":"contained primary button group"},Object(Oe.a)(he.a,{onClick:o},"Enviar factura"),Object(Oe.a)(he.a,{onClick:r},"Descargar factura"),Object(Oe.a)(he.a,{onClick:l},"Cancelar Factura")):Object(Oe.a)(ge.a,{variant:"text",color:"primary","aria-label":"contained primary button group"},Object(Oe.a)(he.a,{onClick:c},"Timbrar factura")))}var To,_o,Lo,zo,Vo={name:"q5fqw0",styles:"padding:1rem;"},Bo={name:"15g2oxy",styles:"margin-top:1rem;"},$o={name:"acwcvw",styles:"margin-bottom:1rem;"},Uo={name:"acwcvw",styles:"margin-bottom:1rem;"};function Go(e){var t=e.data,a=Object(n.useState)(""),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(""),i=Object(O.a)(l,2),u=i[0],s=i[1],b=Object(n.useState)(""),j=Object(O.a)(b,2),p=j[0],f=j[1];return Object(n.useEffect)((function(){var e=y()().format("YYYY-MM-DD");r(e)}),[]),Object(Oe.a)("div",{css:Vo},Object(Oe.a)(I.a,{align:"center",variant:"h4"},"Agregar Pago"),Object(Oe.a)(We.a,{label:"Fecha de Pago",fullWidth:!0,value:o||"",onChange:function(e){return r(e.target.value)},type:"date",css:Bo}),Object(Oe.a)(We.a,{label:"Referencia",fullWidth:!0,value:u||"",onChange:function(e){return s(e.target.value)},css:$o,type:"text"}),Object(Oe.a)(We.a,{label:"Monto",fullWidth:!0,value:p||"",onChange:function(e){return f(e.target.value)},css:Uo,type:"number"}),Object(Oe.a)(he.a,{onClick:function(){return g.apply(this,arguments)},fullWidth:!0,color:"secondary",variant:"outlined"},"Agregar"));function g(){return(g=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.invoice?"valid"===t.invoice.status?o&&p?(a={date:y()(o,"YYYY-MM-DD").valueOf(),isoDate:y()(o,"YYYY-MM-DD").toISOString(),type:"abono",concept:"Pago de factura ".concat(t.invoice.date),amount:Number(p),remission:t.id,uuid:t.invoice.id,reference:u},x.simpleAdd(a,"finance-moves").then((function(){alert("Movimiento agregado"),f(""),s("")}))):alert("Completa todos los campos para continuar"):alert("No puedes agregar pagos a facturas canceladas"):alert("No puedes agregar un pago a una remisi\xf3n sin factura")}catch(n){alert(n.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}function Zo(e){var t=e.content,a=e.data,o=e.customer,r=Object(n.useState)([]),l=Object(O.a)(r,2),i=l[0],u=l[1],s=Object(n.useState)(!1),b=Object(O.a)(s,2),j=b[0],p=b[1],f=Ve.a.reduce(t,(function(e,t){return e+t.price}),0),g=f+.16*f,h=Ve.a.reduce(i,(function(e,t){return e+t.amount}),0),v=function(){var e=Object(d.a)(m.a.mark((function e(){var t,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.map((function(e){return{date:e.isoDate,payment_form:a.paymentmethod,related:[{uuid:a.invoice.uuid,amount:e.amount,installment:1,last_balance:g}]}})),n={legalName:o.name,email:o.email,rfc:o.rfc,items:t},e.next=4,mc.a.get("http://localhost:8080/api/facturapi/createpaymentinvoice",{params:{data:JSON.stringify(n)}});case 4:c=e.sent,x.update("remissions",a.id,"paymentInvoice",c.data).then((function(){alert("Complemento Creado")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc.a.get("http://localhost:8080/api/facturapi/sendinvoice",{params:{id:a.invoice.id}}).then((function(){alert("Factura enviada por correo electr\xf3nico")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mc()({url:"http://localhost:8080/api/facturapi/invoicedownloader",method:"GET",responseType:"blob",params:{id:a.invoice.id}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","factura.zip"),document.body.appendChild(a),a.click()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc.a.get("http://localhost:8080/api/facturapi/cancelinvoice",{params:{id:a.invoice.id}});case 2:t=e.sent,console.log(t.data),x.update("remissions",a.id,"invoice",t.data).then((function(){alert("Factura Cancelada")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x.getCollection("finance-moves").where("remission","==",a.id).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));u(t)}))}),[]),Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("div",{css:Object(so.b)(To||(To=Object(uo.a)(["\n          width: 100%;\n          display: flex;\n        "])))},a.invoice&&Object(Oe.a)(he.a,{onClick:function(){return p(!0)},css:Object(so.b)(_o||(_o=Object(uo.a)(["\n              margin-left: auto;\n            "]))),color:"secondary",variant:"contained",size:"small"},Object(Oe.a)(Za.a,{css:Object(so.b)(Lo||(Lo=Object(uo.a)(["\n                margin-right: 0.5rem;\n              "])))})," ","Agregar Pago")),Object(Oe.a)(ye.a,null,Object(Oe.a)(Ce.a,null,Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,"Total de Remisi\xf3n"),Object(Oe.a)(we.a,null,qt()(g).format("$0,0.00")),Object(Oe.a)(we.a,null,"Remanente"),Object(Oe.a)(we.a,null,qt()(g-h).format("$0,0.00"))),Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,"Pagos")),Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,"Fecha de Pago"),Object(Oe.a)(we.a,null,"Concepto de Pago"),Object(Oe.a)(we.a,null,"Referencia"),Object(Oe.a)(we.a,null,"Monto"))),Object(Oe.a)(Se.a,null,i.map((function(e){return Object(Oe.a)(xe.a,null,Object(Oe.a)(we.a,null,y()(e.date).format("DD-MM-YYYY")),Object(Oe.a)(we.a,null,e.concept),Object(Oe.a)(we.a,null,e.reference),Object(Oe.a)(we.a,null,qt()(e.amount).format("$0,0.00")))})))),Object(Oe.a)("div",{css:Object(so.b)(zo||(zo=Object(uo.a)(["\n          width: 100%;\n        "])))},a.paymentInvoice?Object(Oe.a)(ge.a,{variant:"text",color:"primary","aria-label":"contained primary button group"},Object(Oe.a)(he.a,{onClick:C},"Enviar Complemento"),Object(Oe.a)(he.a,{onClick:w},"Descargar Complemento"),Object(Oe.a)(he.a,{onClick:S},"Cancelar Complemento")):Object(Oe.a)(ge.a,{variant:"text",color:"primary","aria-label":"contained primary button group"},Object(Oe.a)(he.a,{onClick:v},"Emitir complemento de pago"))),Object(Oe.a)(Ne,{open:j,handleClose:function(){return p(null)}},Object(Oe.a)(Go,{data:a})))}var Xo=["children","value","index"];function Ho(e){var t=e.children,a=e.value,n=e.index,c=Object(ao.a)(e,Xo);return Object(Oe.a)("div",Object(at.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&Object(Oe.a)(no.a,{sx:{p:3}},Object(Oe.a)(co.a,null,t)))}function Jo(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Ko(e){var t=e.match.params.id,a=Object(n.useState)(null),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(0),i=Object(O.a)(l,2),u=i[0],s=i[1],b=Object(n.useState)([]),m=Object(O.a)(b,2),d=m[0],j=m[1],p=Object(n.useState)([]),f=Object(O.a)(p,2),g=f[0],h=f[1],v=Object(n.useState)([]),y=Object(O.a)(v,2),C=y[0],w=y[1],S=Object(n.useState)([]),E=Object(O.a)(S,2),Y=E[0],k=E[1];return Object(n.useEffect)((function(){x.getDocument("remissions",t).onSnapshot((function(e){var t=e.data();x.getDocument("customers",t.customer).get().then((function(e){var a=e.data();w(a),r(t)}))})),x.getCollection("remissions/".concat(t,"/content")).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));k(t)})),x.getCollection("paymentmethods").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));j(t)})),x.getCollection("warehouse").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));h(t)}))}),[t]),o?Object(Oe.a)(fe.a,null,Object(Oe.a)(no.a,{sx:{width:"100%"}},Object(Oe.a)(no.a,{sx:{borderBottom:1,borderColor:"divider"}},Object(Oe.a)(oo.a,{value:u,onChange:function(e,t){s(t)},"aria-label":"basic tabs example"},Object(Oe.a)(ro.a,Object(at.a)({label:"Detalle"},Jo(0))),Object(Oe.a)(ro.a,Object(at.a)({label:"Facturaci\xf3n"},Jo(1))),Object(Oe.a)(ro.a,Object(at.a)({label:"Evidencias"},Jo(2))),Object(Oe.a)(ro.a,Object(at.a)({label:"Estado de Cuenta"},Jo(3))))),Object(Oe.a)(Ho,{value:u,index:0},Object(Oe.a)(qo,{paymentmethods:d,remission:o,warehouse:g,id:t,content:Y,handleUpdate:function(e,a){x.update("remissions",t,e,a)}})),Object(Oe.a)(Ho,{value:u,index:1},Object(Oe.a)(Wo,{data:o,customer:C,content:Y})),Object(Oe.a)(Ho,{value:u,index:2},"Item Three"),Object(Oe.a)(Ho,{value:u,index:3},Object(Oe.a)(Zo,{content:Y,data:o,customer:C})))):Object(Oe.a)(pe,null)}var Qo=a(212),er=a.n(Qo);function tr(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1];return Object(Oe.a)("div",null,Object(Oe.a)("div",null,Object(Oe.a)(er.a,{className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",onFileLoaded:function(e,t){return o.apply(this,arguments)}})),Object(Oe.a)("p",null,JSON.stringify(a)));function o(){return(o=Object(d.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve.a.drop(t,2),n=t.map((function(e,t){return{m3:Number(e[0]),kg:Number(e[1]),list:[{cities:["cdmx","gda"],amount:Number(e[2])},{cities:["cdmx","mty"],amount:Number(e[3])},{cities:["cdmx","quer"],amount:Number(e[4])},{cities:["cdmx","leon"],amount:Number(e[5])},{cities:["gda","mty"],amount:Number(e[6])},{cities:["gda","quer"],amount:Number(e[7])},{cities:["gda","leon"],amount:Number(e[8])},{cities:["mty","quer"],amount:Number(e[9])},{cities:["mty","leon"],amount:Number(e[10])},{cities:["quer","leon"],amount:Number(e[2])}]}})),c(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var ar={name:"15g2oxy",styles:"margin-top:1rem;"};function nr(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0];t[1];return Object(n.useEffect)((function(){x.getCollection("localidades").get().then((function(e){console.log(e.size)}))}),[]),Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)("h3",null,"Uploader"),Object(Oe.a)(he.a,{onClick:function(){return o.apply(this,arguments)},css:ar,variant:"contained",fullWidth:!0,color:"primary"},"Agregar"));function o(){return(o=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.forEach((function(e,t){x.simpleAdd(e,"localidades")}))}catch(t){alert(t.message)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var cr=Object(F.a)((function(e){return{root:{display:"flex"},drawer:Object(j.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(j.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(j.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:Object(j.a)({flexGrow:1,padding:e.spacing(3)},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240})}}));var or=Object(F.a)((function(e){return{formItem:{marginTop:e.spacing(2)}}}));var rr=a(227),lr=a(160),ir=a(159),ur=Object(rr.a)({palette:{primary:lr.a,secondary:ir.a,error:{main:lr.a.A400}}}),sr=Object(F.a)((function(e){return{formItem:{marginTop:e.spacing(2)}}}));var br=Object(Oe.a)(u.a,{theme:ur},Object(Oe.a)(s.a,null),Object(Oe.a)(l.a,null,Object(Oe.a)(i.c,null,Object(Oe.a)(i.a,{path:"/registro",component:function(e){var t=sr(),a=Object(n.useState)(""),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(""),i=Object(O.a)(l,2),u=i[0],s=i[1],b=Object(n.useState)(""),j=Object(O.a)(b,2),p=j[0],f=j[1];return Object(Oe.a)(ve.a,{height:"100vh",display:"flex",alignItems:"center"},Object(Oe.a)(fe.a,{style:{padding:"2.5rem"},component:De.a,maxWidth:"xs"},Object(Oe.a)(I.a,{variant:"h3",component:"h1",color:"primary",align:"center"},"Registro"),Object(Oe.a)(We.a,{label:"Nombre",value:o,onChange:function(e){return r(e.target.value)},fullWidth:!0,variant:"outlined",className:t.formItem}),Object(Oe.a)(We.a,{label:"Email",value:u,onChange:function(e){return s(e.target.value)},fullWidth:!0,variant:"outlined",className:t.formItem}),Object(Oe.a)(We.a,{label:"Password",value:p,onChange:function(e){return f(e.target.value)},fullWidth:!0,variant:"outlined",className:t.formItem,type:"password"}),Object(Oe.a)(he.a,{onClick:function(){return g.apply(this,arguments)},color:"primary",className:t.formItem,fullWidth:!0,variant:"contained"},"Entrar")));function g(){return(g=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{o&&u&&p?x.register(o,u,p).then((function(){e.history.push("/")})):alert("Completa todos los campos para continuar")}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}),Object(Oe.a)(i.a,{path:"/iniciar-sesion",component:function(e){var t=or(),a=Object(n.useState)(""),c=Object(O.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(""),i=Object(O.a)(l,2),u=i[0],s=i[1];return Object(Oe.a)(ve.a,{height:"100vh",display:"flex",alignItems:"center"},Object(Oe.a)(fe.a,{style:{padding:"2.5rem"},component:De.a,maxWidth:"xs"},Object(Oe.a)(I.a,{variant:"h3",component:"h1",color:"primary",align:"center"},"Iniciar Sesi\xf3n"),Object(Oe.a)(We.a,{label:"Email",value:o,onChange:function(e){return r(e.target.value)},fullWidth:!0,variant:"outlined",className:t.formItem}),Object(Oe.a)(We.a,{label:"Password",value:u,onChange:function(e){return s(e.target.value)},fullWidth:!0,variant:"outlined",className:t.formItem,type:"password"}),Object(Oe.a)(he.a,{onClick:function(){return b.apply(this,arguments)},color:"primary",className:t.formItem,fullWidth:!0,variant:"contained"},"Entrar")));function b(){return(b=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{o&&u?x.login(o,u).then((function(){e.history.push("/")})):alert("Completa todos los campos para continuar")}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}),Object(Oe.a)(i.a,{path:"/",component:function(e){var t=e.location.pathname.split("/")[1],a=e.container,o=cr(),r=Object(P.a)(),u=Object(n.useState)(!1),s=Object(O.a)(u,2),b=s[0],j=s[1],p=Object(n.useState)(void 0),f=Object(O.a)(p,2),g=f[0],h=f[1];Object(n.useEffect)((function(){x.isInitialized().then((function(t){t?x.userSession().then((function(t){"admin"===t.rol||"agent"===t.rol?h(t):x.logout().then((function(){alert("No tienes los permisos necesarios para continuar"),e.history.push("/iniciar-sesion")}))})):e.history.push("/iniciar-sesion")}))}),[e.history]);var v=function(){j(!b)},y=Object(Oe.a)("div",null,Object(Oe.a)("div",{className:o.toolbar}),Object(Oe.a)(w.a,null),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,{selected:""===t||void 0===t,component:l.b,to:"/",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(W.a,null)),Object(Oe.a)(k.a,{primary:"Dashboard"})),Object(Oe.a)(E.a,{selected:"ventas"===t,component:l.b,to:"/ventas",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(H.a,null)),Object(Oe.a)(k.a,{primary:"Ventas"})),Object(Oe.a)(E.a,{selected:"remisiones"===t,component:l.b,to:"/remisiones",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(me.a,null)),Object(Oe.a)(k.a,{primary:"Remisiones"})),Object(Oe.a)(E.a,{selected:"compras"===t,component:l.b,to:"/compras",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(K.a,null)),Object(Oe.a)(k.a,{primary:"Compras"})),Object(Oe.a)(E.a,{selected:"contabilidad"===t,component:l.b,to:"/contabilidad",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(U.a,null)),Object(Oe.a)(k.a,{primary:"Contabilidad"})),Object(Oe.a)(E.a,{selected:"almacen"===t,component:l.b,to:"/almacen",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(ee.a,null)),Object(Oe.a)(k.a,{primary:"Almacenes y Oficinas"})),Object(Oe.a)(E.a,{selected:"viajes"===t,component:l.b,to:"/viajes",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(ae.a,null)),Object(Oe.a)(k.a,{primary:"Viajes"})),Object(Oe.a)(E.a,{selected:"vehiculos"===t,component:l.b,to:"/vehiculos",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(ce.a,null)),Object(Oe.a)(k.a,{primary:"Veh\xedculos"})),Object(Oe.a)(E.a,{selected:"nomina"===t,component:l.b,to:"/nomina",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(re.a,null)),Object(Oe.a)(k.a,{primary:"N\xf3mina"})),Object(Oe.a)(E.a,{selected:"cotizaciones"===t,component:l.b,to:"/cotizaciones",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(_.a,null)),Object(Oe.a)(k.a,{primary:"Cotizaciones"}))),Object(Oe.a)(w.a,null),Object(Oe.a)(S.a,null,Object(Oe.a)(E.a,{selected:"mensajes"===t,component:l.b,to:"/mensajes",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(se.a,null)),Object(Oe.a)(k.a,{primary:"Mensajes"})),Object(Oe.a)(E.a,{selected:"vendedores"===t,component:l.b,to:"/vendedores",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(re.a,null)),Object(Oe.a)(k.a,{primary:"Vendedores"})),Object(Oe.a)(E.a,{selected:"configuracion"===t,component:l.b,to:"/configuracion",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(z.a,null)),Object(Oe.a)(k.a,{primary:"Configuraci\xf3n"})),Object(Oe.a)(E.a,{selected:"seguimiento"===t,component:l.b,to:"/seguimiento",button:!0},Object(Oe.a)(Y.a,null,Object(Oe.a)(ie.a,null)),Object(Oe.a)(k.a,{primary:"Seguimiento"}))));return g?Object(Oe.a)(c.a.Fragment,null,Object(Oe.a)(M.a,{position:"fixed",className:o.appBar},Object(Oe.a)(A.a,null,Object(Oe.a)(D.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:v,className:o.menuButton},Object(Oe.a)(B.a,null)),Object(Oe.a)(I.a,{style:{color:"#fff",fontWeight:"700"},variant:"h6",noWrap:!0},"Panel de Administrador"),Object(Oe.a)(D.a,{onClick:function(){return C.apply(this,arguments)},style:{marginLeft:"auto"}},Object(Oe.a)(Z.a,null)))),Object(Oe.a)("nav",{className:o.drawer,"aria-label":"mailbox folders"},Object(Oe.a)(N.a,{smUp:!0,implementation:"css"},Object(Oe.a)(R.a,{container:a,variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:b,onClose:v,classes:{paper:o.drawerPaper},ModalProps:{keepMounted:!0}},y)),Object(Oe.a)(N.a,{xsDown:!0,implementation:"css"},Object(Oe.a)(R.a,{classes:{paper:o.drawerPaper},variant:"permanent",open:!0},y))),Object(Oe.a)("main",{className:o.content},Object(Oe.a)("div",{className:o.toolbar}),Object(Oe.a)(i.c,null,Object(Oe.a)(i.a,{path:"/excel-reader",render:function(e){return Object(Oe.a)(tr,e)}}),Object(Oe.a)(i.a,{path:"/ventas",render:function(e){return Object(Oe.a)(Bt,e)}}),Object(Oe.a)(i.a,{path:"/compras",render:function(e){return Object(Oe.a)(Ba,e)}}),Object(Oe.a)(i.a,{path:"/contabilidad",render:function(e){return Object(Oe.a)(fn,e)}}),Object(Oe.a)(i.a,{path:"/remisiones",render:function(e){return Object(Oe.a)(eo,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/remisiones/detalle/:id",render:function(e){return Object(Oe.a)(Ko,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/almacen",render:function(e){return Object(Oe.a)(wn,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/almacen/:id",render:function(e){return Object(Oe.a)(hc,e)}}),Object(Oe.a)(i.a,{path:"/viajes",render:function(e){return Object(Oe.a)(Rn,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/viajes/:id",render:function(e){return Object(Oe.a)(Vc,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/nomina",render:function(e){return Object(Oe.a)(Yc,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/nomina/:id",render:function(e){return Object(Oe.a)(_c,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/vehiculos",render:function(e){return Object(Oe.a)(_n,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/vehiculos/:id",render:function(e){return Object(Oe.a)(Lc,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/cotizaciones",render:function(e){return Object(Oe.a)(Dt,e)}}),Object(Oe.a)(i.a,{path:"/vendedores",render:function(e){return Object(Oe.a)(ta,e)}}),Object(Oe.a)(i.a,{path:"/mensajes",render:function(e){return Object(Oe.a)(Zn,e)}}),Object(Oe.a)(i.a,{path:"/configuracion",render:function(e){return Object(Oe.a)(tc,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/configuracion/catalogos",render:function(e){return Object(Oe.a)(Tc,e)},exact:!0}),Object(Oe.a)(i.a,{path:"/uploader",render:function(e){return Object(Oe.a)(nr,e)},exact:!0})))):Object(Oe.a)(pe,null);function C(){return(C=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{x.logout().then((function(){e.history.push("/iniciar-sesion")}))}catch(a){alert(a.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}))));r.a.render(br,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[259,1,2]]]);
//# sourceMappingURL=main.a2acf029.chunk.js.map